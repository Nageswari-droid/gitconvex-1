(this.webpackJsonpgitconvex=this.webpackJsonpgitconvex||[]).push([[0],{43:function(e,t,a){e.exports=a(75)},48:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(40),l=a.n(o),c=a(2),s=a(5),i=a(19),d=(a(48),r.a.createContext({hcDone:!1,platform:"",git:"",node:"",globalRepoId:"",hcParams:{},presentRepo:[],modifiedGitFiles:[],gitUntrackedFiles:[],gitTrackedFiles:[]})),m=a(89),u=a(90),g=a(91);function b(e){var t=[{link:"/dashboard/repository",icon:r.a.createElement(m.a,{style:{color:"grey",fontSize:"36px"}}),label:"Repositories"},{link:"/dashboard/settings",icon:r.a.createElement(u.a,{style:{color:"grey",fontSize:"36px"}}),label:"Settings"},{link:"/dashboard/help",icon:r.a.createElement(g.a,{style:{color:"grey",fontSize:"36px"}}),label:"Help"}];return r.a.createElement("div",{className:"dashboard-leftpane w-1/4 shadow-md block p-3 bg-white-400"},r.a.createElement("div",{className:"flex justify-center items-center bg-blue-100 cursor-pointer",onClick:function(t){e.parentProps.history.push("/dashboard")}},r.a.createElement("div",{className:"block dashboard-leftpane__logo"}),r.a.createElement("div",{className:"font-mono text-2xl p-4 text-3xl"},r.a.createElement("span",{className:"font-bold mx-2 border-b-4 border-pink-400"},"Git"),"Convex")),r.a.createElement("div",{className:"mt-32 cursor-pointer"},t.map((function(e){return r.a.createElement(i.b,{to:"".concat(e.link),exact:!0,activeClassName:"bg-gray-300",className:"flex border-b border-black-100 p-3 hover:bg-gray-100",key:e.label},r.a.createElement("div",{className:"flex"},r.a.createElement("div",null,e.icon),r.a.createElement("div",{className:"ml-2 text-2xl text-gray-700"},e.label)))}))))}var p=a(3),f=a.n(p),x="".concat("http","://").concat(window.location.hostname,":").concat(9001,"/").concat("gitconvexapi");function h(e){var t=Object(n.useState)(""),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),d=i[0],m=i[1],u=Object(n.useState)(!1),g=Object(c.a)(u,2),b=g[0],p=g[1],h=Object(n.useState)(!1),E=Object(c.a)(h,2),v=E[0],y=E[1],N=Object(n.useRef)(),w=Object(n.useRef)(),O=Object(n.useRef)();function C(){p(!1),y(!1)}return r.a.createElement("div",{className:"block text-center justify-center my-20 p-6 rounded-lg shadow-md border-2 border-gray-200 w-1/2 mx-auto"},r.a.createElement("div",{className:"repo-form block"},v?r.a.createElement("div",{className:"my-6 mx-auto block p-3 w-1/2 rounded-lg shadow-sm border border-green-500 bg-green-200 text-xl text-green-800 text-center"},"New repo added"):b?r.a.createElement("div",{className:"my-6 mx-auto block p-3 w-1/2 rounded-lg shadow-sm border border-red-500 bg-red-200 text-xl text-red-800 text-center"},"Process failed! Please try again"):null,r.a.createElement("div",{className:"my-3 text-center block text-3xl font-sans text-gray-800"},"Enter Repo Details"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Enter a Repository Name",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){l(e.target.value)},ref:N,onClick:function(){C()}})),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Enter repository path",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){m(e.target.value)},ref:w,onClick:function(){C()}})),r.a.createElement("div",{className:"cursor-pointer my-4"},r.a.createElement("input",{id:"initCheck",type:"checkbox",value:"initRepo",ref:O}),r.a.createElement("label",{htmlFor:"initCheck",className:"mx-2 text-gray-700 font-sans font-semibold"},"Check this if the folder is not a git repo")),r.a.createElement("div",{className:"flex w-11/12 justify-start mx-auto my-5 cursor-pointer"},r.a.createElement("div",{className:"block w-1/2 mx-3 p-3 my-2 bg-green-400 rounded-md shadow-md hover:bg-green-500",onClick:function(){!function(e,t){if(e&&t){var a=!1;O.current.checked&&(a=!0);var n=JSON.stringify(JSON.stringify({repoName:e,repoPath:t,initCheck:a}));f()({url:x,method:"POST",data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("ADD_REPO",'", payload: ').concat(n,"){\n                  addRepo{\n                    message\n                  }\n                }\n              }\n            ")}}).then((function(e){if(e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.addRepo.message;t&&!t.match(/FAIL/g)?(y(!0),p(!1),N.current.value="",w.current.value="",O.current.value=""):(p(!0),y(!1))}else p(!0),y(!1)})).catch((function(e){console.log(e)}))}else p(!0)}(o,d)}},"Submit"),r.a.createElement("div",{className:"my-2 w-1/2 block mx-3 p-3 bg-red-400 rounded-md shadow-md hover:bg-red-500",onClick:function(){e.formEnable(!1)}},"Close"))))}var E=a(8),v=a(13),y=a(17),N=a(7);function w(e){E.b.add(v.a,y.a);var t=e.repoData,a=Object(n.useState)(""),o=Object(c.a)(a,2),l=o[0],s=o[1];Object(n.useEffect)((function(){var t=e.repoData.id,a=JSON.stringify(JSON.stringify({repoId:t}));f()({url:x,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n    \n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                    gitRepoStatus {\n                      gitTotalCommits\n                      gitTotalTrackedFiles  \n                      gitCurrentBranch  \n                    }\n                  }\n                }\n              ")}}).then((function(e){s(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){e&&console.log("API GitStatus error occurred : "+e)}))}),[e]);var d=t.repoName,m="";if(d)if(d.split(" ").length>1){var u=d.split(" ");m=(m=u[0].substring(0,1)+u[1].substring(0,1)).toUpperCase()}else m=d.substring(0,1).toUpperCase();return r.a.createElement(i.b,{to:"/dashboard/repository/".concat(t.id),className:"w-11/12 xl:w-1/3 lg:w-2/3 md:w-1/2 block p-6 mx-6 rounded-lg border border-gray-300 shadow-md my-6 text-center bg-indigo-500 cursor-pointer hover:shadow-xl",key:t.repoName},r.a.createElement("div",{className:"text-center bg-indigo-300 text-white text-5xl my-2 px-10 py-5 rounded shadow"},m),r.a.createElement("div",{className:"my-4 font-sans text-2xl text-white border-dashed border-b-2 pb-2 border-indigo-300"},t.repoName),r.a.createElement("div",{className:"w-full flex justify-center mx-auto my-2 text-center rounded-md shadow-sm align-middle"},r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-l-md my-2 items-center"},r.a.createElement(N.a,{className:"my-auto",icon:["fas","grip-lines"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},l.gitTotalCommits," Commits")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 my-2 items-center"},r.a.createElement(N.a,{className:"my-auto",icon:["fas","file-alt"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},l.gitTotalTrackedFiles," Tracked Files")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-r-md my-2 items-center"},r.a.createElement(N.a,{className:"my-auto",icon:["fas","code-branch"]}),r.a.createElement("div",{className:"mx-2  text-sm text-center font-sans text-center font-semibold"},l.gitCurrentBranch))))}function O(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],u=i[1],g=Object(n.useContext)(d).dispatch;Object(n.useEffect)((function(){var e=x;f()({url:e,method:"POST",data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n              fetchRepo{\n                repoId\n                repoName\n                repoPath\n              }\n            }\n          }\n        ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var a=t.repoId,n=t.repoName,r=[];a.forEach((function(e,t){r.push({id:e,repoName:n[t]})})),l(r),g({type:"PRESENT_REPO",payload:r})}}))}),[m,g]);return r.a.createElement("div",{className:"flex flex-wrap mx-auto justify-center text-center align-middle"},m?r.a.createElement(h,{formEnable:function(e){u(e)}}):function(){var e=o;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full mx-auto justify-around flex flex-wrap pb-40"},r.a.createElement(r.a.Fragment,null,e.length>0?r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(w,{key:e.id,repoData:e})}))):r.a.createElement("div",{className:"mx-auto w-3/4 rounded-md text-center shadow bg-gray-200 text-gray-500 font-sans p-10 my-10 text-xl"},"No repos present. Press + to add a new repo"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed bottom-0 right-0 mb-16 mr-20 cursor-pointer border-2 border-indigo-100 shadow-lg bg-indigo-500 hover:bg-indigo-400 rounded-full h-16 w-16 pb-1 flex items-center justify-center text-3xl text-white font-sans font-black",onClick:function(){u(!0)},onMouseEnter:function(e){e.stopPropagation(),e.preventDefault();e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-48 mt-16 text-center font-sans font-medium border border-gray-300 text-sm my-2 fixed">Click to add a new repo</div>'},onMouseLeave:function(e){e.target.innerHTML="+"}},"+")))}())}function C(e){var t=e.params,a=t.platform,n=t.gitVersion,o=t.nodeVersion,l=[{label:"Platform",value:a},{label:"Git",value:n},{label:"Node",value:o}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dashboard-rightpane w-11/12 mx-auto justify-center overflow-auto"},r.a.createElement("div",{className:"w-11/12 p-3 my-4 rounded-lg shadow-md flex rightpane-details flex justify-between mx-auto bg-blue-100 border-2 border-blue-100"},l.map((function(e){return r.a.createElement("div",{key:e.label},r.a.createElement("span",{className:"rightpane-details__header"},e.label),""!==e.value?r.a.createElement("span",{className:"bg-green-200 border-green-800 text-green-900 p-2 rounded-lg hc-param",id:"hc-param__".concat(e.label)},e.value):r.a.createElement("span",{className:"rounded-md bg-red-200 text-red-900 font-bold p-2"},"Invalid"))}))),function(){if(a&&n&&o)return r.a.createElement(O,{parentProps:e})}()))}var k=a(28),j=a.n(k),S=a(41),I=a(6),T=a(20),A=a.n(T),F=a(92);function _(){var e=Object(n.useContext)(d),t=e.state,a=e.dispatch,o=t.globalRepoId,l=Object(n.useState)([]),s=Object(c.a)(l,2),i=s[0],m=s[1],u=Object(n.useState)("Click on a file item to see the difference"),g=Object(c.a)(u,2),b=g[0],p=g[1],h=Object(n.useState)([]),E=Object(c.a)(h,2),v=E[0],y=E[1],N=Object(n.useState)(""),w=Object(c.a)(N,2),O=w[0],C=w[1],k=Object(n.useState)(!1),j=Object(c.a)(k,2),S=j[0],T=j[1];return Object(n.useEffect)((function(){var e=t.globalRepoId;C(""),y("Click on a file item to see the difference"),p("Click on a file item to see the difference");var n=x;if(e){var r=JSON.stringify(JSON.stringify({repoId:e}));f()({url:n,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(r,")\n              {\n                gitChanges{\n                  gitChangedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges.gitChangedFiles;m(Object(I.a)(t)),T(!0),a({type:"GIT_TRACKED_FILES",payload:t})}})).catch((function(e){return e}))}}),[t.globalRepoId,a]),r.a.createElement(r.a.Fragment,null,i&&i.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex mx-auto w-full justify-center"},r.a.createElement("div",{className:"break-words p-2 py-2 bg-indigo-200 text-indigo-800 w-1/4 overflow-hidden"},r.a.createElement(r.a.Fragment,null,i.length>=1&&i.map((function(e){if(e&&"M"===e.split(",")[0]){var t=e.split(",")[1];return r.a.createElement("div",{className:"p-2 text-sm break-words hover:bg-indigo-100 cursor-pointer ".concat(t===O?" bg-indigo-100 border-b border-indigo-400":""),onClick:function(){C(t),function(e,t){var a=x,n=JSON.stringify(JSON.stringify({repoId:e,fileName:t}));f()({url:a,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("REPO_FILE_DIFF",'", payload:').concat(n,")\n            {\n              gitFileLineChanges{\n                diffStat\n                fileDiff\n              }\n            }\n          }\n        ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitFileLineChanges,a=t.diffStat,n=t.fileDiff;p(a[1]),y(n)})).catch((function(e){console.log(e)}))}(o,t)},key:t},t)}return null})))),O?"":r.a.createElement("div",{className:"p-3 shadow-md rounded-sm text-center mx-auto my-auto mt-3 block text-md font-sans"},"Click on a file to see difference information"),b&&"Click on a file item to see the difference"!==b?r.a.createElement("div",{className:"p-2 break-all w-3/4 mx-auto"},b?function(){if(b&&b.includes(",")){var e=b.split(",");return r.a.createElement("div",{className:"text-xl text-center w-3/4 mx-auto block p-2 border border-gray-500 rounded-md shadow-md border-dotted"},r.a.createElement("span",{className:"font-sans font-bold px-1"},e[0]),e.slice(1,e.length).map((function(e){return e.match(/insert/i)?r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-green-700 font-sans font-semibold"}," ","insertions (+)")):r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-red-700 font-sans font-semibold"}," ","deletions (+)"))})))}}():"",v&&"Click on a file item to see the difference"!==v?r.a.createElement("div",{className:"p-2 py-6 mt-6 text-left break-words overflow-scroll"},function(){var e=[];return v&&(e=v.join("|__HASH_SEPARATOR__|").split(/@@.*@@/gi)[1].split("|__HASH_SEPARATOR__|").map((function(e){return"+"===e[0]?r.a.createElement("div",{className:"bg-green-200 w-screen",key:"".concat(e,"-").concat(Object(F.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:A.a.highlight(e.replace("+",""),A.a.languages.javascript,"javascript")}}))):"-"===e[0]?r.a.createElement("div",{className:"bg-red-200 w-screen",key:"".concat(e,"-").concat(Object(F.a)())},r.a.createElement("pre",null,r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:A.a.highlight(e.replace("-",""),A.a.languages.javascript,"javascript")}})))):r.a.createElement("div",{className:"bg-white-200 w-screen",key:"".concat(e,"-").concat(Object(F.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:A.a.highlight(e,A.a.languages.javascript,"javascript")}})))}))),r.a.createElement("div",{className:"break-all my-6 mx-auto"},e)}()):""):"")):r.a.createElement(r.a.Fragment,null,S?r.a.createElement("div",{className:"my-3 mx-auto text-center p-3 rounded-md shadow-md bg-pink-200 text-gray-700"},r.a.createElement("span",null,"No Changed files are being tracked currently!")):null))}function R(e){var t=e.repoId,a=Object(n.useState)(!0),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)([]),d=Object(c.a)(i,2),m=d[0],u=d[1],g=Object(n.useState)(!1),b=Object(c.a)(g,2),p=b[0],h=b[1],E=Object(n.useState)(!1),v=Object(c.a)(E,2),y=v[0],N=v[1],w=Object(n.useRef)();return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=f.a.CancelToken.source();return f()({url:x,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(t,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;s(!1),t&&t.length>0&&u(Object(I.a)(t))})).catch((function(e){s(!1)})),function(){a.cancel()}}),[e]),r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},m&&m.length>0?function(){if(m&&m.length>0){var e=m.length;return r.a.createElement(r.a.Fragment,null,p?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded- shadow"},"All changes are committed!"):r.a.createElement("div",{className:"p-3 mx-auto w-5/6 block justify-center"},r.a.createElement("div",{className:"text-2xl my-2 font-sans font-semibold"},e," Changes to commit..."),r.a.createElement("div",{className:"overflow-auto",style:{height:"300px"}},m.map((function(e){return r.a.createElement("div",{className:"m-1 mx-auto w-11/12 break-all border-b text-left font-sans text-gray-700",key:e},e)}))),r.a.createElement("div",{className:"text-xl my-4"},"Commit Message"),r.a.createElement("textarea",{className:"p-2 rounded-md shadow-md text-gray-900 font-sans w-full outline-none",placeholder:"Enter commit message",cols:"20",rows:"5",ref:w}),y?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Commit Failed!"):null,r.a.createElement("div",{className:"my-4 p-2 text-center mx-auto text-xl bg-green-400 hover:bg-green-700 rounded shadow w-full cursor-pointer text-white",onClick:function(e){var a=w.current.value;a?function(e){f()({url:x,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            commitChanges(repoId: "'.concat(t,'", commitMessage: "').concat(e,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error&&"COMMIT_DONE"===e.data.data.commitChanges?h(!0):N(!0)})).catch((function(e){console.log(e),N(!0)}))}(a):alert("Commit message can't be empty")}},"Commit Changes")))}}():r.a.createElement("div",{className:"bg-orange-200 rounded-md shadow-md p-4 text-2xl font-sans text-center font-bold text-orange-700"},l?r.a.createElement("span",null,"Loading Commits..."):r.a.createElement("span",null,"No Staged files to commit")))}function P(e){var t=e.repoId,a=Object(n.useState)(),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)(!1),d=Object(c.a)(i,2),m=d[0],u=d[1],g=Object(n.useState)(!1),b=Object(c.a)(g,2),p=b[0],h=b[1],E=Object(n.useState)([]),v=Object(c.a)(E,2),y=v[0],N=v[1],w=Object(n.useState)(!1),O=Object(c.a)(w,2),C=O[0],k=O[1],j=Object(n.useState)(!1),S=Object(c.a)(j,2),T=S[0],A=S[1],F=Object(n.useState)(!1),_=Object(c.a)(F,2),R=_[0],P=_[1],D=Object(n.useState)(!1),G=Object(c.a)(D,2),L=G[0],q=G[1],M=Object(n.useRef)(),B=Object(n.useRef)();function H(e){var t=e.split("||");return r.a.createElement("div",{className:"block justify-evenly border shadow rounded p-2"},["Commit Hash","Commit Author","Commit Timestamp","Commit Message"].map((function(e,a){return n=e,o=t[a],r.a.createElement("div",{className:"flex justify-evenly"},r.a.createElement("div",{className:"font-sans text-gray-900 font-bold mx-2 w-1/4 break-words"},n),r.a.createElement("div",{className:"font-sans text-gray-800 mx-2 w-1/2 break-words"},o));var n,o})))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));f()({url:x,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;s(t)})).catch((function(e){console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,T?r.a.createElement("div",{className:"w-1/2 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded shadow"},"All commits are pushed to remote")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-1/2 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"m-3 text-2xl font-sans text-ghray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){u(!0)},ref:M},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select the remote repo"),l?function(){if(l){var e=l.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),m?r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){h(!0),function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));f()({url:x,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_UNPUSHED_COMMITS",'", payload: ').concat(t,"){\n              gitUnpushedCommits{\n                commits\n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitUnpushedCommits.commits;0===t.length&&k(!0),N(Object(I.a)(t))}})).catch((function(e){console.log(e)}))}()},ref:B},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),l?function(){if(l)return l.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,y&&y.length>0?r.a.createElement("div",{className:"my-2 p-3 rounded bg-gray-300 shadow-md border-gray-100"},r.a.createElement("div",{className:"my-2 font-sans text-2xl font-semibold"},"Commits to be pushed"),r.a.createElement("div",{className:"overflow-auto",style:{height:"200px"}},y.map((function(e,t){return r.a.createElement("div",{key:"unpushed-commit-".concat(t),className:"my-2 border-b-2 block justify-evenly mx-auto"},H(e))})))):r.a.createElement("div",null),R?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Push Failed!")):null,m&&p&&y.length>0&&!L?r.a.createElement("div",{className:"my-4 text-center bg-indigo-400 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-indigo-600 cursor-pointer",onClick:function(){var e,a,n=M.current.value,r=B.current.value;n&&r&&(e=n,a=r,q(!0),f()({url:x,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            pushToRemote(repoId: "'.concat(t,'", remoteHost: "').concat(e,'", branch: "').concat(a,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error?(A(!0),q(!1)):(P(!0),q(!1))})).catch((function(e){P(!0),q(!1)})))}},"Push changes"):r.a.createElement(r.a.Fragment,null,C?r.a.createElement("div",{className:"my-4 text-center bg-gray-500 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-gray-600 cursor-pointer"},"No Commits to Push"):null),r.a.createElement(r.a.Fragment,null,L?r.a.createElement("div",{className:"my-4 text-center border border-orange-800 text-orange-900 bg-orange-300 rounded shadow text-white text-xl font-sans p-2 mx-auto cursor-pointer"},"Pushing to remote..."):null))))}function D(e){var t=e.stageComponents,a=e.repoId;console.log(e);var o=Object(n.useState)(!1),l=Object(c.a)(o,2),s=l[0],i=l[1],d=Object(n.useState)(!1),m=Object(c.a)(d,2),u=m[0],g=m[1];return Object(n.useEffect)((function(){}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement(r.a.Fragment,null,t.length>0&&!s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-5 font-sans text-2xl font-sans font-bold"},"All these changes will be staged:"),t&&t.map((function(e){return r.a.createElement("div",{className:"p-1 font-sans text-lg mx-4 border-b w-11/12 break-words",key:e},e)})),u?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Staging Failed!"):null,r.a.createElement("div",{className:"mx-auto my-4 text-center bg-green-600 text-xl p-3 rounded-md shadow-md font-sans text-white hover:bg-green-400 cursor-pointer",onClick:function(){f()({url:x,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageAllItems(repoId: "'.concat(a,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error&&"ALL_STAGED"===e.data.data.stageAllItems&&i(!0)})).catch((function(e){g(!0)}))}},"Confirm Staging")):r.a.createElement("div",{className:"p-5 bg-white text-black font-sans font-semibold rounded shadow border border-gray-100"},"No Changes for staging..."),s?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded- shadow"},"All changes Staged!"):null)))}function G(e){E.b.add(v.a);var t=e.repoId,a=Object(n.useState)([]),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)([]),d=Object(c.a)(i,2),m=d[0],u=d[1],g=Object(n.useState)(""),b=Object(c.a)(g,2),p=b[0],h=b[1],y=Object(n.useState)([]),N=Object(c.a)(y,2),w=N[0],O=N[1],C=Object(n.useState)(0),k=Object(c.a)(C,2),j=k[0],S=k[1],T=Object(n.useState)(""),A=Object(c.a)(T,2),F=A[0],_=A[1],G=Object(n.useState)([]),L=Object(c.a)(G,2),q=L[0],M=L[1];Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=f.a.CancelToken.source();return f()({url:x,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(t,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.gitChanges;s(Object(I.a)(t.gitChangedFiles)),u(Object(I.a)(t.gitUntrackedFiles));var a=Object(I.a)(t.gitChangedFiles),n=Object(I.a)(t.gitUntrackedFiles),r=[];a&&a.forEach((function(e){if(e.split(",").length>0){var t=e.split(",")[1];r.push(t)}})),n&&n.forEach((function(e){e&&((e=e.replace("NO_DIR","")).split(",")?r.push(e.split(",").join("")):r.push(e))})),O([].concat(r))}})).catch((function(e){})),function(){a.cancel()}}),[e,j,F]),Object(n.useEffect)((function(){var t=f.a.CancelToken.source(),a=JSON.stringify(JSON.stringify({repoId:e.repoId}));return f()({url:x,method:"POST",headers:{"Content-type":"application/json"},cancelToken:t.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(a,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;t&&t.length>0&&M(Object(I.a)(t))})).catch((function(e){})),function(){return t.cancel()}}),[w,e.repoId]);function B(){var e=[],a=function(e){return"M"===e?r.a.createElement("div",{className:"p-1 text-center text-yellow-700 border border-yellow-500 rounded-md shadow-sm"},"Modified"):r.a.createElement("div",{className:"p-1 text-center text-indigo-700 border border-indigo-500 rounded-md shadow-sm"},"Untracked")},n=function(e){return r.a.createElement("div",{className:"p-1 bg-green-300 text-white rounded-md shadow-sm hover:shadow-md hover:bg-green-600",onClick:function(a){!function(e){f()({url:x,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&"ADD_ITEM_SUCCES"===t.data.data.stageItem&&_(e)})).catch((function(e){console.log(e)}))}(e)}},"Add")};return l&&l.forEach((function(t){if(t.split(",").length>0){var r=t.split(",")[1];e.push([r,a(t.split(",")[0]),n(r)])}})),m&&m.forEach((function(t){t&&((t=t.replace("NO_DIR","")).split(",")?e.push([t.split(",").join(""),a("N"),n(t.split(",").join(""))]):e.push([t,a("N"),n(t)]))})),e}return r.a.createElement(r.a.Fragment,null,p?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"operation-backdrop",style:{background:"rgba(0,0,0,0.6)"},onClick:function(e){"operation-backdrop"===e.target.id&&(h(""),S(j+1))}},function(e){switch(e){case"stage":return w&&w.length>0?r.a.createElement(D,{repoId:t,stageComponents:w}):r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"p-5 bg-white text-black font-sans font-semibold rounded shadow border border-gray-100"},"No Changes for staging..."));case"commit":return r.a.createElement(R,{repoId:t});case"push":return r.a.createElement(P,{repoId:t});default:return null}}(p),r.a.createElement("div",{className:"float-right p-1 my-2 bg-red-500 text-2xl cursor-pointer text-center text-white my-5 pl-2 pr-2 h-12 align-middle rounded-sm shadow-md mr-5",onClick:function(){h("")}},"X")):null,r.a.createElement("div",{className:"my-2 flex mx-auto p-3 justify-around"},[{label:"Stage all changes",color:"blue",key:"stage"},{label:"Commit Changes",color:"green",key:"commit"},{label:"Push to remote",color:"pink",key:"push"}].map((function(e){var t=e.label,a=e.color,n=e.key;return r.a.createElement("div",{className:"my-auto align-middle item-center w-1/4 text-center p-2 rounded-md bg-0 border border-".concat(a,"-500 text-").concat(a,"-700 font-sans text-xl cursor-pointer hover:bg-").concat(a,"-500 hover:text-white"),key:n,onClick:function(){return h(n)}},t)}))),B()&&B().length>0?r.a.createElement("table",{className:"table border-0 w-full cursor-pointer",cellPadding:"10"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-orange-300 p-3 text-xl font-sans"},["Changes","File Status","Action"].map((function(e){return r.a.createElement("th",{key:e,className:"font-bold border-r border-gray-200"},e)})))),r.a.createElement("tbody",null,B()&&B().map((function(e,t){return r.a.createElement("tr",{className:"text-md font-sans border-b border-gray-300",key:"tableItem-".concat(t)},e.map((function(e,t){return r.a.createElement("td",{key:"".concat(e,"-").concat(t),className:"".concat(0===t?"text-left":"text-center")},e)})))})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-2 mx-auto my-10 bg-orange-300 text-xl text-center rounded shadow"},"No files to stage")),r.a.createElement(r.a.Fragment,null,q?function(){if(q&&q.length>0)return r.a.createElement("div",{className:"w-full mx-auto my-20 p-2 border border-gray-200 rounded"},r.a.createElement("div",{className:"flex items-center align-middle my-4"},r.a.createElement("div",{className:"text-5xl font-sans text-gray-800 mx-4"},"Staged Files"),r.a.createElement("div",{className:"p-2 rounded text-white bg-red-700 text-xl rounded shadow cursor-pointer hover:bg-red-800",onClick:function(){f()({url:x,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeAllStagedItem(repoId: "'.concat(t,'")\n            }\n          ')}}).then((function(e){S(!j),e.data.data&&!e.data.error&&"STAGE_ALL_REMOVE_SUCCESS"===e.data.data.removeAllStagedItem&&M([])})).catch((function(e){}))}},"Remove All Items")),r.a.createElement("div",{className:"flex mx-auto p-2 text-center font-sans text-lg text-white bg-indigo-400 rounded"},r.a.createElement("div",{className:"w-3/4"},"Staged File"),r.a.createElement("div",{className:"w-1/4"},"Action")),r.a.createElement("div",{className:"block mx-auto"},q.map((function(e){return e?r.a.createElement("div",{className:"flex mx-auto my-4 border-b my-auto items-center align-middle py-4",key:e},r.a.createElement("div",{className:"w-3/4 break-all mx-4 text-xl text-gray-800 font-sans"},e),r.a.createElement("div",{className:"w-1/4 mx-auto"},r.a.createElement("div",{className:"mx-auto w-1/4 text-white cursor-pointer break-all text-center p-2 rounded bg-red-500 shadow hover:bg-red-600 hover:shadow-md",onClick:function(){!function(e){f()({url:x,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeStagedItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n            }\n          ')}}).then((function(t){if(S(!j),t.data.data&&!t.data.error&&"STAGE_REMOVE_SUCCESS"===t.data.data.removeStagedItem){var a=q;a=a.filter((function(t){return t!==e})),M(Object(I.a)(a))}})).catch((function(e){}))}(e)}},"Remove"))):null}))))}():null))}function L(e){E.b.add(v.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)([]),i=Object(c.a)(s,2),m=i[0],u=i[1],g=Object(n.useState)("File View"),b=Object(c.a)(g,2),p=b[0],h=b[1],y=["File View","Git Difference","Git Operations"],w=Object(n.useState)(!1),O=Object(c.a)(w,2),C=O[0],k=O[1],j=Object(n.useContext)(d).dispatch,S=Object(n.useMemo)((function(){return r.a.createElement(_,{repoId:e.repoId})}),[e]),T=Object(n.useMemo)((function(){return r.a.createElement(G,{repoId:e.repoId})}),[e]);return Object(n.useEffect)((function(){var t=x,a=JSON.stringify(JSON.stringify({repoId:e.repoId}));f()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(a,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges,a=t.gitChangedFiles,n=t.gitUntrackedFiles;(a||n)&&(a.length>0||n.length>0)?(l(Object(I.a)(a)),u(Object(I.a)(n)),k(!1),j({type:"GIT_TRACKED_FILES",payload:a}),j({type:"GIT_ACTION_TRACKED_FILES",payload:Object(I.a)(a)}),j({type:"GIT_ACTION_UNTRACKED_FILES",payload:Object(I.a)(n)})):k(!0)}})).catch((function(e){k(!0)}))}),[e,j]),r.a.createElement(r.a.Fragment,null,C?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"},T),r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-pink-200 text-xl text-pink-600"},"No changes found in the selected git repo"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(N.a,{icon:["fab","creative-commons-zero"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block text-6xl text-gray-200 mx-auto text-center align-middle"},'"0" changes in repo'))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 mx-auto w-11/12 justify-around font-sans font-semibold rounded-sm shadow-md cursor-pointer"},y.map((function(e){var t="w-full py-3 px-1 text-center border-r border-blue-400 ";return t+=e===p?"bg-blue-100 text-blue-800 border-b border-blue-700":"bg-blue-600 text-white",r.a.createElement("div",{className:"w-full py-3 px-1 text-center border-r border-blue-400 hover:bg-blue-200 hover:text-blue-900 ".concat(t),key:e,onClick:function(t){h(e)}},e)})))),r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"}," ",function(){switch(p){case"File View":if(!C)return r.a.createElement("div",{className:"shadow-sm rounded-sm my-2 block justify-center mx-auto border border-gray-300"},o?function(){var e=[],t=[];if(o&&o.length>0)return o.forEach((function(a,n){var o=a.split(","),l=o[0],c=o[1],s="p-1 ";switch(l){case"M":s+="text-yellow-900 bg-yellow-200",t.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:c},r.a.createElement("div",{className:"".concat(s," w-11/12")}," ",c," "),r.a.createElement("div",{className:"rounded-lg shadow-sm border border-gray-300 p-2 text-center w-1/6"},"Modified")));break;case"D":s+="text-red-900 bg-red-200",e.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:c},r.a.createElement("div",{className:"".concat(s," w-11/12")}," ",c," "),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6"},"Deleted")));break;default:s+="text-indigo-900 bg-indigo-200"}})),r.a.createElement(r.a.Fragment,null,t," ",e)}():r.a.createElement("div",{className:"rounded-lg shadow-md text-center p-4 font-sans"},"Getting file based status..."),m?function(){var e=[],t=[];return m.forEach((function(a){var n=a.split(",");n&&(e.push(r.a.createElement("div",{className:"font-sans font-semibold"},"NO_DIR"!==n[0]?n[0]:"./")),t.push(r.a.createElement("div",{className:"font-sans"}," ",n[1]," ")))})),e.map((function(a,n){return r.a.createElement("div",{className:"flex",key:"".concat(a,"-").concat(n)},r.a.createElement("div",{className:"bg-indigo-100 text-indigo-800 flex p-2 block w-11/12"},e[n]," ",t[n]),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6 text-sm"},"New / Untracked"))}))}():null);break;case"Git Difference":if(!C)return S;break;case"Git Operations":return T;default:return r.a.createElement("div",{className:"text-xl text-center"}," Invalid Menu Selector! ")}}()," ")))}function q(){E.b.add(y.a);var e=Object(n.useContext)(d),t=e.state,a=e.dispatch,o=t.presentRepo,l=Object(n.useState)(!1),i=Object(c.a)(l,2),m=i[0],u=i[1],g=Object(n.useState)({}),b=Object(c.a)(g,2),p=b[0],h=b[1],v=Object(n.useState)([]),w=Object(c.a)(v,2),O=w[0],C=w[1],k=Object(n.useState)(""),I=Object(c.a)(k,2),T=I[0],A=I[1],F=Object(n.useState)({gitBranchList:"",gitCurrentBranch:"",gitTotalCommits:0,gitTotalTrackedFiles:0}),_=Object(c.a)(F,2),R=_[0],P=_[1],D=Object(n.useState)(!1),G=Object(c.a)(D,2),q=G[0],M=G[1],B=Object(n.useMemo)((function(){return r.a.createElement(L,{repoId:p.id})}),[p]);function H(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex justify-between mx-2 font-sans text-lg text-gray-700"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(N.a,{icon:["fas",e]})),r.a.createElement("div",{className:"mx-2"},t)))}return Object(n.useEffect)((function(){function e(){var e=p.id;if(e){var t=JSON.stringify(JSON.stringify({repoId:e}));f()({url:x,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n              query GitConvexApi\n              {\n                gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                  gitRepoStatus {\n                    gitBranchList\n                    gitCurrentBranch\n                    gitTotalCommits\n                    gitTotalTrackedFiles \n                  }\n                }\n              }\n            ")}}).then((function(e){P(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){e&&console.log("API GitStatus error occurred : "+e)}))}}function t(){return(t=Object(S.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()({url:x,method:"POST",data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n                  fetchRepo{\n                    repoId\n                    repoName\n                    repoPath\n                  }\n                }\n              }\n          ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var n=t.repoId.map((function(e,a){return{id:t.repoId[a],repoName:t.repoName[a],repoPath:t.repoPath[a]}}));return a({type:"PRESENT_REPO",payload:n}),h(n[0]),C(n),n}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o&&o.length>=1?(C(o[0]),e()):(!function(){t.apply(this,arguments)}(),e())}),[p,T,o,a,q]),r.a.createElement("div",{className:"overflow-scroll w-11/12 h-full mx-auto block justify-center overflow-x-hidden"},O?r.a.createElement("div",null,r.a.createElement("div",{className:"flex text-center justify-center mt-6"},r.a.createElement("div",{className:"text-center mx-auto my-auto justify-around mt-3 p-3 rounded-md shadow-sm block border-2 border-gray-300 w-1/2"},r.a.createElement("div",{className:"flex justify-evenly"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1 mx-2 w-1/2"},"Choose saved repository"),r.a.createElement("select",{className:"bg-green-200 text-gray-800 rounded-sm mx-2 outline-none shadow-xs border border-green-500 w-1/2",defaultValue:"checked",onChange:function(e){u(!0),O.forEach((function(t){e.target.value===t.repoName&&(h(t),a({type:"GIT_GLOBAL_REPOID",payload:t.id}))}))}},r.a.createElement("option",{defaultChecked:!0,value:"checked",hidden:!0,disabled:!0},"Select a repo"),O.map((function(e){return r.a.createElement("option",{value:e.repoName,key:e.repoName},e.repoName)})))),m?r.a.createElement("div",{className:"text-center mx-auto my-auto mt-3 p-3 flex"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1 mx-2 w-1/2"},"Branch"),r.a.createElement("select",{className:"bg-indigo-200 text-gray-800 rounded-sm mx-2 outline-none shadow-xs border border-indigo-500 w-1/2",defaultValue:"checked",onChange:function(e){e.persist(),A(e.currentTarget.value),function(e,t){f()({url:x,method:"POST",data:{query:'\n          mutation{\n            setBranch(repoId: "'.concat(p.id,'", branch: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&A(e)})).catch((function(e){e&&(M(!0),t.target.selectedIndex=0)}))}(e.target.value,e)},onClick:function(){M(!1)}},function(){if(R&&R.gitBranchList)return R.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{key:e,value:e},e):null}))}())):null),R&&m?r.a.createElement("div",{className:"my-auto mx-3 p-6 rounded-md shadow-sm flex mx-auto justify-center border-2 border-gray-300"},H("code-branch",R.gitBranchList&&R.gitBranchList.length>0&&!R.gitBranchList[0].match(/NO_BRANCH/gi)?R.gitBranchList.length:"0 Branches"),H("sort-amount-up",R.gitTotalCommits+" Commits"),H("archive",R.gitTotalTrackedFiles+" Tracked Files")):null),m?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-orange-200 text-xl text-orange-900"},"Select a configured repo from the dropdown to perform git related operations"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(N.a,{icon:["fas","mouse-pointer"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block text-6xl text-gray-200 mx-auto text-center align-middle"},"No repositories selected"))),r.a.createElement("div",null,q?r.a.createElement("div",{className:"p-2 rounded my-2 mx-auto text-center font-sand bg-red-200 text-red-800"},"Branch switching failed.Commit your changes and try again"):null,R&&m?B:null)):r.a.createElement("div",{className:"block p-4 mx-auto my-auto text-center font-sans bg-pink-200 rounded-md shadow-lg text-red-800 font-bold h-auto justify-center"},alert("Please add a repository!"),r.a.createElement(s.a,{to:"/dashboard"})))}function M(e){E.b.add(v.a,y.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),d=i[0],m=i[1];return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));f()({url:x,method:"POST",data:{query:'\n        query GitConvexApi\n        {\n            gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(t,"){\n                gitCommitLogs {\n                    commits{\n                        commitTime\n                        hash\n                        author\n                        commitMessage\n                    }  \n                }\n            }\n        }\n        ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitCommitLogs.commits;t&&t.length>0?l(t):m(!0)})).catch((function(e){e&&(m(!0),console.log(e))}))}),[e]),r.a.createElement(r.a.Fragment,null,d?r.a.createElement("div",{className:"p-3 rounded-md shadow-sm block justify-center mx-auto my-4 bg-white w-3/4 text-center"},"No Commit Logs found"):null,o&&o.map((function(e){var t=e.hash,a=e.author,n=e.commitTime,o=e.commitMessage;return r.a.createElement("div",{className:"p-3 pb-6 rounded-md shadow-sm block justify-center mx-auto my-4 bg-white w-full border-b-4 border-blue-400",key:t},r.a.createElement("div",{className:"p-2 text-2xl font-sans text-left"},r.a.createElement(N.a,{icon:["fas","calendar-alt"]}),r.a.createElement("span",{className:"mx-2"},n)),r.a.createElement("div",{className:"p-3 m-3 text-xl text-gray-700 font-sans"},o),r.a.createElement("div",{className:"flex justify-center text-center"},r.a.createElement("div",{className:"rounded-l p-2 shadow-sm bg-indigo-200 text-xl font-sans ont-semibold text-indigo-900 w-1/2"},r.a.createElement(N.a,{icon:["fab","slack-hash"]}),r.a.createElement("span",{className:"mx-2"},t)),r.a.createElement("div",{className:"rounded-r p-2 shadow-sm bg-indigo-200 text-xl font-sans ont-semibold text-indigo-900 w-1/2"},r.a.createElement(N.a,{icon:["fas","at"]}),r.a.createElement("span",{className:"mx-2"},a))))})))}function B(e){E.b.add(v.a,y.a);var t=Object(n.useState)({}),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),d=i[0],m=i[1],u=Object(n.useState)(""),g=Object(c.a)(u,2),b=g[0],p=g[1],h=Object(n.useState)(!1),w=Object(c.a)(h,2),O=w[0],C=w[1],k=Object(n.useState)(!1),j=Object(c.a)(k,2),S=j[0],I=j[1],T=Object(n.useState)(0),A=Object(c.a)(T,2),F=A[0],_=A[1],R=Object(n.useMemo)((function(){return r.a.createElement(M,{repoId:b})}),[b]);Object(n.useEffect)((function(){var t=x;if(e.parentProps.location){var a=e.parentProps.location.pathname.split("/repository/")[1];p(a);var n=JSON.stringify(JSON.stringify({repoId:a}));f()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n            query GitConvexApi\n            {\n              gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(n,"){\n                gitRepoStatus {\n                  gitRemoteData\n                  gitRepoName\n                  gitBranchList\n                  gitCurrentBranch\n                  gitRemoteHost\n                  gitTotalCommits\n                  gitLatestCommit\n                  gitTrackedFiles\n                  gitFileBasedCommit\n                  gitTotalTrackedFiles    \n                }\n              }\n            }\n          ")}}).then((function(e){if(e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus.gitRemoteData;t.includes("||")&&(I(!0),e.data.data.gitConvexApi.gitRepoStatus.gitRemoteData=t.split("||")[0],I(!0),_(t.split("||").length)),l(e.data.data.gitConvexApi.gitRepoStatus)}else m(!0)})).catch((function(e){e&&(console.log("API GitStatus error occurred : "+e),m(!0))}))}}),[e.parentProps]);var P=o.gitRemoteData,D=o.gitRepoName,G=o.gitBranchList,L=o.gitCurrentBranch,q=o.gitRemoteHost,B=o.gitTotalCommits,H=o.gitLatestCommit,J=o.gitTrackedFiles,U=o.gitFileBasedCommit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full fixed bg-gray-600 opacity-50"}),r.a.createElement("div",{className:"rp_repo-view w-screen h-screen p-6 mx-auto rounded-lg justify-evenly overflow-auto"},o&&!d?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex px-3 py-2"},o?r.a.createElement("div",{className:"mx-auto w-5/6 flex rounded-md shadow-md border-2 border-gray-100 p-4 justify-evenly"},r.a.createElement("div",{className:"text-xl p-2 mx-2"},"Repo Name"),r.a.createElement("div",{className:"bg-blue-100 text-blue-900 p-3 rounded-sm border border-blue-200"},D),r.a.createElement("div",{className:"text-xl p-2 mx-2"},"Active Branch"),r.a.createElement("div",{className:"bg-orange-200 rounded-sm text-orange-900 p-3 border border-orange-400"},L)):null),r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:"flex my-4 mx-auto justify-around"},o?function(){var e="";return q?(e=q.match(/github/i)?r.a.createElement(N.a,{icon:["fab","github"],className:"text-2xl text-center text-pink-500"}):q.match(/gitlab/i)?r.a.createElement(N.a,{icon:["fab","gitlab"],className:"text-2xl text-center text-pink-400"}):q.match(/bitbucket/i)?r.a.createElement(N.a,{icon:["fab","bitbucket"],className:"text-2xl text-center text-pink-400"}):q.match(/codecommit/i)?r.a.createElement(N.a,{icon:["fab","aws"],className:"text-2xl text-center text-pink-400"}):r.a.createElement(N.a,{icon:["fab","git-square"],className:"text-2xl text-center text-pink-400"}),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed w-screen left-0 top-0 right-0 bottom-0 overflow-auto p-6",id:"commit-log__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"commit-log__backdrop"===e.target.id&&C(!1),console.log("Press")}},r.a.createElement("div",{className:"float-right text-2xl font-sans pl-2 pr-2 p-1 cursor-pointer rounded-lg shadow-sm bg-red-500",onClick:function(){C(!1)}},"X"),r.a.createElement("div",{id:"commit-log__cards",className:"w-3/4 block mx-auto"},R))):null,r.a.createElement("div",{className:"block rounded-md shadow-sm border-2 border-dotted border-gray-400 p-6 my-6 mx-3"},r.a.createElement("table",{className:"table-auto",cellSpacing:"10",cellPadding:"20"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-xl text-gray-600"},"Remote Host"),r.a.createElement("td",null,r.a.createElement("div",{className:"p-1 rounded-md border-2 shadow-md text-center w-full border-gray-200"},r.a.createElement("span",{className:"p-3"},e),r.a.createElement("span",{className:"text-center text-lg"},q))))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-xl text-gray-600"},q," URL"),r.a.createElement("td",null,r.a.createElement("span",{className:"text-blue-400 hover:text-blue-500 cursor-pointer"},P),r.a.createElement("div",null,S?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"font-sans text-gray-800 font-semibold mr-2"},"Entry truncated!"),r.a.createElement("span",null,"Remote repos : ",F)):null)))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-xl text-gray-600"},"Commit Logs"),r.a.createElement("td",null,r.a.createElement("div",{className:"rounded-md shadow-md p-3 text-center bg-orange-300 cursor-pointer",onClick:function(e){C(!0)}},"Show Commit Logs")))))),r.a.createElement("div",{className:"block rounded-lg shadow-sm border-2 border-dotted border-gray-400 p-2 my-2 mx-3 w-1/2"},r.a.createElement("table",{className:"table-light",cellPadding:"10"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-lg text-gray-500 w-1/2"},"Total Commits"),r.a.createElement("td",{className:"text-left text-md text-bold text-black-800 w-1/2"},B," Commits"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-lg text-gray-500 w-1/2"},"Latest Commit"),r.a.createElement("td",{className:"text-left text-sm text-bold w-1/2 text-black-900 w-1/2"},H))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-lg text-gray-500 align-text-top w-1/2"},r.a.createElement("div",{className:"flex p-2 items-center align-middle"},r.a.createElement("div",null,"Available Branches"),r.a.createElement("div",{id:"addBranch",className:"mx-10 rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-green-400 text-center mx-auto shadow hover:bg-green-500 cursor-pointer",onMouseEnter:function(e){e.stopPropagation(),e.preventDefault();e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-32 text-center border border-gray-300 text-sm my-2 relative">Click to add a new branch</div>'},onMouseLeave:function(e){e.target.innerHTML="+"}},"+"))),r.a.createElement("td",{className:"w-1/2"},G&&L&&G.map((function(e){return e===L?r.a.createElement("div",{className:"text-lg font-semibold text-indigo-500",key:e},e):r.a.createElement("div",{className:"my-1 font-sans font-semibold",key:"entry-key"},"- ",e)})))),r.a.createElement("tr",null,r.a.createElement("td",{className:"w-1/2"},r.a.createElement("div",{className:"rounded text-center cursor-pointer p-2 bg-indigo-500 hover:bg-indigo-600 text-white text-xl font-sans"},"Fetch from remote")),r.a.createElement("td",{className:"w-1/2"},r.a.createElement("div",{className:"mx-auto text-center cursor-pointer rounded text-white p-2 bg-blue-500 hover:bg-blue-600 text-xl font-sans"},"Pull from remote")))))))):r.a.createElement("div",{className:"p-6 bg-orange-300 text-orange-900 my-4 rounded-lg shadow-md border border-gray-300"},"Fetching details from server...")}():null)),r.a.createElement("div",{className:"block w-11/12 my-6 mx-auto justify-center p-6 rounded-lg bg-gray-100 p-2 shadow-md overflow-auto"},o?function(){if(J&&J.length>0&&"NO_TRACKED_FILES"!==J[0]){var e=[],t=[],a=[];return J.forEach((function(e,n){var o=e.split(":");o[1].includes("directory")?t.push(r.a.createElement("tbody",{key:"dir-entry-".concat(n)},r.a.createElement("tr",{className:"border-b border-gray-300 p-1 shadow-sm hover:bg-indigo-100"},r.a.createElement("td",null,r.a.createElement(N.a,{icon:["fas","folder"],className:"font-sans text-xl text-blue-600"})),r.a.createElement("td",null,r.a.createElement("div",{className:"text-gray-800 text-lg mx-3 font-sans"},o[0])),r.a.createElement("td",null,r.a.createElement("div",{className:"p-2 bg-green-200 text-green-900 rounded-lg text-left mx-auto w-3/5"},U[n]?U[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))):a.push(r.a.createElement("tbody",{key:"file-entry-".concat(n)},r.a.createElement("tr",{className:"border-b border-gray-300 p-1 shadow-sm hover:bg-indigo-100"},r.a.createElement("td",null,r.a.createElement(N.a,{icon:["fas","file"],className:"font-sans text-xl text-gray-700"})),r.a.createElement("td",null,r.a.createElement("div",{className:"text-gray-800 text-lg mx-3 font-sans"},o[0])),r.a.createElement("td",null,r.a.createElement("div",{className:"p-2 bg-indigo-200 text-indigo-900 rounded-lg text-left mx-auto w-3/5"},U[n]?U[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null)))))})),e.push(t),e.push(a),r.a.createElement("div",{className:"block mx-auto justify-center p-2 text-blue-600 cursor-pointer hover:text-blue-700 overflow-auto",key:"repo-key"},r.a.createElement("table",{className:"table-auto w-full p-2 mx-auto",cellPadding:"10"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"pb-6 border-b border-blue-400"},r.a.createElement("th",null),r.a.createElement("th",null,"File / Directory"),r.a.createElement("th",null,"Latest commit"))),e))}return J&&"NO_TRACKED_FILES"===J[0]?r.a.createElement("div",{className:"bg-gray-400 rounded-lg text-black text-2xl text-center"},"No Tracked Files in the repo!"):r.a.createElement("div",{className:"bg-gray-400 rounded-lg text-black text-2xl text-center"},"Loading tracked files...")}():null)):r.a.createElement("div",{className:"text-center mx-auto rounded-lg p-3 shadow-md border border-indigo-200 text-indigo-800"},"Fetching repo details..."),d?r.a.createElement("div",{className:"p-2 text-center mx-auto rounded-lg bg-red-200 text-xl"},"Repo details fetch failed!"):null))}function H(e){E.b.add(v.a,y.a);var t=Object(n.useRef)(),a=Object(n.useState)(""),o=Object(c.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)([]),d=Object(c.a)(i,2),m=d[0],u=d[1];Object(n.useEffect)((function(){f()({url:x,method:"POST",data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("SETTINGS_DBPATH",'"){\n              settingsDatabasePath\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.error){var a=e.data.data.gitConvexApi.settingsDatabasePath;s(a),t.current.value=a}})).catch((function(e){console.log(e)})),f()({url:x,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_REPODETAILS",'"){\n                settingsRepoDetails{\n                  id\n                  repoPath\n                  repoName\n                  timeStamp\n                }\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsRepoDetails;u(Object(I.a)(t))}})).catch((function(e){console.log(e)}))}),[e]);return r.a.createElement("div",{className:"block w-full h-full overflow-auto"},r.a.createElement("div",{className:"font-sans text-6xl my-4 mx-10 text-gray-700 block items-center align-middle"},r.a.createElement(N.a,{className:"text-5xl",icon:["fas","cogs"]}),r.a.createElement("span",{className:"mx-10"},"Settings")),r.a.createElement("div",{className:"block my-10 justify-center mx-auto w-3/4"},l?r.a.createElement("div",{className:"settings-data"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Server data file (file which stores repo details)"),r.a.createElement("div",{className:"my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 w-1/2",ref:t}),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-1/2"},"The data file can be updated. The data file must be an accessible JSON file with read / write permissions set to it. Also make sure you enter the full path for the file",r.a.createElement("pre",{className:"my-2"},"E.g: /opt/my_data/data-file.json")))):null,m?r.a.createElement("div",{className:"repo-data my-10"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Saved Repos"),r.a.createElement(r.a.Fragment,null,m&&m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 bg-indigo-500 my-1 w-11/12 rounded text-white bg-white shadow p-3 font-sand text-xl font-semibold"},r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo ID"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Name"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Path"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Created Timestamp"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Action")),m.map((function(e){return r.a.createElement("div",{className:"flex my-1 w-11/12 rounded bg-white shadow p-3 font-sans text-gray-800",key:e.id},r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},e.id),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-bold font-sans break-all"},e.repoName),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light text-blue-600"},e.repoPath),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light"},e.timeStamp),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},r.a.createElement("div",{className:"bg-red-600 p-2 mx-auto my-auto rounded shadow text-center w-1/4 hover:bg-red-400 cursor-pointer"},r.a.createElement(N.a,{color:"white",icon:["fas","trash-alt"]}))))}))):r.a.createElement("div",{className:"my-4 mx-auto bg-gray-200 text-center p-3 rounded shadow w-3/4"},"No repos are being managed by Gitconvex. You can add one from the dashboard"))):null))}function J(e){var t=Object(n.useContext)(d).state,a=Object(n.useState)(""),o=Object(c.a)(a,2),l=o[0],m=o[1],u=Object(n.useState)(""),g=Object(c.a)(u,2),p=g[0],h=g[1],E=Object(n.useState)(""),v=Object(c.a)(E,2),y=v[0],N=v[1],w=Object(n.useMemo)((function(){return r.a.createElement(B,{parentProps:e})}),[e]),O=Object(n.useMemo)((function(){return r.a.createElement(H,null)}),[]);Object(n.useEffect)((function(){var e=t.hcParams,a=e.osCheck,n=e.gitCheck,r=e.nodeCheck;a&&n&&r?(m(a),h(n),N(r)):3===["OS_TYPE","NODE_VERSION","GIT_VERSION"].filter((function(e){return!!localStorage.getItem(e)})).length?(m(localStorage.getItem("OS_TYPE")),N(localStorage.getItem("NODE_VERSION")),h(localStorage.getItem("GIT_VERSION"))):f()({url:x,method:"POST",data:{query:'\n              query GitConvexAPI{\n                gitConvexApi(route:"HEALTH_CHECK"){\n                  healthCheck{\n                    osCheck\n                    gitCheck\n                    nodeCheck\n                  }\n                }\n              }\n            '}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;m(JSON.parse(a).message),h(JSON.parse(n).message),N(JSON.parse(r).message)}})).catch((function(e){console.log(e)}))}),[t.hcParams]);var k={platform:l,gitVersion:p,nodeVersion:y};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex w-full h-full"},r.a.createElement(b,{parentProps:e}),function(){switch(e.location.pathname){case"/dashboard":return r.a.createElement(C,{params:k});case"/dashboard/repository":return r.a.createElement(q,null);case"/dashboard/settings":return O;default:return r.a.createElement(i.a,null,r.a.createElement(s.b,{exact:!0,path:"/dashboard/repository/:repoId"},w))}}()))}a(72);function U(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),o=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(c.a)(s,2),m=i[0],u=i[1],g=Object(n.useContext)(d).dispatch;return Object(n.useEffect)((function(){var e=x;f()({url:e,method:"POST",data:{query:'\n          query GitConvexAPI{\n            gitConvexApi(route:"HEALTH_CHECK"){\n              healthCheck{\n                osCheck\n                gitCheck\n                nodeCheck\n              }\n            }\n          }\n        '}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;g({type:"HC_PARAM_ACTION",payload:{osCheck:a,gitCheck:n,nodeCheck:r}}),u(!0)}else l(!0)})).catch((function(e){console.log(e),l(!0)}))}),[g]),r.a.createElement(r.a.Fragment,null,m?e.history.push("/dashboard"):r.a.createElement("div",{className:"w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"splash-logo w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"p-5 shadow-md border-l-4 border-t-4 border-blue-100 rounded-lg block"},r.a.createElement("div",{className:"splash-logo__image"})),r.a.createElement("div",{className:"logo-label my-3 p-3 text-center block"},r.a.createElement("div",{className:"logo-label__title block text-6xl border-solid border-b-4 border-pink-200"},r.a.createElement("span",{className:"logo-label__title-first font-sans font-bold mx-3"},"Git"),r.a.createElement("span",null,"Convex")),r.a.createElement("div",{className:"block font-mono my-2"},"A visualizer for your git repo"))),o?r.a.createElement("div",{className:"fixed bottom-0 left-0 right-0 w-full p-3 rounded-lg text-center font-sans bg-red-200 border-red-900"},r.a.createElement("div",{className:"h1 text-3xl p-2 m-2 text-red-800"},"Server Unreachable"),r.a.createElement("p",null,"The server is not reachable.Please check if the server module is running.")):null))}var V=a(10);function K(e,t){switch(t.type){case"HC_DONE_SWITCH":return Object(V.a)(Object(V.a)({},e),{},{hcDone:t.payload});case"HC_PARAM_ACTION":var a=t.payload,n=a.osCheck,r=a.gitCheck,o=a.nodeCheck,l=function(e){return JSON.parse(JSON.parse(JSON.stringify(e))).message};return localStorage.setItem("OS_TYPE",l(n)),localStorage.setItem("GIT_VERSION",l(r)),localStorage.setItem("NODE_VERSION",l(o)),Object(V.a)(Object(V.a)({},e),{},{hcParams:{osCheck:l(n),gitCheck:l(r),nodeCheck:l(o)}});case"PRESENT_REPO":return Object(V.a)(Object(V.a)({},e),{},{presentRepo:[].concat(Object(I.a)(e.presentRepo),[t.payload])});case"GIT_TRACKED_FILES":return e.modifiedGitFiles=[],Object(V.a)(Object(V.a)({},e),{},{modifiedGitFiles:[].concat(Object(I.a)(e.modifiedGitFiles),[t.payload])});case"GIT_GLOBAL_REPOID":return e.globalRepoId="",Object(V.a)(Object(V.a)({},e),{},{globalRepoId:t.payload});case"GIT_ACTION_TRACKED_FILES":return e.gitTrackedFiles=[],Object(V.a)(Object(V.a)({},e),{},{gitTrackedFiles:[].concat(Object(I.a)(e.gitTrackedFiles),[t.payload])});case"GIT_ACTION_UNTRACKED_FILES":return e.gitUntrackedFiles=[],Object(V.a)(Object(V.a)({},e),{},{gitUntrackedFiles:[].concat(Object(I.a)(e.gitUntrackedFiles),[t.payload])});default:return Object(V.a)({},e)}}function z(e){var t=Object(n.useReducer)(K,{hcParams:{},presentRepo:[],modifiedGitFiles:[],globalRepoId:"",gitUntrackedFiles:[],gitTrackedFiles:[]}),a=Object(c.a)(t,2),o=a[0],l=a[1];return r.a.createElement("div",{className:"App w-full h-full"},r.a.createElement(d.Provider,{value:{state:o,dispatch:l}},r.a.createElement(i.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:U}),r.a.createElement(s.b,{path:"/dashboard",exact:!0,component:J}),r.a.createElement(s.b,{path:"/dashboard/*",exact:!0,component:J})))))}a(73),a(74),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.ac8fbe2c.chunk.js.map