(this.webpackJsonpgitconvex=this.webpackJsonpgitconvex||[]).push([[0],{28:function(e,t,a){},31:function(e,t,a){},45:function(e,t,a){var n={"./prism-abap.js":[93,3],"./prism-abap.min.js":[94,4],"./prism-abnf.js":[95,5],"./prism-abnf.min.js":[96,6],"./prism-actionscript.js":[97,7],"./prism-actionscript.min.js":[98,8],"./prism-ada.js":[99,9],"./prism-ada.min.js":[100,10],"./prism-agda.js":[101,11],"./prism-agda.min.js":[102,12],"./prism-al.js":[103,13],"./prism-al.min.js":[104,14],"./prism-antlr4.js":[105,15],"./prism-antlr4.min.js":[106,16],"./prism-apacheconf.js":[107,17],"./prism-apacheconf.min.js":[108,18],"./prism-apl.js":[109,19],"./prism-apl.min.js":[110,20],"./prism-applescript.js":[111,21],"./prism-applescript.min.js":[112,22],"./prism-aql.js":[113,23],"./prism-aql.min.js":[114,24],"./prism-arduino.js":[115,25],"./prism-arduino.min.js":[116,26],"./prism-arff.js":[117,27],"./prism-arff.min.js":[118,28],"./prism-asciidoc.js":[119,29],"./prism-asciidoc.min.js":[120,30],"./prism-asm6502.js":[121,31],"./prism-asm6502.min.js":[122,32],"./prism-aspnet.js":[123,33],"./prism-aspnet.min.js":[124,34],"./prism-autohotkey.js":[125,35],"./prism-autohotkey.min.js":[126,36],"./prism-autoit.js":[127,37],"./prism-autoit.min.js":[128,38],"./prism-bash.js":[129,39],"./prism-bash.min.js":[130,40],"./prism-basic.js":[131,41],"./prism-basic.min.js":[132,42],"./prism-batch.js":[133,43],"./prism-batch.min.js":[134,44],"./prism-bbcode.js":[135,45],"./prism-bbcode.min.js":[136,46],"./prism-bison.js":[137,47],"./prism-bison.min.js":[138,48],"./prism-bnf.js":[139,49],"./prism-bnf.min.js":[140,50],"./prism-brainfuck.js":[141,51],"./prism-brainfuck.min.js":[142,52],"./prism-brightscript.js":[143,53],"./prism-brightscript.min.js":[144,54],"./prism-bro.js":[145,55],"./prism-bro.min.js":[146,56],"./prism-c.js":[147,57],"./prism-c.min.js":[148,58],"./prism-cil.js":[149,59],"./prism-cil.min.js":[150,60],"./prism-clike.js":[151,61],"./prism-clike.min.js":[152,62],"./prism-clojure.js":[153,63],"./prism-clojure.min.js":[154,64],"./prism-cmake.js":[155,65],"./prism-cmake.min.js":[156,66],"./prism-coffeescript.js":[157,67],"./prism-coffeescript.min.js":[158,68],"./prism-concurnas.js":[159,69],"./prism-concurnas.min.js":[160,70],"./prism-core.js":[161,71],"./prism-core.min.js":[162,72],"./prism-cpp.js":[163,73],"./prism-cpp.min.js":[164,74],"./prism-crystal.js":[165,75],"./prism-crystal.min.js":[166,76],"./prism-csharp.js":[167,77],"./prism-csharp.min.js":[168,78],"./prism-csp.js":[169,79],"./prism-csp.min.js":[170,80],"./prism-css-extras.js":[171,81],"./prism-css-extras.min.js":[172,82],"./prism-css.js":[173,83],"./prism-css.min.js":[174,84],"./prism-cypher.js":[175,85],"./prism-cypher.min.js":[176,86],"./prism-d.js":[177,87],"./prism-d.min.js":[178,88],"./prism-dart.js":[179,89],"./prism-dart.min.js":[180,90],"./prism-dax.js":[181,91],"./prism-dax.min.js":[182,92],"./prism-dhall.js":[183,93],"./prism-dhall.min.js":[184,94],"./prism-diff.js":[185,95],"./prism-diff.min.js":[186,96],"./prism-django.js":[187,97],"./prism-django.min.js":[188,98],"./prism-dns-zone-file.js":[189,99],"./prism-dns-zone-file.min.js":[190,100],"./prism-docker.js":[191,101],"./prism-docker.min.js":[192,102],"./prism-ebnf.js":[193,103],"./prism-ebnf.min.js":[194,104],"./prism-editorconfig.js":[195,105],"./prism-editorconfig.min.js":[196,106],"./prism-eiffel.js":[197,107],"./prism-eiffel.min.js":[198,108],"./prism-ejs.js":[199,109],"./prism-ejs.min.js":[200,110],"./prism-elixir.js":[201,111],"./prism-elixir.min.js":[202,112],"./prism-elm.js":[203,113],"./prism-elm.min.js":[204,114],"./prism-erb.js":[205,115],"./prism-erb.min.js":[206,116],"./prism-erlang.js":[207,117],"./prism-erlang.min.js":[208,118],"./prism-etlua.js":[209,119],"./prism-etlua.min.js":[210,120],"./prism-excel-formula.js":[211,121],"./prism-excel-formula.min.js":[212,122],"./prism-factor.js":[213,123],"./prism-factor.min.js":[214,124],"./prism-firestore-security-rules.js":[215,125],"./prism-firestore-security-rules.min.js":[216,126],"./prism-flow.js":[217,127],"./prism-flow.min.js":[218,128],"./prism-fortran.js":[219,129],"./prism-fortran.min.js":[220,130],"./prism-fsharp.js":[221,131],"./prism-fsharp.min.js":[222,132],"./prism-ftl.js":[223,133],"./prism-ftl.min.js":[224,134],"./prism-gcode.js":[225,135],"./prism-gcode.min.js":[226,136],"./prism-gdscript.js":[227,137],"./prism-gdscript.min.js":[228,138],"./prism-gedcom.js":[229,139],"./prism-gedcom.min.js":[230,140],"./prism-gherkin.js":[231,141],"./prism-gherkin.min.js":[232,142],"./prism-git.js":[233,143],"./prism-git.min.js":[234,144],"./prism-glsl.js":[235,145],"./prism-glsl.min.js":[236,146],"./prism-gml.js":[237,147],"./prism-gml.min.js":[238,148],"./prism-go.js":[239,149],"./prism-go.min.js":[240,150],"./prism-graphql.js":[241,151],"./prism-graphql.min.js":[242,152],"./prism-groovy.js":[243,153],"./prism-groovy.min.js":[244,154],"./prism-haml.js":[245,155],"./prism-haml.min.js":[246,156],"./prism-handlebars.js":[247,157],"./prism-handlebars.min.js":[248,158],"./prism-haskell.js":[249,159],"./prism-haskell.min.js":[250,160],"./prism-haxe.js":[251,161],"./prism-haxe.min.js":[252,162],"./prism-hcl.js":[253,163],"./prism-hcl.min.js":[254,164],"./prism-hlsl.js":[255,165],"./prism-hlsl.min.js":[256,166],"./prism-hpkp.js":[257,167],"./prism-hpkp.min.js":[258,168],"./prism-hsts.js":[259,169],"./prism-hsts.min.js":[260,170],"./prism-http.js":[261,171],"./prism-http.min.js":[262,172],"./prism-ichigojam.js":[263,173],"./prism-ichigojam.min.js":[264,174],"./prism-icon.js":[265,175],"./prism-icon.min.js":[266,176],"./prism-iecst.js":[267,177],"./prism-iecst.min.js":[268,178],"./prism-ignore.js":[269,179],"./prism-ignore.min.js":[270,180],"./prism-inform7.js":[271,181],"./prism-inform7.min.js":[272,182],"./prism-ini.js":[273,183],"./prism-ini.min.js":[274,184],"./prism-io.js":[275,185],"./prism-io.min.js":[276,186],"./prism-j.js":[277,187],"./prism-j.min.js":[278,188],"./prism-java.js":[279,189],"./prism-java.min.js":[280,190],"./prism-javadoc.js":[281,191],"./prism-javadoc.min.js":[282,192],"./prism-javadoclike.js":[283,193],"./prism-javadoclike.min.js":[284,194],"./prism-javascript.js":[285,195],"./prism-javascript.min.js":[286,196],"./prism-javastacktrace.js":[287,197],"./prism-javastacktrace.min.js":[288,198],"./prism-jolie.js":[289,199],"./prism-jolie.min.js":[290,200],"./prism-jq.js":[291,201],"./prism-jq.min.js":[292,202],"./prism-js-extras.js":[293,203],"./prism-js-extras.min.js":[294,204],"./prism-js-templates.js":[295,205],"./prism-js-templates.min.js":[296,206],"./prism-jsdoc.js":[297,207],"./prism-jsdoc.min.js":[298,208],"./prism-json.js":[299,209],"./prism-json.min.js":[300,210],"./prism-json5.js":[301,211],"./prism-json5.min.js":[302,212],"./prism-jsonp.js":[303,213],"./prism-jsonp.min.js":[304,214],"./prism-jsstacktrace.js":[305,215],"./prism-jsstacktrace.min.js":[306,216],"./prism-jsx.js":[307,217],"./prism-jsx.min.js":[308,218],"./prism-julia.js":[309,219],"./prism-julia.min.js":[310,220],"./prism-keyman.js":[311,221],"./prism-keyman.min.js":[312,222],"./prism-kotlin.js":[313,223],"./prism-kotlin.min.js":[314,224],"./prism-latex.js":[315,225],"./prism-latex.min.js":[316,226],"./prism-latte.js":[317,227],"./prism-latte.min.js":[318,228],"./prism-less.js":[319,229],"./prism-less.min.js":[320,230],"./prism-lilypond.js":[321,231],"./prism-lilypond.min.js":[322,232],"./prism-liquid.js":[323,233],"./prism-liquid.min.js":[324,234],"./prism-lisp.js":[325,235],"./prism-lisp.min.js":[326,236],"./prism-livescript.js":[327,237],"./prism-livescript.min.js":[328,238],"./prism-llvm.js":[329,239],"./prism-llvm.min.js":[330,240],"./prism-lolcode.js":[331,241],"./prism-lolcode.min.js":[332,242],"./prism-lua.js":[333,243],"./prism-lua.min.js":[334,244],"./prism-makefile.js":[335,245],"./prism-makefile.min.js":[336,246],"./prism-markdown.js":[337,247],"./prism-markdown.min.js":[338,248],"./prism-markup-templating.js":[339,249],"./prism-markup-templating.min.js":[340,250],"./prism-markup.js":[341,251],"./prism-markup.min.js":[342,252],"./prism-matlab.js":[343,253],"./prism-matlab.min.js":[344,254],"./prism-mel.js":[345,255],"./prism-mel.min.js":[346,256],"./prism-mizar.js":[347,257],"./prism-mizar.min.js":[348,258],"./prism-monkey.js":[349,259],"./prism-monkey.min.js":[350,260],"./prism-moonscript.js":[351,261],"./prism-moonscript.min.js":[352,262],"./prism-n1ql.js":[353,263],"./prism-n1ql.min.js":[354,264],"./prism-n4js.js":[355,265],"./prism-n4js.min.js":[356,266],"./prism-nand2tetris-hdl.js":[357,267],"./prism-nand2tetris-hdl.min.js":[358,268],"./prism-nasm.js":[359,269],"./prism-nasm.min.js":[360,270],"./prism-neon.js":[361,271],"./prism-neon.min.js":[362,272],"./prism-nginx.js":[363,273],"./prism-nginx.min.js":[364,274],"./prism-nim.js":[365,275],"./prism-nim.min.js":[366,276],"./prism-nix.js":[367,277],"./prism-nix.min.js":[368,278],"./prism-nsis.js":[369,279],"./prism-nsis.min.js":[370,280],"./prism-objectivec.js":[371,281],"./prism-objectivec.min.js":[372,282],"./prism-ocaml.js":[373,283],"./prism-ocaml.min.js":[374,284],"./prism-opencl.js":[375,285],"./prism-opencl.min.js":[376,286],"./prism-oz.js":[377,287],"./prism-oz.min.js":[378,288],"./prism-parigp.js":[379,289],"./prism-parigp.min.js":[380,290],"./prism-parser.js":[381,291],"./prism-parser.min.js":[382,292],"./prism-pascal.js":[383,293],"./prism-pascal.min.js":[384,294],"./prism-pascaligo.js":[385,295],"./prism-pascaligo.min.js":[386,296],"./prism-pcaxis.js":[387,297],"./prism-pcaxis.min.js":[388,298],"./prism-peoplecode.js":[389,299],"./prism-peoplecode.min.js":[390,300],"./prism-perl.js":[391,301],"./prism-perl.min.js":[392,302],"./prism-php-extras.js":[393,303],"./prism-php-extras.min.js":[394,304],"./prism-php.js":[395,305],"./prism-php.min.js":[396,306],"./prism-phpdoc.js":[397,307],"./prism-phpdoc.min.js":[398,308],"./prism-plsql.js":[399,309],"./prism-plsql.min.js":[400,310],"./prism-powerquery.js":[401,311],"./prism-powerquery.min.js":[402,312],"./prism-powershell.js":[403,313],"./prism-powershell.min.js":[404,314],"./prism-processing.js":[405,315],"./prism-processing.min.js":[406,316],"./prism-prolog.js":[407,317],"./prism-prolog.min.js":[408,318],"./prism-properties.js":[409,319],"./prism-properties.min.js":[410,320],"./prism-protobuf.js":[411,321],"./prism-protobuf.min.js":[412,322],"./prism-pug.js":[413,323],"./prism-pug.min.js":[414,324],"./prism-puppet.js":[415,325],"./prism-puppet.min.js":[416,326],"./prism-pure.js":[417,327],"./prism-pure.min.js":[418,328],"./prism-purebasic.js":[419,329],"./prism-purebasic.min.js":[420,330],"./prism-python.js":[421,331],"./prism-python.min.js":[422,332],"./prism-q.js":[423,333],"./prism-q.min.js":[424,334],"./prism-qml.js":[425,335],"./prism-qml.min.js":[426,336],"./prism-qore.js":[427,337],"./prism-qore.min.js":[428,338],"./prism-r.js":[429,339],"./prism-r.min.js":[430,340],"./prism-racket.js":[431,341],"./prism-racket.min.js":[432,342],"./prism-reason.js":[433,343],"./prism-reason.min.js":[434,344],"./prism-regex.js":[435,345],"./prism-regex.min.js":[436,346],"./prism-renpy.js":[437,347],"./prism-renpy.min.js":[438,348],"./prism-rest.js":[439,349],"./prism-rest.min.js":[440,350],"./prism-rip.js":[441,351],"./prism-rip.min.js":[442,352],"./prism-roboconf.js":[443,353],"./prism-roboconf.min.js":[444,354],"./prism-robotframework.js":[445,355],"./prism-robotframework.min.js":[446,356],"./prism-ruby.js":[447,357],"./prism-ruby.min.js":[448,358],"./prism-rust.js":[449,359],"./prism-rust.min.js":[450,360],"./prism-sas.js":[451,361],"./prism-sas.min.js":[452,362],"./prism-sass.js":[453,363],"./prism-sass.min.js":[454,364],"./prism-scala.js":[455,365],"./prism-scala.min.js":[456,366],"./prism-scheme.js":[457,367],"./prism-scheme.min.js":[458,368],"./prism-scss.js":[459,369],"./prism-scss.min.js":[460,370],"./prism-shell-session.js":[461,371],"./prism-shell-session.min.js":[462,372],"./prism-smali.js":[463,373],"./prism-smali.min.js":[464,374],"./prism-smalltalk.js":[465,375],"./prism-smalltalk.min.js":[466,376],"./prism-smarty.js":[467,377],"./prism-smarty.min.js":[468,378],"./prism-solidity.js":[469,379],"./prism-solidity.min.js":[470,380],"./prism-solution-file.js":[471,381],"./prism-solution-file.min.js":[472,382],"./prism-soy.js":[473,383],"./prism-soy.min.js":[474,384],"./prism-sparql.js":[475,385],"./prism-sparql.min.js":[476,386],"./prism-splunk-spl.js":[477,387],"./prism-splunk-spl.min.js":[478,388],"./prism-sqf.js":[479,389],"./prism-sqf.min.js":[480,390],"./prism-sql.js":[481,391],"./prism-sql.min.js":[482,392],"./prism-stylus.js":[483,393],"./prism-stylus.min.js":[484,394],"./prism-swift.js":[485,395],"./prism-swift.min.js":[486,396],"./prism-t4-cs.js":[487,397],"./prism-t4-cs.min.js":[488,398],"./prism-t4-templating.js":[489,399],"./prism-t4-templating.min.js":[490,400],"./prism-t4-vb.js":[491,401],"./prism-t4-vb.min.js":[492,402],"./prism-tap.js":[493,403],"./prism-tap.min.js":[494,404],"./prism-tcl.js":[495,405],"./prism-tcl.min.js":[496,406],"./prism-textile.js":[497,407],"./prism-textile.min.js":[498,408],"./prism-toml.js":[499,409],"./prism-toml.min.js":[500,410],"./prism-tsx.js":[501,411],"./prism-tsx.min.js":[502,412],"./prism-tt2.js":[503,413],"./prism-tt2.min.js":[504,414],"./prism-turtle.js":[505,415],"./prism-turtle.min.js":[506,416],"./prism-twig.js":[507,417],"./prism-twig.min.js":[508,418],"./prism-typescript.js":[509,419],"./prism-typescript.min.js":[510,420],"./prism-unrealscript.js":[511,421],"./prism-unrealscript.min.js":[512,422],"./prism-vala.js":[513,423],"./prism-vala.min.js":[514,424],"./prism-vbnet.js":[515,425],"./prism-vbnet.min.js":[516,426],"./prism-velocity.js":[517,427],"./prism-velocity.min.js":[518,428],"./prism-verilog.js":[519,429],"./prism-verilog.min.js":[520,430],"./prism-vhdl.js":[521,431],"./prism-vhdl.min.js":[522,432],"./prism-vim.js":[523,433],"./prism-vim.min.js":[524,434],"./prism-visual-basic.js":[525,435],"./prism-visual-basic.min.js":[526,436],"./prism-warpscript.js":[527,437],"./prism-warpscript.min.js":[528,438],"./prism-wasm.js":[529,439],"./prism-wasm.min.js":[530,440],"./prism-wiki.js":[531,441],"./prism-wiki.min.js":[532,442],"./prism-xeora.js":[533,443],"./prism-xeora.min.js":[534,444],"./prism-xml-doc.js":[535,445],"./prism-xml-doc.min.js":[536,446],"./prism-xojo.js":[537,447],"./prism-xojo.min.js":[538,448],"./prism-xquery.js":[539,449],"./prism-xquery.min.js":[540,450],"./prism-yaml.js":[541,451],"./prism-yaml.min.js":[542,452],"./prism-yang.js":[543,453],"./prism-yang.min.js":[544,454],"./prism-zig.js":[545,455],"./prism-zig.min.js":[546,456]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=45,e.exports=r},46:function(e,t,a){},50:function(e,t,a){e.exports=a(92)},55:function(e,t,a){},76:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),i=a.n(s),c=a(1),l=a(8),o=a(20),m=(a(55),a(2)),d=a.n(m),u=r.a.createContext({hcDone:!1,platform:"",git:"",node:"",shouldAddFormClose:!1,globalRepoId:"",hcParams:{},presentRepo:[],modifiedGitFiles:[],gitUntrackedFiles:[],gitTrackedFiles:[]}),p=window.location.port,g="".concat("http","://").concat(window.location.hostname,":").concat(p,"/").concat("gitconvexapi"),f=a(6),b=a(26),h=a(9),v=a(3);a(76);function j(e){f.b.add(b.a,h.a);var t=Object(n.useContext)(u).dispatch,a=[{link:"/dashboard/repository",icon:r.a.createElement(v.a,{icon:["far","folder"],className:"text-3xl text-gray-600"}),label:"Repositories"},{link:"/dashboard/settings",icon:r.a.createElement(v.a,{icon:["fas","cog"],className:"text-3xl text-gray-600"}),label:"Settings"},{link:"/dashboard/help",icon:r.a.createElement(v.a,{icon:["far","question-circle"],className:"text-3xl text-gray-600"}),label:"Help"}];return r.a.createElement("div",{className:"dashboard--leftpane xl:block lg:block md:flex md:justify-between xl:w-1/4 lg:w-1/3 md:w-full"},r.a.createElement("div",{className:"leftpane--logo",onClick:function(a){t({type:"ADD_FORM_CLOSE",payload:!0}),e.parentProps.history.push("/dashboard")}},r.a.createElement("div",{className:"dashboard-leftpane__logo"}),r.a.createElement("div",{className:"font-mono xl:text-3xl lg:text-2xl md:text-3xl sm:text-2xl p-4"},r.a.createElement("span",{className:"font-bold mx-2 border-b-4 border-pink-400"},"Git"),"Convex")),r.a.createElement("div",{className:"menu xl:mt-32 lg:mt-24 cursor-pointer xl:block lg:block md:flex sm:block items-center align-middle"},a.map((function(e){return r.a.createElement(o.b,{to:"".concat(e.link),exact:!0,activeClassName:"bg-gray-300",className:"menu--link",key:e.label},r.a.createElement("div",{className:"menu--items"},r.a.createElement("div",{className:"menu--items__icon text-sm"},e.icon),r.a.createElement("div",{className:"menu--items__label xl:text-2xl lg:text-2xl md:text-xl"},e.label)))}))))}var E=a(16),x=a.n(E),N=a(21),y=a(19);function O(e){var t=e.loadAnimation,a=Object(y.b)({from:{marginLeft:"0px",opacity:0},to:function(){var e=Object(N.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=100;case 1:if(!--a){e.next=12;break}return e.next=4,t({marginLeft:"10px",opacity:.5});case 4:return e.next=6,t({marginLeft:"20px",opacity:.8});case 6:return e.next=8,t({marginLeft:"30px",opacity:1});case 8:return e.next=10,t({marginLeft:"0px",opacity:1});case 10:e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),config:{tension:"500"}});return r.a.createElement("div",{className:"flex gap-4 mx-auto text-center"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.div,{className:"bg-pink-200 w-8 h-8 rounded-full p-2",style:a}),r.a.createElement(y.a.div,{className:"bg-green-200 w-8 h-8 rounded-full p-2",style:a}),r.a.createElement(y.a.div,{className:"bg-blue-200 w-8 h-8 rounded-full p-2",style:a})):null)}a(80),a(81);function w(e){f.b.add(h.a);var t=Object(n.useContext)(u),a=t.state,s=t.dispatch,i=Object(n.useState)(""),l=Object(c.a)(i,2),o=l[0],m=l[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),j=b[0],E=b[1],x=Object(n.useState)(""),N=Object(c.a)(x,2),w=N[0],k=N[1],C=Object(n.useState)(!1),S=Object(c.a)(C,2),T=S[0],R=S[1],I=Object(n.useState)(!1),F=Object(c.a)(I,2),A=F[0],_=F[1],P=Object(n.useState)(!1),L=Object(c.a)(P,2),D=L[0],q=L[1],B=Object(n.useState)(!1),M=Object(c.a)(B,2),G=M[0],H=M[1],U=Object(n.useState)(!1),J=Object(c.a)(U,2),V=J[0],z=J[1],K=Object(n.useState)(!1),Y=Object(c.a)(K,2),W=Y[0],Z=Y[1],X=Object(y.b)({config:{duration:1500,tension:500},from:{transform:"translate(0em, 0em)"},to:{transform:"translate(2em, 0em)"}}),$=Object(y.b)({config:{duration:500,tension:500},from:{transform:"translate(2em, 0em)"},to:{transform:"translate(0em, 0em)"}});function Q(){R(!1),_(!1)}function ee(e){return r.a.createElement("div",{key:"switch-".concat(e),className:"toggle-switch ".concat("clone"===e&&V?"bg-green-400":"bg-gray-200","\n        ").concat("init"===e&&W?"bg-blue-400":"bg-gray-200"),onClick:function(t){"clone"===e?V?z(!1):(z(!0),Z(!1)):W?Z(!1):(Z(!0),z(!1))}},"clone"===e?r.a.createElement(y.a.div,{className:"toggle-switch--pill",id:"".concat(e,"-switch"),style:V?X:$}):r.a.createElement(y.a.div,{className:"toggle-switch--pill",id:"".concat(e,"-switch"),style:W?X:$}))}return Object(n.useEffect)((function(){a.shouldAddFormClose&&e.formEnable(!1)}),[a,e]),r.a.createElement("div",{className:"repo-form--status xl:w-1/2 lg:w-2/3 md:w-3/4 sm:w-11/12 w-11/12 ".concat(G?"border-dashed border-2":"")},G?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"status--label"},"Repo setup in progress..."),r.a.createElement("div",{className:"animation-loader"},r.a.createElement(O,{loadAnimation:G}))):r.a.createElement("div",{className:"repo-form block"},A?r.a.createElement("div",{className:"alert-success"},"New repo added"):T?r.a.createElement("div",{className:"alert-failure"},"Process failed! Please try again",D?r.a.createElement("div",{className:"font-semibold"},"Invalid input paremeters!"):null):null,r.a.createElement("div",{className:"repo-form--header"},"Enter Repo Details"),r.a.createElement("div",null,r.a.createElement("input",{id:"repoNameText",type:"text",placeholder:"Enter a Repository Name",className:"repo-form--input",onChange:function(e){m(e.target.value)},value:o,onClick:function(){Q()}})),r.a.createElement("div",null,r.a.createElement("input",{id:"repoPathText",type:"text",placeholder:V?"Enter base directory path":"Enter repository path",className:"repo-form--input",onChange:function(e){E(e.target.value)},value:j,onClick:function(){Q()}})),V&&j&&o?r.a.createElement("div",{className:"repo-form--clone"},"The repo will be cloned to",r.a.createElement("span",{className:"mx-3 text-center font-sans font-semibold border-b-2 border-dashed"},j,r.a.createElement(r.a.Fragment,null,j.includes("\\")?"\\":"/"),o)):null,r.a.createElement("div",{className:"repo-form--options"},r.a.createElement("div",{className:"options--switch"},r.a.createElement("div",null,ee("clone")),r.a.createElement("div",{className:"options--label"},"Clone from remote")),r.a.createElement("div",{className:"options--switch"},r.a.createElement("div",null,ee("init")),r.a.createElement("div",{className:"options--label"},"Initialize a new repo"))),V?r.a.createElement("div",{className:"option--clone"},r.a.createElement("div",{className:"option--clone--icon"},r.a.createElement(v.a,{icon:["fas","link"]})),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{value:w,className:"border-0 outline-none w-full p-2",placeholder:"Enter the remote repo URL",onClick:function(){R(!1)},onChange:function(e){k(e.target.value)}}))):null,r.a.createElement("div",{className:"repo-form--action"},r.a.createElement("div",{className:"btn btn-danger",id:"addRepoClose",onClick:function(){e.formEnable(!1)}},"Close"),r.a.createElement("div",{className:"btn btn-success",id:"addRepoSubmit",onClick:function(){!function(e,t){if(e&&t){if(e.match(/[^a-zA-Z0-9-_.\s]/gi))return q(!0),void R(!0);var n=!1,r=!1,i=w;if(t=t.replace(/\\/gi,"\\\\"),V&&!w)return R(!0),!1;if(i.match(/[^a-zA-Z0-9-_.~@#$%:/]/gi))return q(!0),void R(!0);W?n=!0:V&&i&&(r=!0),H(!0),d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRepo(repoName: "'.concat(e,'", repoPath: "').concat(t,'", initSwitch: ').concat(n,", cloneSwitch: ").concat(r,', cloneUrl: "').concat(i,'"){\n                  message\n                  repoId\n                }\n              }\n            ')}}).then((function(e){if(H(!1),q(!1),e.data.data&&!e.data.error){var t=e.data.data.addRepo.message;t&&!t.match(/FAIL/g)?(_(!0),R(!1),z(""),Z(""),m(""),E(""),k(""),s({action:"DELETE_PRESENT_REPO",payload:[]}),console.log(a.presentRepo)):(R(!0),_(!1))}else R(!0),_(!1)})).catch((function(e){H(!1),console.log(e),R(!0),_(!1)}))}else q(!1),R(!0)}(o,j)}},"Submit"))))}var k=a(11);a(82);function C(e){f.b.add(k.a,h.a);var t=e.repoData,a=Object(n.useState)(""),s=Object(c.a)(a,2),i=s[0],l=s[1],m=Object(n.useState)(!1),u=Object(c.a)(m,2),p=u[0],b=u[1];Object(n.useEffect)((function(){b(!0);var t=e.repoData.id,a=JSON.stringify(JSON.stringify({repoId:t})),n=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:n.token,data:{query:'\n    \n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                    gitRepoStatus {\n                      gitTotalCommits\n                      gitTotalTrackedFiles  \n                      gitCurrentBranch  \n                    }\n                  }\n                }\n              ")}}).then((function(e){b(!1),l(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){b(!1)})),function(){n.cancel()}}),[e]);var j=t.repoName,E="";if(j)if(j.split(" ").length>1){var x=j.split(" ");E=(E=x[0].substring(0,1)+x[1].substring(0,1)).toUpperCase()}else E=j.substring(0,1).toUpperCase();return r.a.createElement(o.b,{to:"/dashboard/repository/".concat(t.id),className:"xl:w-1/3 lg:w-2/4 md:w-1/2 repo-card",key:t.repoName},r.a.createElement("div",{className:"repo-card--avatar"},E),r.a.createElement("div",{className:"repo-card--name"},t.repoName),r.a.createElement("div",{className:"repo-card--footer"},p||!i?r.a.createElement("div",{className:"block mx-auto w-full bg-white rounded"},r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:p||!i}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"footer--items rounded-l-md"},r.a.createElement(v.a,{className:"my-auto",icon:["fas","grip-lines"]}),r.a.createElement("div",{className:"footer--items--label"},i?r.a.createElement(r.a.Fragment,null,i.gitTotalCommits," Commits"):"...")),r.a.createElement("div",{className:"footer--items"},r.a.createElement(v.a,{className:"my-auto",icon:["fas","file-alt"]}),r.a.createElement("div",{className:"footer--items--label"},i?r.a.createElement(r.a.Fragment,null,i.gitTotalTrackedFiles," Tracked Files"):"...")),r.a.createElement("div",{className:"footer--items rounded-r-md"},r.a.createElement(v.a,{className:"my-auto",icon:["fas","code-branch"]}),r.a.createElement("div",{className:"footer--items--label font-semibold"},i?r.a.createElement(r.a.Fragment,null,i.gitCurrentBranch):"...")))))}function S(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],p=o[1],f=Object(n.useState)(!1),b=Object(c.a)(f,2),h=b[0],v=b[1],j=Object(n.useContext)(u).dispatch;Object(n.useEffect)((function(){v(!0);var e=g,t=d.a.CancelToken.source();return d()({url:e,method:"POST",cancelToken:t.token,data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n              fetchRepo{\n                repoId\n                repoName\n                repoPath\n              }\n            }\n          }\n        ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(v(!1),t){var a=t.repoId,n=t.repoName,r=[];a.forEach((function(e,t){r.push({id:e,repoName:n[t]})})),i(r),j({type:"DELETE_PRESENT_REPO",payload:[]}),j({action:"PRESENT_REPO",payload:[].concat(r)})}})).catch((function(e){console.log(e),v(!1)})),function(){t.cancel()}}),[m,j]);return r.a.createElement("div",{className:"repo-component"},m?r.a.createElement(w,{formEnable:function(e){p(e)}}):function(){var e=s;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"repo-component--wrapper"},r.a.createElement(r.a.Fragment,null,e.length>0?r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(C,{key:e.id,repoData:e})})),e.length%2!==0&&1!==e.length?r.a.createElement("div",{className:"xl:w-1/3 lg:w-2/4 md:w-1/2 block p-6 my-6 text-center"}):null):r.a.createElement("div",{className:"repo-component--loadingview"},h?r.a.createElement("div",{className:"block loadingview--content"},r.a.createElement("div",{className:"flex loadingview--content"},r.a.createElement(O,{loadAnimation:h})),r.a.createElement("div",null,"Loading available repos...")):r.a.createElement("div",null,"No repos present. Press + to add a new repo")))),r.a.createElement("div",{className:"repo-component--addrepo"},r.a.createElement("div",{id:"addRepoButton",className:"addrepo--button",onClick:function(){p(!0),j({type:"ADD_FORM_CLOSE",payload:!1})},onMouseEnter:function(e){e.stopPropagation(),e.preventDefault(),document.getElementById("pop-up").classList.remove("hidden")},onMouseLeave:function(e){document.getElementById("pop-up").classList.add("hidden")}},r.a.createElement("span",null,"+"),r.a.createElement("div",{id:"pop-up",className:"addrepo--button--tooltip hidden",style:{marginTop:"-75px",width:"130px"}},"Click to add a new repo"))))}())}a(83);function T(e){var t=e.params,a=t.platform,n=t.gitVersion,s=t.nodeVersion,i=[{label:"Platform",value:a},{label:"Git",value:n},{label:"Node",value:s}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dashboard--rightpane xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"rightpane--toparea xl:flex lg:flex md:block sm:block"},i.map((function(e){return r.a.createElement("div",{key:e.label,className:"rightpane--toparea--hc"},r.a.createElement("div",{className:"rightpane--toparea--hclabel xl:font-bold lg:font-semibold md:font-medium xl:text-2xl lg:text-xl md:text-md"},e.label),""!==e.value?r.a.createElement("div",{className:"rightpane--toparea--hcpills",id:"hc-param__".concat(e.label)},e.value):r.a.createElement("div",{className:"rounded-md bg-red-200 text-red-900 font-bold p-2"},"Invalid"))}))),function(){if(a&&n&&s)return r.a.createElement(S,{parentProps:e})}()))}function R(){return f.b.add(h.a,k.a),r.a.createElement("div",{className:"w-full h-full pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"flex text-5xl text-gray-700 mx-6 my-auto align-middle items-center"},r.a.createElement(v.a,{icon:["fas","question-circle"]}),r.a.createElement("div",{className:"my-5 mx-5 font-sans"},"Help and Support")),r.a.createElement("div",{className:"my-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans text-gray-900"},"Facing an issue or need any help?"),r.a.createElement("span",{className:"text-xl font-medium my-2"},"Before raising an issue, make sure you have gone through the"),r.a.createElement("span",{className:"font-mono text-xl mx-2 text-indigo-500 hover:text-indigo-600 hover:font-semibold cursor-pointer"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex/blob/master/DOCUMENTATION.md",target:"_blank",rel:"noopener noreferrer"},"Documentation"))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-indigo-800"},"Have any queries or want to share your feedback?"),r.a.createElement("div",{className:"flex mx-auto my-2 items-center align-middle"},r.a.createElement("div",{className:"text-gray-800 text-2xl font-sans"},"Lets have a discussion on"),r.a.createElement("a",{href:"https://discord.gg/PSd2Cq9",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex mx-2 justify-around align-middle items-center bg-indigo-400 text-white p-2 rounded shadow-sm text-2xl cursor-pointer hover:bg-indigo-500"},r.a.createElement(v.a,{icon:["fab","discord"]}),r.a.createElement("div",{className:"mx-3 font-sans font-black"},"discord"))))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600"},"You can also use the github issue reporting feature to report any issue you find in the platform"),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-package/issues",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex w-1/3 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 w-3/4 cursor-pointer hover:shadow-lg align-middle my-3 items-center p-3 bg-white shadow-md rounded border border-gray-500"},r.a.createElement(v.a,{icon:["fab","github"]}),r.a.createElement("div",{className:"mx-2"},"Report an issue")))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600 my-5 break-normal"},"gitconvex is open source and please visit the repo if you are interested in contributing to the platform"),r.a.createElement("div",{className:"xl:flex lg:block md:block justify-center items-center align-middle"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-ui",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-blue-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(v.a,{icon:["fab","react"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex UI")),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-server",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-green-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(v.a,{icon:["fab","node-js"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex server")))))}var I=a(4),F=(a(84),a(18)),A=a(547);a(31),a(85);function _(){var e=Object(n.useContext)(u),t=e.state,s=e.dispatch,i=t.globalRepoId,l=Object(n.useState)([]),o=Object(c.a)(l,2),m=o[0],p=o[1],f=Object(n.useState)("Click on a file item to see the difference"),b=Object(c.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)([]),E=Object(c.a)(j,2),y=E[0],O=E[1],w=Object(n.useState)(""),k=Object(c.a)(w,2),C=k[0],S=k[1],T=Object(n.useState)(!1),R=Object(c.a)(T,2),_=R[0],P=R[1],L=Object(n.useState)(""),D=Object(c.a)(L,2),q=D[0],B=D[1],M=Object(n.useState)(""),G=Object(c.a)(M,2),H=G[0],U=G[1];return Object(n.useEffect)((function(){var e=t.globalRepoId;S(""),O("Click on a file item to see the difference"),v("Click on a file item to see the difference");var a=g;if(e){var n=JSON.stringify(JSON.stringify({repoId:e}));d()({url:a,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(n,")\n              {\n                gitChanges{\n                  gitChangedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){if(e&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitChanges.gitChangedFiles;(t=t.filter((function(e){return"D"!==e.split(",")[0]}))).length>=1?p(Object(I.a)(t)):B("No modified or new files found in the repo. All the files are either removed or not present in the repo!"),P(!0),s({type:"GIT_TRACKED_FILES",payload:t})}})).catch((function(e){return e}))}}),[t.globalRepoId,s]),r.a.createElement(r.a.Fragment,null,m&&m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-diff--wrapper"},r.a.createElement("div",{className:"git-diff--files",style:{height:"880px"}},r.a.createElement(r.a.Fragment,null,m.length>=1&&m.map((function(e){if(e&&"M"===e.split(",")[0]){var t=e.split(",")[1];return r.a.createElement("div",{className:"p-2 text-sm break-words hover:bg-indigo-100 cursor-pointer ".concat(t===C?" bg-indigo-100 border-b border-indigo-400":""),onClick:function(){S(t),function(e,t){var n=g;B("");var r=JSON.stringify(JSON.stringify({repoId:e,fileName:t}));d()({url:n,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("REPO_FILE_DIFF",'", payload:').concat(r,")\n            {\n              gitFileLineChanges{\n                diffStat\n                fileDiff\n                language\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(N.a)(x.a.mark((function e(t){var n,r,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.data||t.data.error){e.next=14;break}if(n=t.data.data.gitConvexApi.gitFileLineChanges,r=n.diffStat,s=n.fileDiff,i=n.language,"NO_STAT"!==r[0]&&"NO_DIFF"!==s[0]){e.next=6;break}B("No difference could be found. Please check if the file is present in the repo!"),e.next=12;break;case 6:if(v(r[1]),O(s),!i){e.next=12;break}return e.next=11,a(45)("./prism-"+i+".js").then((function(){})).catch((function(e){console.log(e),U("markdown")}));case 11:U(i);case 12:e.next=15;break;case 14:B("Error while fetching the file difference. Please try reloading the view!");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),B("Error while fetching the file difference. Please try reloading the view!")}))}(i,t)},key:t},function(e){if(e.includes("/")){var t=e.split("/"),a=t.map((function(e,a){return a===t.length-1?null:e})).join("/"),n=t[t.length-1];return r.a.createElement("div",{className:"git-diff--files--list",title:e},r.a.createElement("div",{className:"bg-gray-100 p-1 rounded"},r.a.createElement("div",{className:"git-diff--files--label"},"Directory:"),r.a.createElement("div",{className:"git-diff--files--directory"},a)),r.a.createElement("div",{className:"git-diff--files--filename_sm"},n))}return r.a.createElement("span",{className:"git-diff--files--filename_lg"},e)}(t))}return null})))),C?"":r.a.createElement("div",{className:"git-diff--msg"},"Click on a file to see difference information"),q?r.a.createElement("div",{className:"git-diff--warn"},q):null,h&&"Click on a file item to see the difference"!==h&&!q?r.a.createElement("div",{className:"git-diff--codeview"},h?function(){if(h&&h.includes(",")){var e=h.split(",");return r.a.createElement("div",{className:"text-xl text-center w-3/4 mx-auto block p-2 border border-gray-500 rounded-md shadow-md border-dotted"},r.a.createElement("span",{className:"font-sans font-bold px-1"},e[0]),e.slice(1,e.length).map((function(e){return e.match(/insert/i)?r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-green-700 font-sans font-semibold"},"insertions (+)")):r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-red-700 font-sans font-semibold"},"deletions (-)"))})))}}():"",y&&"Click on a file item to see the difference"!==y?r.a.createElement("div",{className:"git-diff--codeview--content",style:{height:"800px"}},function(){var e=[],t=0;return y&&y.join("").split(/@@.*@@/gi)&&H&&(e=y.join("|__HASH_SEPARATOR__|").split(/@@.*@@/gi)[1].split("|__HASH_SEPARATOR__|").map((function(e){return e.match(/\\ No newline at end of file/gi)?"":e[0]&&"+"===e[0]?r.a.createElement("div",{className:"git-diff--codeview--change bg-green-200",key:"".concat(e,"-").concat(Object(A.a)())},r.a.createElement("div",{className:"git-diff--codeview--linenumber border-green-500 text-green-500"},++t),r.a.createElement("pre",{className:"w-5/6 mx-2"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("+",""),F.languages[H],H)}}))):e[0]&&"-"===e[0]?r.a.createElement("div",{className:"git-diff--codeview--change bg-red-200",key:"".concat(e,"-").concat(Object(A.a)())},r.a.createElement("div",{className:"git-diff--codeview--linenumber border-red-500 text-red-500"},"-"),r.a.createElement("pre",{className:"w-5/6 mx-2"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("-",""),F.languages[H],H)}}))):e[0]?r.a.createElement("div",{className:"git-diff--codeview--change bg-white-200 ",key:"".concat(e,"-").concat(Object(A.a)())},r.a.createElement("div",{className:"git-diff--codeview--linenumber"},++t),r.a.createElement("pre",{className:"w-5/6"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e,F.languages[H],H)}}))):""}))),r.a.createElement("div",{className:"break-all my-6 mx-auto"},r.a.createElement("code",null,e))}()):""):"")):r.a.createElement(r.a.Fragment,null,_?r.a.createElement("div",{className:"git-diff--error"},"No File changes in the repo"):r.a.createElement("div",{className:"git-diff--loader"},r.a.createElement("span",{className:"text-gray-400"},"Fetching changed files from the server..."))))}a(28);function P(e){var t=e.repoId,a=Object(n.useState)(!0),s=Object(c.a)(a,2),i=s[0],l=s[1],o=Object(n.useState)([]),m=Object(c.a)(o,2),u=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(c.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(!1),E=Object(c.a)(j,2),x=E[0],N=E[1],y=Object(n.useState)(!1),O=Object(c.a)(y,2),w=O[0],k=O[1],C=Object(n.useRef)();return Object(n.useEffect)((function(){l(!0);var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(t,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;l(!1),t&&t.length>0&&p(Object(I.a)(t))})).catch((function(e){l(!1)})),function(){a.cancel()}}),[e]),r.a.createElement("div",{className:"git-ops--commit"},u&&u.length>0?function(){if(u&&u.length>0){var e=u.length;return r.a.createElement(r.a.Fragment,null,h?r.a.createElement("div",{className:"git-ops--commit--alert--success"},"All changes have been committed!"):r.a.createElement("div",{className:"git-ops--commit--wrapper"},r.a.createElement("div",{className:"git-ops--commit--header"},e," Changes to commit..."),r.a.createElement("div",{className:"overflow-auto",style:{height:"300px"}},u.map((function(e){return r.a.createElement("div",{className:"git-ops--commit--stagedfiles",key:e},e)}))),r.a.createElement("div",{className:"text-xl my-4"},"Commit Message"),r.a.createElement("textarea",{className:"git-ops--commit--message",placeholder:"Enter commit message",cols:"20",rows:"5",ref:C}),x?r.a.createElement("div",{className:"git-ops--commit--alert--failed"},"Commit Failed!"):null,w?r.a.createElement("div",{className:"git-ops--commit--alert--progress"},"Committing Changes..."):r.a.createElement("div",{className:"git-ops--commit--btn",onClick:function(e){var a=C.current.value;a?function(e){k(!0),(e=e.replace(/"/gi,'\\"')).split("\n")&&e.split("\n").length>0&&(e=e.toString().split("\n").join("||")),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            commitChanges(repoId: "'.concat(t,'", commitMessage: "').concat(e,'")\n          }\n        ')}}).then((function(e){k(!1),e.data.data&&!e.data.error&&"COMMIT_DONE"===e.data.data.commitChanges?v(!0):N(!0)})).catch((function(e){k(!1),N(!0)}))}(a):alert("Commit message can't be empty")}},"Commit Changes")))}}():r.a.createElement("div",{className:"git-ops--commit--alert"},i?r.a.createElement("span",null,"Loading staged files to commit..."):0===u.length?r.a.createElement("span",null,"No Staged files to commit"):r.a.createElement("span",null,"Loading...")))}function L(e){var t=e.repoId,a=Object(n.useState)(),s=Object(c.a)(a,2),i=s[0],l=s[1],o=Object(n.useState)(!1),m=Object(c.a)(o,2),u=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(c.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)([]),E=Object(c.a)(j,2),x=E[0],N=E[1],y=Object(n.useState)(!1),w=Object(c.a)(y,2),k=w[0],C=w[1],S=Object(n.useState)(!1),T=Object(c.a)(S,2),R=T[0],F=T[1],A=Object(n.useState)(!1),_=Object(c.a)(A,2),P=_[0],L=_[1],D=Object(n.useState)(!1),q=Object(c.a)(D,2),B=q[0],M=q[1],G=Object(n.useRef)(),H=Object(n.useRef)();function U(e){var t=e.split("||");return r.a.createElement("div",{className:"block justify-evenly border shadow rounded p-2"},["Commit Hash","Commit Author","Commit Timestamp","Commit Message"].map((function(e,a){return n=e,s=t[a],r.a.createElement("div",{className:"flex justify-evenly",key:n},r.a.createElement("div",{className:"font-sans text-gray-900 font-bold mx-2 w-1/4 break-words"},n),r.a.createElement("div",{className:"font-sans text-gray-800 mx-2 w-1/2 break-words"},s));var n,s})))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;l(t)})).catch((function(e){console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,R?r.a.createElement("div",{className:"git-ops--push--success"},r.a.createElement("div",{className:"git-ops--push--alert--success"},"Changes have been pushed to remote")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--push"},r.a.createElement("div",{className:"git-ops--push--header"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"git-ops--push--select",defaultValue:"checked",onChange:function(){p(!0)},ref:G,disabled:!i},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},i?"Select the remote repo":"Loading available remotes..."),i?function(){if(i){var e=i.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),u?r.a.createElement("div",null,r.a.createElement("select",{className:"git-ops--push--select",defaultValue:"checked",onChange:function(){v(!0),function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_UNPUSHED_COMMITS",'", payload: ').concat(t,"){\n              gitUnpushedCommits{\n                commits\n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitUnpushedCommits.commits;0===t.length&&C(!0),N(Object(I.a)(t))}})).catch((function(e){console.log(e)}))}()},ref:H},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),i?function(){if(i)return i.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,x&&x.length>0?r.a.createElement("div",{className:"git-ops--push--unpushed"},r.a.createElement("div",{className:"git-ops--push--unpushed--label"},"Commits to be pushed"),r.a.createElement("div",{className:"overflow-auto",style:{height:"200px"}},x.map((function(e,t){return r.a.createElement("div",{key:"unpushed-commit-".concat(t),className:"git-ops--push--commits"},U(e))})))):r.a.createElement("div",null),P?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--push--nochange"},"Failed to push changes!")):null,u&&h&&x.length>0&&!B?r.a.createElement("div",{className:"git-ops--push--btn",onClick:function(){var e,a,n=G.current.value.trim(),r=H.current.value.trim();n&&r&&(e=n,a=r,M(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            pushToRemote(repoId: "'.concat(t,'", remoteHost: "').concat(e,'", branch: "').concat(a,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error&&"PUSH_FAILED"!==e.data.data.pushToRemote?(F(!0),M(!1)):(L(!0),M(!1))})).catch((function(e){L(!0),M(!1)})))}},"Push changes"):r.a.createElement(r.a.Fragment,null,k?r.a.createElement("div",{className:"git-ops--push--nocommits"},"No Commits to Push"):null),r.a.createElement(r.a.Fragment,null,B?r.a.createElement("div",{className:"git-ops--push--loader"},r.a.createElement("div",{className:"text-green-500 text-2xl"},"Pushing to remote..."),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:B}))):null))))}function D(e){var t=e.stageComponents,a=e.repoId,s=Object(n.useState)(!1),i=Object(c.a)(s,2),l=i[0],o=i[1],m=Object(n.useState)(!1),u=Object(c.a)(m,2),p=u[0],f=u[1],b=Object(n.useState)(!1),h=Object(c.a)(b,2),v=h[0],j=h[1];return Object(n.useEffect)((function(){}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--stage"},r.a.createElement(r.a.Fragment,null,t.length>0&&!l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--stage--header"},"All these changes will be staged:"),r.a.createElement("div",{className:"overflow-y-auto",style:{height:"400px"}},t&&t.map((function(e){return r.a.createElement("div",{className:"git-ops--stage--item",key:e},e)}))),v?r.a.createElement("div",{className:"git-ops--stage--alert--failure"},"Staging Failed!"):null,p?r.a.createElement("div",{className:"git-ops--stage--alert--progress"},"Staging in prgoress..."):r.a.createElement("div",{className:"git-ops--stage--btn",onClick:function(){f(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageAllItems(repoId: "'.concat(a,'")\n          }\n        ')}}).then((function(e){f(!1),e.data.data&&!e.data.error&&"ALL_STAGED"===e.data.data.stageAllItems&&o(!0)})).catch((function(e){console.log(e),f(!1),j(!0)}))}},"Confirm Staging")):r.a.createElement("div",{className:"git-ops--stage--alert--nochange"},"No Changes for staging..."),l?r.a.createElement("div",{className:"git-ops--stage--alert--success"},"All changes Staged!"):null)))}function q(e){f.b.add(k.a);var t=e.repoId,a=e.stateChange,s=Object(n.useState)([]),i=Object(c.a)(s,2),l=i[0],o=i[1],m=Object(n.useState)([]),u=Object(c.a)(m,2),p=u[0],b=u[1],h=Object(n.useState)(""),v=Object(c.a)(h,2),j=v[0],E=v[1],x=Object(n.useState)([]),N=Object(c.a)(x,2),y=N[0],O=N[1],w=Object(n.useState)(0),C=Object(c.a)(w,2),S=C[0],T=C[1],R=Object(n.useState)(""),F=Object(c.a)(R,2),A=F[0],_=F[1],q=Object(n.useState)([]),B=Object(c.a)(q,2),M=B[0],G=B[1],H=Object(n.useState)(!1),U=Object(c.a)(H,2),J=U[0],V=U[1],z=Object(n.useState)(!1),K=Object(c.a)(z,2),Y=K[0],W=K[1];Object(n.useEffect)((function(){W(!0),G([]),_("");var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(t,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                  gitStagedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.gitChanges;o(Object(I.a)(t.gitChangedFiles)),b(Object(I.a)(t.gitUntrackedFiles));var a=Object(I.a)(t.gitChangedFiles),n=Object(I.a)(t.gitUntrackedFiles),r=[];a&&a.forEach((function(e){if(e.split(",").length>0){var t=e.split(",")[1];r.push(t)}})),n&&n.forEach((function(e){e&&((e=e.replace("NO_DIR","")).split(",")?r.push(e.split(",").join("")):r.push(e))})),O([].concat(r)),W(!1)}})).catch((function(e){W(!1)})),function(){a.cancel()}}),[e,S,A]),Object(n.useEffect)((function(){var t=d.a.CancelToken.source(),a=JSON.stringify(JSON.stringify({repoId:e.repoId}));return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:t.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(a,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;t&&t.length>0&&G(Object(I.a)(t))})).catch((function(e){})),function(){return t.cancel()}}),[y,e.repoId,S]);function Z(){var e=[],a=function(e){return"M"===e?r.a.createElement("div",{className:"git-ops--file--status text-yellow-700 border-yellow-500 "},"Modified"):"D"===e?r.a.createElement("div",{className:"git-ops--file--status text-red-700 bg-red-200 border-red-500 "},"Removed"):r.a.createElement("div",{className:"git-ops--file--status text-indigo-700 border-indigo-500 "},"Untracked")},n=function(e){return r.a.createElement("div",{className:"git-ops--stageitem--add",onClick:function(a){!function(e,a){var n=S+1;a.target.innerHTML="Staging...",a.target.style.backgroundColor="gray",a.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n          }\n        ')}}).then((function(t){T(n),t.data.data&&!t.data.error&&"ADD_ITEM_SUCCES"===t.data.data.stageItem&&_(e)})).catch((function(e){console.log(e),T(n)}))}(e,a),V(!1)},key:"add-btn-".concat(e)},"Add")};return l&&l.forEach((function(t){if(t.split(",").length>0){var r=t.split(",")[1];e.push([r,a(t.split(",")[0]),n(r)])}})),p&&p.forEach((function(t){t&&((t=t.replace("NO_DIR","")).split(",")?e.push([t.split(",").join(""),a("N"),n(t.split(",").join(""))]):e.push([t,a("N"),n(t)]))})),e}return r.a.createElement(r.a.Fragment,null,j?r.a.createElement("div",{className:"git-ops--backdrop",id:"operation-backdrop",style:{background:"rgba(0,0,0,0.6)"},onClick:function(e){"operation-backdrop"===e.target.id&&(E(""),T(S+1),G([]),o([]),b([]),O([]))}},function(e){switch(e){case"stage":return y&&y.length>0?r.a.createElement(D,{repoId:t,stageComponents:y}):r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"bg-white p-6 font-sans text-3xl font-light text-gray-500 border-b-4 border-dashed rounded-lg shadow-lg border-gray-500 text-center"},"No Changes for staging..."));case"commit":return r.a.createElement(P,{repoId:t});case"push":return r.a.createElement(L,{repoId:t});default:return null}}(j),r.a.createElement("div",{className:"git-ops--backdrop--close",onClick:function(){E("")}},"X")):null,r.a.createElement("div",{className:"git-ops--actions"},[{label:"Stage all changes",color:"blue",key:"stage"},{label:"Commit Changes",color:"green",key:"commit"},{label:"Push to remote",color:"pink",key:"push"}].map((function(e){var t=e.label,a=e.color,n=e.key;return r.a.createElement("div",{className:"git-ops--actions--btn border-".concat(a,"-500 text-").concat(a,"-700 hover:bg-").concat(a,"-500"),key:n,onClick:function(){return E(n)}},t)}))),Z()&&Z().length>0?r.a.createElement("div",{className:"git-ops--file-table"},r.a.createElement("div",{className:"git-ops--file-table--header"},["Changes","File Status","Action"].map((function(e,t){return r.a.createElement("div",{key:e,className:"git-ops--file-table--cols ".concat(0===t?"w-3/4":"w-1/4")},e)}))),r.a.createElement("div",{className:"git-ops--file-table--data",style:{height:"400px"}},r.a.createElement("div",null,Z()&&Z().map((function(e,t){return r.a.createElement("div",{className:"git-ops--file-table--items",key:"tableItem-".concat(t)},e.map((function(e,t){return r.a.createElement("div",{key:"".concat(e,"-").concat(t),className:"break-all items-center align-middle my-auto ".concat(0===t?"w-3/4 text-left":"w-1/4 text-center")},e)})))}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--nochange"},Y?r.a.createElement("span",{className:"text-gray-600"},"Fetching results..."):r.a.createElement("span",null,"No files changes found in the repo."))),r.a.createElement(r.a.Fragment,null,M?function(){if(M&&M.length>0)return r.a.createElement("div",{className:"git-ops--stagearea"},r.a.createElement("div",{className:"git-ops--stagearea--top"},r.a.createElement("div",{className:"text-5xl font-sans text-gray-800 mx-4"},"Staged Files"),r.a.createElement("div",{className:"git-ops--unstage--btn",onClick:function(e){!function(e){var n=S+1;G(),a(),e.target.innerHTML="Removing...",e.target.style.backgroundColor="gray",e.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeAllStagedItem(repoId: "'.concat(t,'")\n            }\n          ')}}).then((function(e){T(n+1),e.data.data&&!e.data.error&&"STAGE_ALL_REMOVE_SUCCESS"===e.data.data.removeAllStagedItem&&G([])})).catch((function(e){console.log(e),T(n+1)}))}(e),V(!1)}},"Remove All Items")),J?r.a.createElement("div",{className:"my-4 mx-auto text-center shadow-md rounded p-4 border border-red-200 text-red-400 font-sans font-semibold"},"Remove item failed. Note that deleted files cannot be removed as a single entity. Use",r.a.createElement("i",{className:"border-b border-gray-600 border-dashed mx-2"},"Remove All Items"),"to perform a complete git reset"):null,r.a.createElement("div",{className:"git-ops--unstage--header"},r.a.createElement("div",{className:"w-3/4"},"Staged File"),r.a.createElement("div",{className:"w-1/2"},"Action")),r.a.createElement("div",{className:"git-ops--unstage--table",style:{height:"450px"}},M.map((function(e){return e?r.a.createElement("div",{className:"git-ops--unstage--table--data",key:e},r.a.createElement("div",{className:"git-ops--unstage--table--item"},e),r.a.createElement("div",{className:"w-1/2 mx-auto"},r.a.createElement("div",{className:"git-ops--unstage--remove--btn",onClick:function(n){!function(e,n){var r=S+1;a(),n.target.innerHTML="removing...",n.target.style.backgroundColor="gray",n.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeStagedItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n            }\n          ')}}).then((function(t){if(T(r),t.data.data&&!t.data.error)if("STAGE_REMOVE_SUCCESS"===t.data.data.removeStagedItem){var a=M;a=a.filter((function(t){return t!==e})),G(Object(I.a)(a))}else V(!0)})).catch((function(e){console.log(e),T(r),V(!0)}))}(e,n),V(!1)},key:"remove-btn-".concat(e)},"Remove"))):null}))))}():null))}function B(e){f.b.add(k.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)([]),o=Object(c.a)(l,2),m=o[0],p=o[1],b=Object(n.useState)("File View"),h=Object(c.a)(b,2),j=h[0],E=h[1],x=["File View","Git Difference","Git Operations"],N=Object(n.useState)(!1),y=Object(c.a)(N,2),O=y[0],w=y[1],C=Object(n.useState)(!1),S=Object(c.a)(C,2),T=S[0],R=S[1],F=Object(n.useState)(!1),A=Object(c.a)(F,2),P=A[0],L=A[1],D=Object(n.useContext)(u).dispatch,B=function(){R(!0)},M=Object(n.useMemo)((function(){return r.a.createElement(_,{repoId:e.repoId})}),[e]),G=Object(n.useMemo)((function(){return r.a.createElement(q,{repoId:e.repoId,stateChange:B})}),[e]);return Object(n.useEffect)((function(){var t=g;R(!1),L(!0),w(!1);var a=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(a,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                  gitStagedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges,a=t.gitChangedFiles,n=t.gitUntrackedFiles,r=t.gitStagedFiles;(a||n)&&(a.length>0||n.length>0)?(i(Object(I.a)(a)),p(Object(I.a)(n)),w(!1),L(!1),D({type:"GIT_TRACKED_FILES",payload:a}),D({type:"GIT_ACTION_TRACKED_FILES",payload:Object(I.a)(a)}),D({type:"GIT_ACTION_UNTRACKED_FILES",payload:Object(I.a)(n)})):0===r.length&&(w(!0),L(!1))}})).catch((function(e){console.log(e),w(!0)}))}),[e,D,j,T]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-tracked--wrapper"},G),r.a.createElement("div",{className:"git-tracked--nochange"},"No changes found in the selected git repo"),r.a.createElement("div",{className:"git-tracked--alert"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fab","creative-commons-zero"],className:"git-tracked--alert--icon"})),r.a.createElement("div",{className:"git-tracked--alert--msg"},'"0" changes in repo'))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-tracked--topmenu"},x.map((function(e){var t="git-tracked--menu-default ";return t+=e===j?"bg-blue-100 text-blue-800 border-b border-blue-700":"bg-blue-600 text-white",r.a.createElement("div",{className:"git-tracked--menu-default ".concat(t),key:e,onClick:function(t){E(e)}},e)})))),r.a.createElement("div",{className:"git-tracked--wrapper"}," ",function(){switch(j){case"File View":if(!O)return r.a.createElement("div",{className:"git-tracked--diff"},s?function(){var e=[],t=[];return s&&s.length>0?(s.forEach((function(a,n){var s=a.split(","),i=s[0],c=s[1],l="p-1 ";switch(i){case"M":l+="text-yellow-900 bg-yellow-200",t.push(r.a.createElement("div",{className:"git-tracked--changes",key:c},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},c),r.a.createElement("div",{className:"git-tracked--changes--status"},"Modified")));break;case"D":l+="text-red-900 bg-red-200",e.push(r.a.createElement("div",{className:"git-tracked--changes",key:c},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},c),r.a.createElement("div",{className:"git-tracked--changes--status"},"Deleted")));break;default:l+="text-indigo-900 bg-indigo-200"}})),r.a.createElement(r.a.Fragment,null,t," ",e)):r.a.createElement("div",{className:"mx-auto w-3/4 my-4 p-2 border-b-4 border-dashed border-pink-300 rounded-md mx-auto text-center font-sans font-semibold text-xl"},P?r.a.createElement("span",{className:"text-gray-400"},"Fetching results from the server..."):r.a.createElement("span",null,"No changes in the repo!"))}():r.a.createElement("div",{className:"rounded-lg shadow-md text-center p-4 font-sans"},"Getting file based status..."),m?m.map((function(e){var t=e.split(",");return t?("NO_DIR"===t[0]?"":t[0])+t[1]:""})).filter((function(e){return!!e})).map((function(e,t){return r.a.createElement("div",{className:"flex git-tracked--untracked",key:"".concat(e,"-").concat(t)},r.a.createElement("div",{className:"git-tracked--untracked--label"},e),r.a.createElement("div",{className:"git-tracked--untracked--status"},"New / Untracked"))})):null);break;case"Git Difference":if(!O)return M;break;case"Git Operations":return G;default:return r.a.createElement("div",{className:"text-xl text-center"}," Invalid Menu Selector! ")}}()," ")))}a(86);function M(){f.b.add(h.a);var e=Object(n.useContext)(u),t=e.state,a=e.dispatch,s=t.presentRepo,i=Object(n.useState)(!1),l=Object(c.a)(i,2),o=l[0],m=l[1],p=Object(n.useState)({}),b=Object(c.a)(p,2),j=b[0],E=b[1],y=Object(n.useState)([]),O=Object(c.a)(y,2),w=O[0],k=O[1],C=Object(n.useState)(""),S=Object(c.a)(C,2),T=S[0],R=S[1],F=Object(n.useState)({gitBranchList:"",gitCurrentBranch:"",gitTotalCommits:0,gitTotalTrackedFiles:0}),A=Object(c.a)(F,2),_=A[0],P=A[1],L=Object(n.useState)(!1),D=Object(c.a)(L,2),q=D[0],M=D[1],G=Object(n.useMemo)((function(){if(j&&j.id)return r.a.createElement(B,{repoId:j.id})}),[j]);function H(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"top-pane--component"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(v.a,{icon:["fas",e]})),r.a.createElement("div",{className:"mx-2"},t)))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();function t(){var t=j&&j.id;if(t){var a=JSON.stringify(JSON.stringify({repoId:t}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:e.token,data:{query:'\n              query GitConvexApi\n              {\n                gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                  gitRepoStatus {\n                    gitBranchList\n                    gitCurrentBranch\n                    gitTotalCommits\n                    gitTotalTrackedFiles \n                  }\n                }\n              }\n            ")}}).then((function(e){P(e.data.data.gitConvexApi.gitRepoStatus),R(e.data.data.gitConvexApi.gitRepoStatus.gitCurrentBranch)})).catch((function(e){e&&console.log("API GitStatus error occurred : "+e)}))}}function n(){return(n=Object(N.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n                  fetchRepo{\n                    repoId\n                    repoName\n                    repoPath\n                  }\n                }\n              }\n          ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var n=t.repoId.map((function(e,a){return{id:t.repoId[a],repoName:t.repoName[a],repoPath:t.repoPath[a]}}));return a({type:"PRESENT_REPO",payload:Object(I.a)(n)}),E(n[0]),k(n),n}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s&&s[0]?(k(s[0]),t()):(!function(){n.apply(this,arguments)}(),t()),function(){e.cancel()}}),[j,T,s,a,q]),r.a.createElement("div",{className:"repository-action"},w?r.a.createElement("div",null,r.a.createElement("div",{className:"active-repo"},r.a.createElement("div",{className:"top-pane"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"select--label"},"Choose saved repository"),r.a.createElement("select",{className:"top-pane--select bg-green-100 text-green-700 border-green-400",defaultValue:"checked",onChange:function(e){m(!0),w.length&&w.forEach((function(t){e.target.value===t.repoName&&(E(t),a({type:"GIT_GLOBAL_REPOID",payload:t.id}))}))}},r.a.createElement("option",{defaultChecked:!0,value:"checked",hidden:!0,disabled:!0},"Select a repo"),w.length&&w.map((function(e){return r.a.createElement("option",{value:e.repoName,key:e.repoName},e.repoName)})))),o?r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"select--label"},"Branch"),r.a.createElement("select",{className:"top-pane--select bg-indigo-100 border-indigo-400 text-indigo-700 ",value:T,disabled:!T,onChange:function(e){e.persist(),R(""),function(e,t){d()({url:g,method:"POST",data:{query:'\n          mutation{\n            setBranch(repoId: "'.concat(j.id,'", branch: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&R(e)})).catch((function(e){e&&(M(!0),t.target.selectedIndex=0)}))}(e.target.value,e)},onClick:function(){M(!1)}},function(){if(_&&_.gitBranchList)return _.gitBranchList.map((function(e,t){return"NO_BRANCH"!==e?r.a.createElement("option",{key:e,value:e},e):null}))}())):null),_&&o?r.a.createElement("div",{className:"my-auto flex justify-around p-3 mx-auto"},H("code-branch",_.gitBranchList&&_.gitBranchList.length>0&&!_.gitBranchList[0].match(/NO_BRANCH/gi)?r.a.createElement(r.a.Fragment,null,1===_.gitBranchList.length?"1 branch":_.gitBranchList.length+" branches"):"No Branches"),H("sort-amount-up",_.gitTotalCommits+" Commits"),H("archive",_.gitTotalTrackedFiles+" Tracked Files")):null),o?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert--jumbotron"},"Select a configured repo from the dropdown to perform git related operations"),r.a.createElement("div",{className:"alert--message"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","mouse-pointer"],className:"alert--message--icon"})),r.a.createElement("div",{className:"alert--message--label xl:text-6xl lg:text-3xl md:text-2xl"},"No repositories selected"))),r.a.createElement("div",null,q?r.a.createElement("div",{className:"alert--failure"},"Branch switching failed.Commit your changes and try again"):null,_&&o&&j.id?G:null)):null)}function G(e){return r.a.createElement("div",{className:"flex mx-auto my-auto w-1/2 h-full bg-white"},r.a.createElement("div",{className:"flex w-full mx-auto my-auto justify-center"},r.a.createElement("div",{className:"block justify-center w-full h-full mx-auto my-auto"},r.a.createElement("div",{className:"p-6 my-auto mx-auto font-sans font-light text-3xl shadow-lg rounded-lg border-b-4 border-dashed border-gray-300 text-center"},e.message),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:e.loading})))))}a(46);function H(e){var t=Object(n.useState)(""),s=Object(c.a)(t,2),i=s[0],l=s[1],o=Object(n.useState)(0),m=Object(c.a)(o,2),u=m[0],p=m[1],f=Object(n.useState)(""),b=Object(c.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(""),E=Object(c.a)(j,2),y=E[0],O=E[1],w=Object(n.useState)([]),k=Object(c.a)(w,2),C=k[0],S=k[1],T=Object(n.useState)([]),R=Object(c.a)(T,2),A=R[0],_=R[1],P=Object(n.useState)(!1),L=Object(c.a)(P,2),D=L[0],q=L[1],B=e.repoId,M=e.fileItem;function G(e,t,a){var n="bg-".concat(a,"-100"),s="text-".concat(a,"-500");return r.a.createElement("div",{className:"flex justify-between w-1/2 gap-10 items-center align-middle"},r.a.createElement("div",{className:"text-center w-1/4 font-light font-sans text-xl border-b-4 border-dashed text-gray-700"},e),r.a.createElement("div",{className:'"w-11/12 mx-auto rounded p-2 text-center '.concat(n," ").concat(s," ").concat(t.length>10?"text-sm":"",' font-semibold"')},t))}return Object(n.useEffect)((function(){var e=JSON.stringify(JSON.stringify({repoId:B,fileItem:M}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("CODE_FILE_VIEW",'", payload:').concat(e,")\n            {\n              codeFileDetails{\n                language\n                fileCommit\n                fileData\n                prism\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(N.a)(x.a.mark((function e(t){var n,r,s,i,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.data){e.next=10;break}if(n=t.data.data.gitConvexApi.codeFileDetails,r=n.language,s=n.fileCommit,i=n.fileData,c=n.prism,0===i.length&&q(!0),l(r),v(s),p(i.length),_(i),!c){e.next=10;break}return e.next=10,a(45)("./prism-"+c+".js").then((function(){O(c);var e=i.map((function(e){return F.highlight(e,F.languages[c],c)}));S(Object(I.a)(e))})).catch((function(e){console.log(e),O("markdown")}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){q(!0)}))}),[B,M]),r.a.createElement("div",{className:"repo-backdrop--codeview"},D?r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded bg-red-200 text-red-600 font-sans text-2xl font-light text-center border-b-8 border-red-400 border-dashed"},i||D?"File cannot be opened!":"Loading..."):r.a.createElement("div",{className:"codeview"},r.a.createElement("div",{className:"codeview--toppane"},r.a.createElement("div",{className:"codeview--language"},i?G("Language",i,"pink"):null,u?G("Lines",u,"orange"):null),h?r.a.createElement("div",{className:"codeview--commits"},r.a.createElement("div",{className:"codeview--commits--latest"},r.a.createElement("div",{className:"codeview--commits--latest--label"},"Latest Commit"),r.a.createElement("div",{className:"codeview--commits--latest--data"},h))):null),A&&y?r.a.createElement("div",{className:"codeview--prismview"},r.a.createElement("pre",{className:"codeview--prismview--pre"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:C.join("\n")}}))):null))}a(87);function U(e){f.b.add(k.a,h.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)([]),b=Object(c.a)(p,2),j=b[0],E=b[1],x=Object(n.useState)([]),N=Object(c.a)(x,2),y=N[0],w=N[1],C=Object(n.useState)(""),S=Object(c.a)(C,2),T=S[0],R=S[1],F=Object(n.useState)(""),_=Object(c.a)(F,2),P=_[0],L=_[1],D=e.repoIdState,q=Object(n.useMemo)((function(){return r.a.createElement(H,{repoId:D,fileItem:T})}),[D,T]);function B(e,t){var a=t,n=e.filter((function(e,t){return!!e||(a[t]="",!1)}));a=a.filter((function(e){return e})),i(Object(I.a)(n)),E(Object(I.a)(a))}function M(e){return e.match(/.\/./gi)?e=e.split("/")[e.split("/").length-1]:e.match(/[^\\]\\[^\\]/gi)?e=e.split("\\")[e.split("\\").length-1]:e.match(/.\\\\./gi)&&(e=e.split("\\\\")[e.split("\\\\").length-1]),e}Object(n.useEffect)((function(){B(e.gitRepoFiles,e.gitFileBasedCommits)}),[e]);var G=function(e,t,a,n){if(D){i([]),E([]);var r=y;if(a){var s=r.slice(0,t);s.length>0&&(e=s.join("/")+"/"+e)}L(e);var c=JSON.stringify(JSON.stringify({repoId:D,directoryName:e}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_FOLDER_CONTENT",'", payload: ').concat(c,"){\n              gitFolderContent{\n                gitTrackedFiles\n                gitFileBasedCommit\n              }\n            }\n          }\n        ")}}).then((function(s){if(s.data.data&&!s.data.error){var i=s.data.data.gitConvexApi.gitFolderContent;if(B(i.gitTrackedFiles,i.gitFileBasedCommit),e=M(e),n)return void w([]);if(0===y.length)w([e]);else if(a&&t<y.length-1){for(var c=y.length-(t+1),l=0;l<c;l++)r.pop();w(Object(I.a)(r))}else w([].concat(Object(I.a)(y),[e]))}else console.log("ERROR: Error occurred while fetching the folder content!")})).catch((function(e){e&&console.log("ERROR: Error occurred while fetching the folder content!")}))}};return r.a.createElement(r.a.Fragment,null,m?r.a.createElement("div",{className:"code-view",id:"code-view__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"code-view__backdrop"===e.target.id&&u(!1)}},r.a.createElement("div",{className:"close-btn-round",onClick:function(){u(!1)}},"X"),r.a.createElement("div",{className:"code-view-area"},q)):null,r.a.createElement("div",null,y&&s&&"NO_TRACKED_FILES"!==s[0]?r.a.createElement("div",{className:"folder-view"},r.a.createElement("div",{className:"folder-view--homebtn",onClick:function(){G("",0,!1,!0)}},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","home"]})),r.a.createElement("div",null,"Home"),r.a.createElement("div",{className:"text-2xl font-sans text-blue-400"},"./")),r.a.createElement("div",{className:"folder-view--navigator",id:"repoFolderNavigator"},y.map((function(e,t){return r.a.createElement("div",{className:"folder-view--navigator--label",key:e+"-"+t},r.a.createElement("div",{className:"".concat(t!==y.length-1?"folder-view--navigator--label__active":""," text-xl"),onClick:function(){t!==y.length-1&&G(e,t,!0)}},e),r.a.createElement("div",null,"/"))})))):null,r.a.createElement("div",{className:"folder-view--tracked-content"},function(){if(s&&s.length>0&&"NO_TRACKED_FILES"!==s[0]){var e=[],t=[],a=[];return s.forEach((function(e,n){var s=e.split(":");if(s[1].includes("directory")){var i=M(s[0]);t.push(r.a.createElement("div",{className:"folder-view--content",key:"directory-key-".concat(Object(A.a)())},r.a.createElement("div",{className:"flex cursor-pointer"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(v.a,{icon:["fas","folder"],className:"font-sans text-xl text-blue-600"})),r.a.createElement("div",{className:"folder-view--content--path",onClick:function(e){G(s[0],0,!1)}},i),r.a.createElement("div",{className:"folder-view--content--commit bg-green-200 text-green-900"},j[n]?j[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))}else s[1].includes("File")&&a.push(r.a.createElement("div",{className:"folder-view--content",key:"file-key-".concat(Object(A.a)())},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(v.a,{icon:["fas","file"],className:"font-sans text-xl text-gray-700"})),r.a.createElement("div",{className:"folder-view--content--path",onClick:function(){R(P+"/"+s[0]),u(!0)}},s[0]),r.a.createElement("div",{className:"folder-view--content--commit bg-indigo-200 text-indigo-900"},j[n]?j[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))})),e.push(t),e.push(a),r.a.createElement("div",{className:"folder-view--tracked--entries",key:"repo-key"},r.a.createElement("div",{className:"tracked--entries--header"},r.a.createElement("div",{className:"w-1/6"}),r.a.createElement("div",{className:"w-2/4"},"File / Directory"),r.a.createElement("div",{className:"w-2/4"},"Latest commit")),e)}return s&&"NO_TRACKED_FILES"===s[0]?r.a.createElement("div",{className:"folder-view--nofiles"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","unlink"]})),r.a.createElement("div",null,"No Tracked Files in the repo!")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"folder-view--loader"},r.a.createElement("div",{className:"folder-view--loader--label"},"Loading tracked files...")),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:!s.length})))}())))}a(88);function J(e){var t=e.repoId,a=Object(n.useState)(""),s=Object(c.a)(a,2),i=s[0],l=s[1],o=Object(n.useState)(""),m=Object(c.a)(o,2),u=m[0],p=m[1],f=Object(n.useRef)();function b(){f.current.value="",l("")}return r.a.createElement("div",{className:"repo-backdrop--addbranch"},r.a.createElement("div",{className:"my-auto"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("input",{type:"text",ref:f,id:"branchName",placeholder:"Branch Name",className:"addbranch--input",onChange:function(e){var t=e.target.value;"branchName"===e.target.id&&t.match(/[^a-zA-Z0-9_.:^\\/]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_.:^\\/]/gi,"-")),l(e.target.value)},onClick:function(){p("")}})),r.a.createElement("div",{className:"addbranch--btn",onClick:function(e){i?(console.log(i),d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              addBranch(repoId: "'.concat(t,'", branchName: "').concat(i,'")\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.addBranch;p(t),b()}else p("BRANCH_ADD_FAILED"),b()})).catch((function(e){p("BRANCH_ADD_FAILED"),b()}))):p("BRANCH_ADD_FAILED")}},"Add Branch"),"BRANCH_CREATION_SUCCESS"===u?r.a.createElement("div",{className:"backdrop--alert bg-green-200 text-green border-green-500"},"New branch has been added to your repo successfully"):null,"BRANCH_ADD_FAILED"===u?r.a.createElement("div",{className:"backdrop--alert bg-red-200 text-red-600 border-red-400"},"New branch addition failed!"):null))}function V(e){var t=e.repoId,a=Object(n.useRef)(),s=Object(n.useRef)(),i=Object(n.useState)(!1),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(""),p=Object(c.a)(u,2),f=p[0],b=p[1],h=function(e,t,n){return r.a.createElement("div",{className:"addremote--form"},r.a.createElement("label",{htmlFor:e,className:"addremote--form--label"},t),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{id:e,onClick:function(){m(!1),b("")},className:"backdrop--input",placeholder:n,ref:"remoteName"===e?a:s,onChange:function(e){var t=e.target.value;"remoteName"===e.target.id&&t.match(/[^a-zA-Z0-9_]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_]/gi,"-"))}})))};var v=function(e,t){return r.a.createElement("div",{className:"addremote--alert border-".concat(e,"-900 bg-").concat(e,"-200")},t)};return r.a.createElement("div",{className:"xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 repo-backdrop--addremote"},r.a.createElement("div",{className:"addremote--header"},"Enter new remote details"),r.a.createElement("div",{className:"my-4 mx-6"},h("remoteName","Enter Remote Name","Give a name for your new remote"),h("remoteUrl","Enter Remote URL","Provide the URL for your remote repo")),o?v("orange","One or more required parameters are empty!"):null,"success"===f?v("green","Remote repo has been added successfully!"):null,"failed"===f?v("red","Failed to add new repo!"):null,r.a.createElement("div",{className:"addremote--btn",onClick:function(){!function(){var e=a.current.value,n=s.current.value;t&&e&&n?d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRemoteRepo(repoId: "'.concat(t,'", remoteName: "').concat(e,'", remoteUrl: "').concat(n,'")\n              }\n            ')}}).then((function(e){e.data.data&&!e.data.error?"REMOTE_ADD_SUCCESS"===e.data.data.addRemoteRepo?(b("success"),a.current.value="",s.current.value=""):b("failed"):b("failed")})).catch((function(e){console.log(e),b("failed")})):m(!0)}()}},"Add New Remote"))}function z(e){var t=e.repoId,a=e.currentBranch;f.b.add(h.a);var s=JSON.stringify(JSON.stringify({repoId:t})),i=Object(n.useState)([]),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(c.a)(u,2),b=p[0],j=p[1],E=Object(n.useState)(!1),x=Object(c.a)(E,2),N=x[0],y=x[1],O=Object(n.useState)(!1),w=Object(c.a)(O,2),k=w[0],C=w[1],S=Object(n.useState)(""),T=Object(c.a)(S,2),R=T[0],F=T[1],A=Object(n.useState)(""),_=Object(c.a)(A,2),P=_[0],L=_[1],D=Object(n.useState)(!1),q=Object(c.a)(D,2),B=q[0],M=q[1],G=Object(n.useState)(!1),H=Object(c.a)(G,2),U=H[0],J=H[1];function V(){j(!1),y(!1),C(!1),F(""),L(""),J(!1),M(!1)}function z(e,a){V(),d()({url:g,method:"POST",data:{query:'\n            mutation{\n              deleteBranch(repoId: "'.concat(t,'", branchName: "').concat(e,'", forceFlag: ').concat(a,"){\n                status\n              }\n            }\n          ")}}).then((function(t){t.data.data&&!t.data.error&&("BRANCH_DELETE_SUCCESS"===t.data.data.deleteBranch.status?(M(!0),F(e)):(J(!0),L(e)))})).catch((function(t){t&&(J(!0),L(e))}))}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement("div",{className:"text-center p-4 rounded bg-red-300 text-xl font-sans mt-10"},e,t?r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},P):null)}function Y(e){return r.a.createElement("div",{className:"text-center p-4 rounded bg-green-300 text-xl font-sans mt-10"},e,r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},R))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();return m([]),d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(s,"){\n              gitRepoStatus {\n                gitAllBranchList  \n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus.gitAllBranchList;m(Object(I.a)(t))}else j(!0)})).catch((function(e){e&&(console.log("API error occurred : "+e),j(!0))})),function(){return e.cancel}}),[t,s,R]),r.a.createElement("div",{className:"repo-backdrop--branchlist xl:w-3/4 lg:w-3/4 md:w-11/12 sm:w-11/12"},r.a.createElement("div",{className:"branchlist--header"},"Available Branches"),r.a.createElement("div",{className:"branchlist--warn"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(v.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",{className:"font-sans font-semibold"},"Note that this section also lets you delete the branches, so be cautious!")),r.a.createElement("div",{className:"branchlist--infotext"},"Click on a branch to checkout to that branch"),r.a.createElement("div",{className:"branchlist--list-area",style:{height:"400px"}},0===o.length?r.a.createElement("div",{className:"list-area--message"},"Collecting branch list..."):null,!b&&o&&o.map((function(e){var n=function(e,a,n){var s="",i=!1;return n.includes("*")&&(i=!0,n=n.replace("*","")),i&&(s="border-dashed border-b-2 text-indigo-700 text-2xl"),r.a.createElement("div",{className:"list-area--branches",key:a+n},r.a.createElement("div",{className:"list-area--branches--icon"},r.a.createElement(v.a,{icon:["fas",e]})),r.a.createElement("div",{className:"xl:block lg:block md:block sm:hidden list-area--branches--type"},a),r.a.createElement("div",{className:"list-area--branches--name ".concat(s),title:n,onClick:function(){i||function(e){V(),d()({url:g,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(e,'")\n            }\n          ')}}).then((function(t){t.data.data&&!t.data.error?(y(!0),F(e)):C(!0)})).catch((function(t){t&&(C(!0),L(e))}))}(n)}},n),i||"Local Branch"!==a?r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:"list-area--branches--pill bg-blue-200 border-blue-800"},"Active"):r.a.createElement("div",{className:"list-area--branches--pill bg-orange-200 border-orange-800"},"Remote")):r.a.createElement("div",{className:"list-area--branches--active"},r.a.createElement("div",{className:"list-area--branches--delete",title:"Will delete only if the branch is clean and safe",onClick:function(){i||z(n,!1)}},r.a.createElement("div",{className:"list-area--branches--delete--btn"},r.a.createElement(v.a,{icon:["fas","trash-alt"]})),r.a.createElement("div",{className:"list-area--branches--delete--type"},"Normal")),r.a.createElement("div",{className:"list-area--branches--delete",title:"Will delete the branch forcefully.Be careful!",onClick:function(){i||z(n,!0)}},r.a.createElement("div",{className:"list-area--branches--delete--btn"},r.a.createElement(v.a,{icon:["fas","minus-square"]})),r.a.createElement("div",{className:"list-area--branches--delete--type"},"Force"))))};if((e=e.replace(/\s/gi,"")).includes("->")||e===a)return null;if(e.includes("remotes/")){var s=e.split("/");return n("wifi",s[1],s.slice(2,s.length).join("/"))}return n("code-branch","Local Branch",e)}))),b?K("Error occurred while listing branches!"):null,k?K("Error occurred while switching to",!0):null,R&&N?Y("Active branch has been switched to"):null,B?Y("Selected branch has been removed"):null,U?K("Branch deletion failed for",!0):null)}var K=a(48),Y=a.n(K),W=a(49),Z=a.n(W);function X(e){var t=e.repoId,a=e.commitHash,s=e.unmountHandler;f.b.add(b.a,h.a);var i=Object(n.useState)([]),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(c.a)(u,2),j=p[0],E=p[1];return Object(n.useEffect)((function(){E(!0);var e=d.a.CancelToken.source(),n=JSON.stringify(JSON.stringify({repoId:t,commitHash:a}));d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n                query GitConvexApi\n                {\n                    gitConvexApi(route: "'.concat("COMMIT_FILES",'", payload: ').concat(n,"){\n                        gitCommitFiles {\n                            type\n                            fileName\n                        }\n                    }\n                }\n            ")}}).then((function(e){E(!1),e.data.data&&!e.data.err&&m(Object(I.a)(e.data.data.gitConvexApi.gitCommitFiles))})).catch((function(e){console.log(e),E(!1)}))}),[t,a]),r.a.createElement("div",{className:"commitlogs--files"},r.a.createElement("div",{className:"commitlogs--files--close",style:{marginTop:"-20px"},onClick:function(){m([]),s()}},"x"),j?r.a.createElement("div",{className:"commitlogs--files--header text-center"},"Fetching changed files..."):null,!j&&o?r.a.createElement("div",{className:"commitlogs--files--header"},"".concat(o.length," Files changed")):null,r.a.createElement("div",{className:"commitlogs--files--list"},o&&o.map((function(e){var t=e.type,n=e.fileName,s="",i="";switch(t){case"M":s="plus-square",i="text-yellow-600";break;case"A":s="plus-square",i="text-green-500";break;case"D":s="minus-square",i="text-red-500";break;default:s="plus-square",i="text-gray-500"}return r.a.createElement("div",{className:"commitlogs--files--list--item",key:n+a},r.a.createElement("div",{className:"w-1/4 text-2xl ".concat(i)},r.a.createElement(v.a,{icon:["far",s]})),r.a.createElement("div",{className:"commitlogs--files--list--filename"},n))}))))}function $(e){f.b.add(k.a,h.a,b.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],l=a[1],o=Object(n.useState)(!1),m=Object(c.a)(o,2),u=m[0],p=m[1],j=Object(n.useState)(0),E=Object(c.a)(j,2),x=E[0],N=E[1],y=Object(n.useState)(0),w=Object(c.a)(y,2),C=w[0],S=w[1],T=Object(n.useState)(!1),R=Object(c.a)(T,2),F=R[0],A=R[1],_=Object(n.useState)(!1),P=Object(c.a)(_,2),L=P[0],D=P[1],q=Object(n.useState)(""),B=Object(c.a)(q,2),M=B[0],G=B[1],H=Object(n.useState)(0),U=Object(c.a)(H,2),J=U[0],V=U[1],z=Object(n.useState)(!1),K=Object(c.a)(z,2),W=K[0],$=K[1],Q=Object(n.useRef)(),ee=Object(n.useRef)(),te=Object(n.useRef)(Z()(ne,1500,{maxWait:2e3})).current,ae=["Commit Hash","Commit Message","User"];function ne(){A(!0),S(0),l([]);var t=Q.current.value,a="";switch(ee.current.value){case"Commit Hash":a="hash";break;case"Commit Message":a="message";break;case"User":a="user";break;default:a="message"}t?d()({url:g,method:"POST",data:{query:'\n            mutation{\n              searchCommitLogs(repoId:"'.concat(e.repoId,'",searchType:"').concat(a,'",searchKey:"').concat(t,'"){\n                hash\n                author\n                commitTime\n                commitMessage\n                commitRelativeTime\n                commitFilesCount\n              }\n            }\n          ')}}).then((function(e){if(e.data.data){var t=e.data.data.searchCommitLogs;t&&t.length>0?(p(!1),D(!1),l(Object(I.a)(t)),S(t.length),A(!1)):(p(!0),l([]),S(0),A(!1),$(!0))}})).catch((function(e){console.log(e),A(!1),l([])})):(V(J+1),A(!1))}function re(e){return r.a.createElement("div",{className:"p-6 rounded-md shadow-sm block justify-center mx-auto my-auto w-3/4 h-full text-center text-2xl text-indigo-500"},r.a.createElement("div",{className:"flex w-full h-full mx-auto my-auto"},r.a.createElement("div",{className:"block my-auto mx-auto bg-white w-full p-6 rounded-lg shadow"},r.a.createElement("div",{className:"text-2xl text-center font-sans font-semibold text-indigo-800 border-b-2 border-dashed border-indigo-500 p-1"},e),W?r.a.createElement("div",{className:"my-4 mx-auto rounded shadow p-4 text-center font-sans text-orange-900 font-light bg-orange-100 border-b-4  border-dashed border-orange-300 text-md"},"If you are looking for some newly added commits or if this is a freshly added repo, then please wait for a few minutes and search again"):null,F?r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:F})):null)))}return Object(n.useEffect)((function(){A(!0),$(!1);var t=JSON.stringify(JSON.stringify({repoId:e.repoId,skipLimit:0}));d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n              gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(t,"){\n                  gitCommitLogs {\n                      totalCommits\n                      commits{\n                          commitTime\n                          hash\n                          author\n                          commitMessage\n                          commitRelativeTime\n                          commitFilesCount\n                      }  \n                  }\n              }\n          }\n          ")}}).then((function(e){if(A(!1),e.data.data){var t=e.data.data.gitConvexApi.gitCommitLogs,a=t.commits,n=t.totalCommits;D(!(n<=10)),S(n),a&&a.length>0?l(Object(I.a)(a)):p(!0)}})).catch((function(e){A(!1),e&&(p(!0),console.log(e))}))}),[e,J]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-4 w-full rounded-lg bg-white shadow-inner flex gap-4 justify-between items-center"},r.a.createElement("select",{defaultValue:"default-search",id:"searchOption",ref:ee,className:"w-1/4 flex p-4 items-center bg-indigo-500 text-white cursor-pointer rounded-l-md text-lg font-sans font-semibold outline-none"},r.a.createElement("option",{value:"default-search",hidden:!0,disabled:!0},"Search for..."),ae.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"w-3/4 rounded-r-md"},r.a.createElement("input",{ref:Q,type:"text",className:"w-5/6 outline-none text-lg font-light font-sans",placeholder:"What are you looking for?",value:M,onChange:function(e){G(e.target.value),te()}})),r.a.createElement("div",{className:"w-20 bg-gray-200 p-3 mx-auto my-auto text-center rounded-r-lg hover:bg-gray-400 cursor-pointer",onClick:function(){ne()}},r.a.createElement(v.a,{icon:["fas","search"],className:"text-3xl text-gray-600"}))),!u&&s&&C||F?null:re("No Commit Logs found"),s&&s.map((function(t){var a=t.hash,n=t.author,s=t.commitTime,c=t.commitMessage,l=t.commitRelativeTime,o=t.commitFilesCount,m=Y()(new Date(s)).format("MMM DD, YYYY");return r.a.createElement("div",{id:"commitLogCard-".concat(a),className:"repo-backdrop--commitlogs",key:a},r.a.createElement("div",{className:"commitlogs--toppane"},r.a.createElement("div",{className:"commitlogs--toppane--label"},r.a.createElement(v.a,{icon:["fas","calendar-alt"]}),r.a.createElement("span",{className:"commitlogs--toppane--data"},m)),r.a.createElement("div",{className:"commitlogs--toppane--divider"}),r.a.createElement("div",{className:"commitlogs--toppane--label"},r.a.createElement(v.a,{icon:["fab","slack-hash"]}),r.a.createElement("span",{className:"commitlogs--toppane--data"},a)),r.a.createElement("div",{className:"commitlogs--toppane--divider"}),r.a.createElement("div",{className:"commitlogs--toppane--label"},r.a.createElement(v.a,{icon:["fas","user-ninja"]}),r.a.createElement("span",{className:"commitlogs--toppane--data truncate"},n))),r.a.createElement("div",{className:"commitlogs--message"},r.a.createElement("div",{className:"w-1/8"},r.a.createElement(v.a,{icon:["fas","code"],className:"text-3xl"})),r.a.createElement("div",{className:"w-5/6 mx-3"},c)),r.a.createElement("div",{className:"commitlogs--bottompane"},r.a.createElement("div",{className:"commitlogs--bottompane--label"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["far","clock"]})),r.a.createElement("div",{className:"commitlogs--bottompane--data"},l)),r.a.createElement("div",{className:"commitlogs--expand",onClick:function(t){o&&(t.currentTarget.classList.add("hidden"),function(t,a){var n="commitLogCard-".concat(t),s="commitFile-".concat(t),c=document.createElement("div");c.id=s;var l=document.getElementById(n);l.append(c);var o=function(){i.a.unmountComponentAtNode(document.getElementById("closeBtn-"+t)),i.a.unmountComponentAtNode(document.getElementById(s)),a.classList.remove("hidden")};i.a.render(r.a.createElement(X,{repoId:e.repoId,commitHash:t,unmountHandler:o}),document.getElementById(s));var m=r.a.createElement("div",{className:"text-center mx-auto text-3xl font-sans font-light text-gray-600 items-center align-middle cursor-pointer",onClick:function(e){o()}},r.a.createElement(v.a,{icon:["fas","angle-up"]})),d=document.createElement("div"),u="closeBtn-"+t;d.id=u,l.append(d),i.a.render(m,document.getElementById(u))}(a,t.currentTarget))}},o?r.a.createElement(v.a,{icon:["fas","angle-down"]}):r.a.createElement(v.a,{icon:["fas","dot-circle"],className:"text-xl text-gray-200"})),r.a.createElement("div",{className:"commitlogs--bottompane--label"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["far","plus-square"]})),r.a.createElement("div",{className:"commitlogs--bottompane--data"},o?"".concat(o," Files"):r.a.createElement("span",{className:"text-gray-500"},"No Changed Files")))))})),L?r.a.createElement("div",{className:"commitlogs--load-btn",title:"Click to load commits",onClick:function(){C-x>=10&&function(){var t;A(!0),$(!1),t=x+10;var a=JSON.stringify(JSON.stringify({repoId:e.repoId,skipLimit:t}));N(t),d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n              gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(a,"){\n                  gitCommitLogs {\n                      totalCommits\n                      commits{\n                          commitTime\n                          hash\n                          author\n                          commitMessage\n                          commitRelativeTime\n                          commitFilesCount\n                      }  \n                  }\n              }\n          }\n          ")}}).then((function(e){if(A(!1),C-t<10&&D(!1),e.data.data){var a=e.data.data.gitConvexApi.gitCommitLogs,n=a.commits,r=a.totalCommits;S(r),n&&n.length>0?l([].concat(Object(I.a)(s),Object(I.a)(n))):p(!0)}})).catch((function(e){A(!1),e&&(p(!0),console.log(e))}))}()}},r.a.createElement(v.a,{icon:["fas","angle-double-down"]})):null,F&&C?r.a.createElement("div",{className:"commitlogs--loading"},"Loading ",C-x," more commits...",r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:F}))):null,!u&&0===s.length&&F?re("Loading commits..."):null)}function Q(e){f.b.add(h.a);var t=e.repoId,a=e.actionType,s=Object(n.useState)(),i=Object(c.a)(s,2),l=i[0],o=i[1],m=Object(n.useState)(!1),u=Object(c.a)(m,2),p=u[0],b=u[1],j=Object(n.useState)(!1),E=Object(c.a)(j,2),x=E[0],N=E[1],y=Object(n.useState)([]),w=Object(c.a)(y,2),k=w[0],C=w[1],S=Object(n.useState)(!1),T=Object(c.a)(S,2),R=T[0],F=T[1],_=Object(n.useRef)(),P=Object(n.useRef)();function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F(!0);var s=function(e,n){return"fetch"===a?'mutation GitConvexMutation{\n          fetchFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            fetchedItems\n          }\n        }\n      '):'mutation GitConvexMutation{\n          pullFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            pulledItems\n          }\n        }\n      ')};d()({url:g,method:"POST",data:{query:s(e,n)}}).then((function(e){if(F(!1),e.data.data&&!e.data.error){var t={};if((t="fetch"===a?e.data.data.fetchFromRemote:e.data.data.pullFromRemote).status.match(/ABSENT/gi))C([r.a.createElement("div",{className:"text-xl p-2 text-gray-900 font-semibold"},"No changes to ","fetch"===a?"Fetch":"Pull"," from remote")]);else if(t.status.match(/ERROR/gi))C([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," ","from remote!")]);else{var n=[];n="fetch"===a?t.fetchedItems:t.pulledItems,C(Object(I.a)(n))}}})).catch((function(e){F(!1),console.error(e),C([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," from remote!")])}))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",cancelToken:a.token,headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;o(t)})).catch((function(e){F(!1)})),function(){return a.cancel()}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"repo-backdrop--fetchpull"},"fetch"===a?r.a.createElement("div",{className:"fetchpull--fetch-global xl:w-3/5 lg:w-3/4 md:w-3/4 sm:w-11/12",onClick:function(){L()}},r.a.createElement("div",{className:"text-2xl text-indigo-800 mx-4"},r.a.createElement(v.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",null,"Click to Fetch without branch selection")):null,r.a.createElement("div",{className:"m-3 text-2xl font-sans text-gray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"fetchpull--select",defaultValue:"checked",disabled:!l,onChange:function(){b(!0)},onClick:function(){C([])},ref:_},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},l?"Select the remote repo":"Loading available remotes..."),l?function(){if(l){var e=l.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),p?r.a.createElement("div",null,r.a.createElement("select",{className:"fetchpull--select",defaultValue:"checked",onChange:function(){N(!0)},onClick:function(){C([])},ref:P},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),l?function(){if(l)return l.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,p&&x&&!R?r.a.createElement("div",{className:"fetchpull--btn",onClick:function(e){var t=_.current.value,a=P.current.value;t&&a?L(t,a):e.target.style.display="none"}},"pull"===a?"Pull from Remote":null,"fetch"===a?"Fetch from Remote":null):null,r.a.createElement("div",null,R?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fetchpull--loader"},"pull"===a?"Pulling changes":"Fetching"," from remote..."),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:R}))):null),!R&&k&&k.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fetchpull--result"},k.map((function(e){return r.a.createElement("div",{className:"my-1 mx-2 break-normal",key:e+"-".concat(Object(A.a)())},e)})))):null))}function ee(e){var t=e.repoId,a=e.branchName,s=e.closeBackdrop,i=Object(n.useState)(!1),l=Object(c.a)(i,2),o=l[0],m=l[1];return Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(a,'")\n            }\n          ')}}).then((function(e){e.data.data&&!e.data.error&&s(!0)})).catch((function(e){e&&m(!0)}))}),[a,s,t]),r.a.createElement("div",{className:"xl:w-3/4 lg:w-3/4 md:w-11/12 sm:w-11/12 repo-backdrop--switchbranch"},r.a.createElement("div",{className:"switchbranch--alert--success"},"Switching to branch -"," ",r.a.createElement("span",{className:"switchbranch--name"},a),"..."),o?r.a.createElement("div",{className:"switchbranch--alert--failed"},"Switching to branch -"," ",r.a.createElement("span",{className:"switchbranch--name"},a)," Failed!"):null)}function te(e){var t=e.gitRepoName,a=e.gitCurrentBranch;return r.a.createElement("div",{className:"repo-info"},r.a.createElement("div",{className:"repo-info--label"},"Repo Name"),r.a.createElement("div",{className:"bg-blue-100 text-blue-900 border-blue-200 repo-info--data"},t),r.a.createElement("div",{className:"repo-info--label"},"Active Branch"),r.a.createElement("div",{className:"bg-orange-200 text-orange-900 border-orange-400 repo-info--data"},a))}var ae="fetch",ne="pull",re="addBranch",se="addRemoteRepo",ie="switchbranch",ce="listBranch";function le(e){f.b.add(k.a,h.a);var t=e.gitRemoteHost,a=e.gitRemoteData,s=e.isMultiRemote,i=e.multiRemoteCount,c=e.showCommitLogsView,l=e.actionTrigger;Object(n.useEffect)((function(){}),[e]);return r.a.createElement(r.a.Fragment,null,e.received?r.a.createElement("div",{className:"repo-leftpane xl: w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12"},r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"repo-leftpane--remote"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"Remote Host"),r.a.createElement("div",{className:"flex justify-around items-center align-middle w-1/2"},r.a.createElement("div",{className:"repo-leftpane--remote--host"},t?r.a.createElement("div",{className:"mx-2"},t.match(/github/i)?r.a.createElement(v.a,{icon:["fab","github"],className:"text-4xl text-center text-pink-500"}):t.match(/gitlab/i)?r.a.createElement(v.a,{icon:["fab","gitlab"],className:"text-4xl text-center text-pink-400"}):t.match(/bitbucket/i)?r.a.createElement(v.a,{icon:["fab","bitbucket"],className:"text-4xl text-center text-pink-400"}):t.match(/codecommit/i)?r.a.createElement(v.a,{icon:["fab","aws"],className:"text-4xl text-center text-pink-400"}):r.a.createElement(v.a,{icon:["fab","git-square"],className:"text-4xl text-center text-pink-400"})):null,r.a.createElement("div",{className:"".concat("No Remote Host Set"!==t?"text-xl":""," repo-leftpane--remote--name")},t)),r.a.createElement("div",{className:"w-1/4"},r.a.createElement("div",{id:"addRemote",className:"add-btn bg-indigo-400 hover:bg-indigo-500",onMouseEnter:function(e){e.target.innerHTML+='<div class="tooltip" style="margin-left:-40px;">Click to add a new remote repo</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){l(se)}},"+")))),r.a.createElement("div",{className:"remote flex-even my-4"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"".concat(t," URL")),r.a.createElement("div",{className:"remote--url"},a)),s?r.a.createElement("div",{className:"flex-even my-2"},r.a.createElement("div",{className:"font-sans text-gray-800 font-semibold w-1/4 border-dotted border-b-2 border-gray-200"},"Entry truncated!"),r.a.createElement("div",{className:"w-1/2 border-dotted border-b-2 border-gray-200"},"Remote repos : ".concat(i))):null),r.a.createElement("div",{className:"commitlogs"},r.a.createElement("div",{className:"flex-even my-3"},r.a.createElement("div",{className:"commitlogs--label"},"Commit Logs"),r.a.createElement("div",{className:"commitlogs--content",onClick:function(e){c()}},"Show Commit Logs")))):null)}function oe(e){var t=e.gitBranchList,a=e.gitCurrentBranch,n=e.gitLatestCommit,s=e.gitTotalCommits,i=e.actionTrigger,c=e.switchBranchHandler;return r.a.createElement(r.a.Fragment,null,e.received?r.a.createElement("div",{className:"repo-rightpane xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 "},r.a.createElement("div",{className:"block mx-auto my-2"},r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Total Commits"),r.a.createElement("div",{className:"total-commits"},"".concat(s," Commits"))),r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Latest Commit"),r.a.createElement("div",{className:"latest-commit",title:n},n)),r.a.createElement("div",{className:"flex justify-around mx-auto my-2 align-middle items-center"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Available Branches"),r.a.createElement("div",{className:"branch-list"},r.a.createElement("div",{className:"w-3/4 my-auto"},t&&a&&t.slice(0,3).map((function(e){return e?e===a?r.a.createElement("div",{className:"branch-list--current",key:"".concat(e,"-").concat(Object(A.a)())},e):r.a.createElement("div",{className:"branch-list--branches",key:"entry-key-".concat(Object(A.a)()),onClick:function(){c(e),i(ie)}},e):null})).filter((function(e){return e||!1})),r.a.createElement("div",{className:"branch-list__listbranch",onClick:function(){i(ce)}},"List all branches")),r.a.createElement("div",{id:"addBranch",className:"rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-green-400 text-center mx-auto shadow hover:bg-green-500 cursor-pointer",onMouseEnter:function(e){e.target.innerHTML+='<div class="tooltip" style="margin-left:-40px;">Click to add a new branch</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){i(re)}},"+"))),r.a.createElement("div",{className:"flex justify-around mx-auto mt-4"},r.a.createElement("div",{className:"w-1/3 rounded text-center cursor-pointer p-2 bg-indigo-500 hover:bg-indigo-600 text-white font-sans nowrap",onClick:function(){i(ae)}},"Fetch from remote"),r.a.createElement("div",{className:"w-1/3 text-center cursor-pointer rounded text-white p-2 bg-blue-500 hover:bg-blue-600 font-sans",onClick:function(){i(ne)}},"Pull from remote")))):null)}function me(e){f.b.add(k.a,h.a);var t=Object(n.useState)({}),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),v=b[0],j=b[1],E=Object(n.useState)(!1),x=Object(c.a)(E,2),N=x[0],y=x[1],O=Object(n.useState)(!1),w=Object(c.a)(O,2),C=w[0],S=w[1],T=Object(n.useState)(0),R=Object(c.a)(T,2),F=R[0],A=R[1],_=Object(n.useState)(!1),P=Object(c.a)(_,2),L=P[0],D=P[1],q=Object(n.useState)(!1),B=Object(c.a)(q,2),M=B[0],H=B[1],K=Object(n.useState)(""),Y=Object(c.a)(K,2),W=Y[0],Z=Y[1],X=Object(n.useState)(""),ae=Object(c.a)(X,2),ne=ae[0],re=ae[1],se=Object(n.useState)([]),ie=Object(c.a)(se,2),ce=ie[0],me=ie[1],de=Object(n.useState)([]),ue=Object(c.a)(de,2),pe=ue[0],ge=ue[1],fe=Object(n.useState)(""),be=Object(c.a)(fe,2),he=be[0],ve=be[1],je=Object(n.useState)(!1),Ee=Object(c.a)(je,2),xe=Ee[0],Ne=Ee[1],ye=function(e){D(!e)},Oe=function(e){ve(e),D(!0)},we=Object(n.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{repoId:v}))}),[v]),ke=Object(n.useMemo)((function(){return r.a.createElement(Q,{repoId:v,actionType:"fetch"})}),[v]),Ce=Object(n.useMemo)((function(){return r.a.createElement(Q,{repoId:v,actionType:"pull"})}),[v]),Se=Object(n.useMemo)((function(){return r.a.createElement(ee,{repoId:v,branchName:W,closeBackdrop:ye})}),[v,W]),Te=Object(n.useMemo)((function(){return r.a.createElement(z,{repoId:v,currentBranch:ne})}),[v,ne]),Re=Object(n.useMemo)((function(){return r.a.createElement(V,{repoId:v})}),[v]);Object(n.useEffect)((function(){H(!1),Ne(!0);var t=g;if(e.parentProps.location){var a=e.parentProps.location.pathname.split("/repository/")[1];j(a);var n=JSON.stringify(JSON.stringify({repoId:a}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n            query GitConvexApi\n            {\n              gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(n,"){\n                gitRepoStatus {\n                  gitRemoteData\n                  gitRepoName\n                  gitBranchList\n                  gitCurrentBranch\n                  gitRemoteHost\n                  gitTotalCommits\n                  gitLatestCommit\n                  gitTrackedFiles\n                  gitFileBasedCommit\n                  gitTotalTrackedFiles    \n                }\n              }\n            }\n          ")}}).then((function(e){if(Ne(!1),e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus,a=t.gitRemoteData;re(t.gitCurrentBranch),a.includes("||")&&(S(!0),t.gitRemoteData=a.split("||")[0],S(!0),A(a.split("||").length)),i(t),me(Object(I.a)(t.gitTrackedFiles)),ge(Object(I.a)(t.gitFileBasedCommit))}else u(!0)})).catch((function(e){Ne(!1),e&&(console.log("API GitStatus error occurred : "+e),u(!0))}))}}),[e.parentProps,L]);var Ie=s.gitRemoteData,Fe=s.gitRepoName,Ae=s.gitBranchList,_e=s.gitCurrentBranch,Pe=s.gitRemoteHost,Le=s.gitTotalCommits,De=s.gitLatestCommit;return r.a.createElement(r.a.Fragment,null,xe?r.a.createElement(G,{message:"Fetching repo details...",loading:xe}):null,N?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"commit-log__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"commit-log__backdrop"===e.target.id&&y(!1)}},r.a.createElement("div",{className:"commitlogs-view",onClick:function(){y(!1)}},"X"),r.a.createElement("div",{id:"commit-log__cards",className:"w-full xl:w-3/4 lg:w-5/6 md:w-11/12 sm:w-11/12 h-full block mx-auto my-auto mt-10 mb-10"},we))):null,L||M?r.a.createElement("div",{className:"backdrop-view",id:"repo-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"repo-backdrop"===e.target.id&&(D(!1),ve(""))}},r.a.createElement(r.a.Fragment,null,he?function(){switch(he){case"fetch":return ke;case"pull":return Ce;case"addRemoteRepo":return Re;case"addBranch":return r.a.createElement(J,{repoId:v});case"switchbranch":return Se;case"listBranch":return Te;default:return null}}():null),r.a.createElement("div",{className:"action-view",onClick:function(){D(!1),H(!1),ve("")}},"X")):null,r.a.createElement(r.a.Fragment,null,xe||!s||m?null:r.a.createElement("div",{className:"xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none repo-details"},r.a.createElement("div",{className:"flex px-3 py-2"},s?r.a.createElement(te,{gitRepoName:Fe,gitCurrentBranch:_e}):null),r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:"xl:flex lg:block md:block sm:block my-4 mx-auto justify-around"},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{received:!0,actionTrigger:Oe,showCommitLogsView:function(){y(!0)},gitRemoteHost:Pe,gitRemoteData:Ie,isMultiRemote:C,multiRemoteCount:F}),r.a.createElement(oe,{received:!0,switchBranchHandler:function(e){D(!0),ve("switchbranch"),Z(e)},actionTrigger:Oe,gitBranchList:Ae,gitCurrentBranch:_e,gitLatestCommit:De,gitTotalCommits:Le})):null)),!xe&&s&&v&&ce?r.a.createElement(U,{repoIdState:v,gitRepoFiles:ce,gitFileBasedCommits:pe}):null)))}function de(e){f.b.add(k.a,h.a);var t=Object(n.useRef)(),a=Object(n.useContext)(u),s=a.state,i=a.dispatch,l=s.presentRepo,o=Object(n.useState)(""),m=Object(c.a)(o,2),p=m[0],b=m[1],j=Object(n.useState)(0),E=Object(c.a)(j,2),x=E[0],N=E[1],y=Object(n.useState)([]),O=Object(c.a)(y,2),w=O[0],C=O[1],S=Object(n.useState)(!1),T=Object(c.a)(S,2),R=T[0],F=T[1],A=Object(n.useState)({}),_=Object(c.a)(A,2),P=_[0],L=_[1],D=Object(n.useState)(""),q=Object(c.a)(D,2),B=q[0],M=q[1],G=Object(n.useState)(0),H=Object(c.a)(G,2),U=H[0],J=H[1],V=Object(n.useState)(""),z=Object(c.a)(V,2),K=z[0],Y=z[1],W=Object(n.useState)(!1),Z=Object(c.a)(W,2),X=Z[0],$=Z[1],Q=Object(n.useState)(!1),ee=Object(c.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("SETTINGS_DBPATH",'"){\n              settingsDatabasePath\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.error){var a=e.data.data.gitConvexApi.settingsDatabasePath;b(a),Y(a),t.current.value=a}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_REPODETAILS",'"){\n                settingsRepoDetails{\n                  id\n                  repoPath\n                  repoName\n                  timeStamp\n                }\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsRepoDetails;C(Object(I.a)(t))}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_PORT",'"){\n                settingsPortDetails\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsPortDetails;N(t)}}))}),[e,U]);return r.a.createElement(r.a.Fragment,null,R?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none",id:"settings-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"settings-backdrop"===e.target.id&&(M(""),F(!1),J(U+1))}},P?function(){var e=["Repo ID","Repo Name","Repo Path","Timestamp"],t=[];return Object.keys(P).forEach((function(a,n){t.push({label:e[n],value:P[a]})})),r.a.createElement("div",{className:"w-3/4 p-6 mx-auto my-auto rounded shadow bg-white"},r.a.createElement("div",{className:"mx-4 my-2 text-3xl font-sans text-gray-900"},"The repo below will be removed from Gitconvex records."),r.a.createElement("div",{className:"mx-4 my-1 text-md font-light w-5/6 font-sans italic text-gray-800"},"This will not delete the actual git folder. Just the record from the gitconvex server will be removed"),r.a.createElement("div",{className:"my-2 mx-auto block justify-center w-3/4 p-2"},t.map((function(e){return r.a.createElement("div",{className:"mx-auto flex p-2 font-sans",key:e.label},r.a.createElement("div",{className:"w-2/4 font-semibold"},e.label),r.a.createElement("div",{className:"w-2/4"},e.value))}))),"lodaing"!==B&&"success"!==B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 rounded shadow bg-red-400 hover:bg-red-500 text-white text-xl",onClick:function(){!function(){M("loading");var e=P.id;d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            deleteRepo(repoId: "'.concat(e,'"){\n              status\n              repoId\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.eror){var t=e.data.data.deleteRepo,a=t.status,n=t.repoId;if("DELETE_SUCCESS"===a){if(l&&l.length>0){var r=l[0];r=r.map((function(e){return e.id.toString()===n.toString()?null:e})),i({action:"DELETE_PRESENT_REPO",payload:Object(I.a)(r)})}M("success")}else M("failed")}})).catch((function(e){console.log(e),M("failed")}))}()}},"Confirm Delete"):null,"loading"===B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 text-white rounded shadow bg-gray-400 hover:bg-gray-500 text-white text-xl"},"Deletion in progress"):null,"success"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-green-300 text-green-600 my-4"},"Repo has been deleted!"):null,"failed"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-red-300 my-4"},"Repo deletion failed!"):null)}():null,r.a.createElement("div",{className:"top-0 right-0 fixed float-right font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){M(""),F(!1),J(U+1)}},"X")):null,r.a.createElement("div",{className:"block w-full h-full pt-5 pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"font-sans text-6xl my-4 mx-10 text-gray-700 block items-center align-middle"},r.a.createElement(v.a,{className:"text-5xl",icon:["fas","cogs"]}),r.a.createElement("span",{className:"mx-10"},"Settings")),r.a.createElement("div",{className:"block my-10 justify-center mx-auto w-11/12"},p?r.a.createElement("div",{className:"settings-data"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Server data file (file which stores repo details)"),r.a.createElement("div",{className:"my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 w-2/3",ref:t,onChange:function(e){Y(e.target.value),$(!1)},onClick:function(){$(!1)}}),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"The data file can be updated. The data file must be an accessible JSON file with read / write permissions set to it. Also make sure you enter the full path for the file",r.a.createElement("pre",{className:"my-2"},"E.g: /opt/my_data/data-file.json")),p!==K?r.a.createElement("div",{className:"my-4 text-center p-2 font-sans text-white border-green-400 border-2 bg-green-500 rounded-md cursor-pointer shadow w-1/4 hover:bg-green-600",onClick:function(){!function(){if(K){var e=U+1;d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                updateRepoDataFile(newDbFile: "'.concat(K.toString(),'")\n              }\n            ')}}).then((function(t){t.data.data&&!t.data.error&&"DATAFILE_UPDATE_SUCCESS"===t.data.data.updateRepoDataFile?($(!1),J(e),window.location.reload()):($(!0),J(e))})).catch((function(t){console.log("Datafile update error",t),$(!0),J(e)}))}}(),$(!1)}},"Update Data file"):null,X?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-2/3 text-center"},"Data file update failed"):null)):null,w?r.a.createElement("div",{className:"repo-data my-10"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Saved Repos"),r.a.createElement(r.a.Fragment,null,w&&w.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 bg-indigo-500 my-1 w-full rounded text-white bg-white shadow p-3 font-sand text-xl font-semibold"},r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo ID"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Name"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Path"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Timestamp"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Action")),w.map((function(e){return r.a.createElement("div",{className:"flex my-1 w-full rounded bg-white shadow p-3 font-sans text-gray-800",key:e.id},r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},e.id),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-bold font-sans break-all"},e.repoName),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light text-blue-600"},e.repoPath),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light"},e.timeStamp),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},r.a.createElement("div",{className:"bg-red-600 p-2 mx-auto my-auto rounded shadow text-center w-1/2 hover:bg-red-400 cursor-pointer",onClick:function(t){F(!0),L(e)}},r.a.createElement(v.a,{color:"white",icon:["fas","trash-alt"]}))))}))):r.a.createElement("div",{className:"my-4 mx-auto bg-gray-200 text-center p-3 rounded shadow w-3/4"},"No repos are being managed by Gitconvex. You can add one from the dashboard"))):null,r.a.createElement("div",{className:"my-2 mx-auto"},r.a.createElement("div",{className:"text-xl font-sans text-gray-800 my-2"},"Active Gitconvex port"),r.a.createElement("div",{className:"flex my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 xl:w-1/2 lg:w-1/3 md:w-1/2 sm:w-1/2 w-1/2",value:x,onChange:function(e){N(e.target.value)}}),r.a.createElement("div",{className:"p-2 text-center mx-4 rounded border text-white bg-indigo-500 xl:w-1/6 lg:w-1/6 md:w-1/5 sm:w-1/4 w-1/4 hover:bg-indigo-600 cursor-pointer",onClick:function(){x&&d()({url:g,method:"POST",data:{query:"\n              mutation GitConvexMutation{\n                settingsEditPort(newPort: ".concat(x,")\n              }\n            ")}}).then((function(e){e.data.data&&!e.data.error?console.log(e.data.data.settingsEditPort):te(!0)})).catch((function(e){console.log(e),ae(!0)}))}},"Update Port")),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"Make sure to restart the app and to change the port in the URL after updating it"),te?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-1/2 text-center"},"Port update failed"):null))))}function ue(e){var t=Object(n.useContext)(u).state,a=Object(n.useState)(""),s=Object(c.a)(a,2),i=s[0],m=s[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),b=f[0],h=f[1],v=Object(n.useState)(""),E=Object(c.a)(v,2),x=E[0],N=E[1],y=Object(n.useMemo)((function(){return r.a.createElement(me,{parentProps:e})}),[e]),O=Object(n.useMemo)((function(){return r.a.createElement(de,null)}),[]),w=Object(n.useMemo)((function(){return r.a.createElement(R,null)}),[]);Object(n.useEffect)((function(){var e=t.hcParams,a=e.osCheck,n=e.gitCheck,r=e.nodeCheck,s=d.a.CancelToken.source();a&&n&&r?(m(a),h(n),N(r)):3===["OS_TYPE","NODE_VERSION","GIT_VERSION"].filter((function(e){return!!localStorage.getItem(e)})).length?(m(localStorage.getItem("OS_TYPE")),N(localStorage.getItem("NODE_VERSION")),h(localStorage.getItem("GIT_VERSION"))):d()({url:g,method:"POST",cancelToken:s.token,data:{query:'\n              query GitConvexAPI{\n                gitConvexApi(route:"HEALTH_CHECK"){\n                  healthCheck{\n                    osCheck\n                    gitCheck\n                    nodeCheck\n                  }\n                }\n              }\n            '}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;m(JSON.parse(a).message),h(JSON.parse(n).message),N(JSON.parse(r).message)}})).catch((function(e){console.log(e)}));return function(){s.cancel()}}),[t.hcParams]);var k={platform:i,gitVersion:b,nodeVersion:x};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"xl:flex lg:flex md:block w-full h-screen"},r.a.createElement(j,{parentProps:e}),function(){switch(e.location.pathname){case"/dashboard":return r.a.createElement(T,{params:k});case"/dashboard/repository":return r.a.createElement(M,null);case"/dashboard/settings":return O;case"/dashboard/help":return w;default:return r.a.createElement(o.a,null,r.a.createElement(l.a,{exact:!0,path:"/dashboard/repository/:repoId"},y))}}()))}a(90);function pe(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],p=o[1],f=Object(n.useContext)(u).dispatch;return Object(n.useEffect)((function(){var e=g;d()({url:e,method:"POST",data:{query:'\n          query GitConvexAPI{\n            gitConvexApi(route:"HEALTH_CHECK"){\n              healthCheck{\n                osCheck\n                gitCheck\n                nodeCheck\n              }\n            }\n          }\n        '}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;f({type:"HC_PARAM_ACTION",payload:{osCheck:a,gitCheck:n,nodeCheck:r}}),p(!0)}else i(!0)})).catch((function(e){console.log(e),i(!0)}))}),[f]),r.a.createElement(r.a.Fragment,null,m?e.history.push("/dashboard"):r.a.createElement("div",{className:"w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"splash-logo w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"p-5 shadow-md border-l-4 border-t-4 border-blue-100 rounded-lg block"},r.a.createElement("div",{className:"splash-logo__image"})),r.a.createElement("div",{className:"logo-label my-3 p-3 text-center block"},r.a.createElement("div",{className:"logo-label__title block text-6xl border-solid border-b-4 border-pink-200"},r.a.createElement("span",{className:"logo-label__title-first font-sans font-bold mx-3"},"Git"),r.a.createElement("span",null,"Convex")),r.a.createElement("div",{className:"block font-mono my-2"},"A visualizer for your git repo"))),s?r.a.createElement("div",{className:"fixed bottom-0 left-0 right-0 w-full p-3 rounded-lg text-center font-sans bg-red-200 border-red-900"},r.a.createElement("div",{className:"h1 text-3xl p-2 m-2 text-red-800"},"Server Unreachable"),r.a.createElement("p",null,"The server is not reachable.Please check if the server module is running.")):null))}var ge=a(10);function fe(e,t){switch(t.type){case"HC_DONE_SWITCH":return Object(ge.a)(Object(ge.a)({},e),{},{hcDone:t.payload});case"HC_PARAM_ACTION":var a=t.payload,n=a.osCheck,r=a.gitCheck,s=a.nodeCheck,i=function(e){return JSON.parse(JSON.parse(JSON.stringify(e))).message};return localStorage.setItem("OS_TYPE",i(n)),localStorage.setItem("GIT_VERSION",i(r)),localStorage.setItem("NODE_VERSION",i(s)),Object(ge.a)(Object(ge.a)({},e),{},{hcParams:{osCheck:i(n),gitCheck:i(r),nodeCheck:i(s)}});case"PRESENT_REPO":return Object(ge.a)(Object(ge.a)({},e),{},{presentRepo:[].concat(Object(I.a)(e.presentRepo),[t.payload])});case"ADD_FORM_CLOSE":return Object(ge.a)(Object(ge.a)({},e),{},{shouldAddFormClose:t.payload});case"DELETE_PRESENT_REPO":return Object(ge.a)(Object(ge.a)({},e),{},{presentRepo:Object(I.a)(t.payload)});case"GIT_TRACKED_FILES":return e.modifiedGitFiles=[],Object(ge.a)(Object(ge.a)({},e),{},{modifiedGitFiles:[].concat(Object(I.a)(e.modifiedGitFiles),[t.payload])});case"GIT_GLOBAL_REPOID":return e.globalRepoId="",Object(ge.a)(Object(ge.a)({},e),{},{globalRepoId:t.payload});case"GIT_ACTION_TRACKED_FILES":return e.gitTrackedFiles=[],Object(ge.a)(Object(ge.a)({},e),{},{gitTrackedFiles:[].concat(Object(I.a)(e.gitTrackedFiles),[t.payload])});case"GIT_ACTION_UNTRACKED_FILES":return e.gitUntrackedFiles=[],Object(ge.a)(Object(ge.a)({},e),{},{gitUntrackedFiles:[].concat(Object(I.a)(e.gitUntrackedFiles),[t.payload])});default:return Object(ge.a)({},e)}}function be(e){var t=Object(n.useReducer)(fe,{hcParams:{},presentRepo:[],modifiedGitFiles:[],globalRepoId:"",gitUntrackedFiles:[],gitTrackedFiles:[]}),a=Object(c.a)(t,2),s=a[0],i=a[1];return r.a.createElement("div",{className:"App w-full h-full"},r.a.createElement(u.Provider,{value:{state:s,dispatch:i}},r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:pe}),r.a.createElement(l.a,{path:"/dashboard",component:ue}),r.a.createElement(l.a,{path:"/dashboard/repository",exact:!0,component:ue}),r.a.createElement(l.a,{path:"/dashboard/repository/*",component:ue})))))}a(91),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.b849636f.chunk.js.map