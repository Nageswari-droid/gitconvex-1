(this.webpackJsonpgitconvex=this.webpackJsonpgitconvex||[]).push([[0],{46:function(e,t,a){},49:function(e,t,a){e.exports=a(82)},54:function(e,t,a){},78:function(e,t,a){var n={"./prism-abap.js":[83,3],"./prism-abap.min.js":[84,4],"./prism-abnf.js":[85,5],"./prism-abnf.min.js":[86,6],"./prism-actionscript.js":[87,7],"./prism-actionscript.min.js":[88,8],"./prism-ada.js":[89,9],"./prism-ada.min.js":[90,10],"./prism-antlr4.js":[91,11],"./prism-antlr4.min.js":[92,12],"./prism-apacheconf.js":[93,13],"./prism-apacheconf.min.js":[94,14],"./prism-apl.js":[95,15],"./prism-apl.min.js":[96,16],"./prism-applescript.js":[97,17],"./prism-applescript.min.js":[98,18],"./prism-aql.js":[99,19],"./prism-aql.min.js":[100,20],"./prism-arduino.js":[101,21],"./prism-arduino.min.js":[102,22],"./prism-arff.js":[103,23],"./prism-arff.min.js":[104,24],"./prism-asciidoc.js":[105,25],"./prism-asciidoc.min.js":[106,26],"./prism-asm6502.js":[107,27],"./prism-asm6502.min.js":[108,28],"./prism-aspnet.js":[109,29],"./prism-aspnet.min.js":[110,30],"./prism-autohotkey.js":[111,31],"./prism-autohotkey.min.js":[112,32],"./prism-autoit.js":[113,33],"./prism-autoit.min.js":[114,34],"./prism-bash.js":[115,35],"./prism-bash.min.js":[116,36],"./prism-basic.js":[117,37],"./prism-basic.min.js":[118,38],"./prism-batch.js":[119,39],"./prism-batch.min.js":[120,40],"./prism-bbcode.js":[121,41],"./prism-bbcode.min.js":[122,42],"./prism-bison.js":[123,43],"./prism-bison.min.js":[124,44],"./prism-bnf.js":[125,45],"./prism-bnf.min.js":[126,46],"./prism-brainfuck.js":[127,47],"./prism-brainfuck.min.js":[128,48],"./prism-brightscript.js":[129,49],"./prism-brightscript.min.js":[130,50],"./prism-bro.js":[131,51],"./prism-bro.min.js":[132,52],"./prism-c.js":[133,53],"./prism-c.min.js":[134,54],"./prism-cil.js":[135,55],"./prism-cil.min.js":[136,56],"./prism-clike.js":[137,57],"./prism-clike.min.js":[138,58],"./prism-clojure.js":[139,59],"./prism-clojure.min.js":[140,60],"./prism-cmake.js":[141,61],"./prism-cmake.min.js":[142,62],"./prism-coffeescript.js":[143,63],"./prism-coffeescript.min.js":[144,64],"./prism-concurnas.js":[145,65],"./prism-concurnas.min.js":[146,66],"./prism-core.js":[147,67],"./prism-core.min.js":[148,68],"./prism-cpp.js":[149,69],"./prism-cpp.min.js":[150,70],"./prism-crystal.js":[151,71],"./prism-crystal.min.js":[152,72],"./prism-csharp.js":[153,73],"./prism-csharp.min.js":[154,74],"./prism-csp.js":[155,75],"./prism-csp.min.js":[156,76],"./prism-css-extras.js":[157,77],"./prism-css-extras.min.js":[158,78],"./prism-css.js":[159,79],"./prism-css.min.js":[160,80],"./prism-d.js":[161,81],"./prism-d.min.js":[162,82],"./prism-dart.js":[163,83],"./prism-dart.min.js":[164,84],"./prism-dax.js":[165,85],"./prism-dax.min.js":[166,86],"./prism-diff.js":[167,87],"./prism-diff.min.js":[168,88],"./prism-django.js":[169,89],"./prism-django.min.js":[170,90],"./prism-dns-zone-file.js":[171,91],"./prism-dns-zone-file.min.js":[172,92],"./prism-docker.js":[173,93],"./prism-docker.min.js":[174,94],"./prism-ebnf.js":[175,95],"./prism-ebnf.min.js":[176,96],"./prism-eiffel.js":[177,97],"./prism-eiffel.min.js":[178,98],"./prism-ejs.js":[179,99],"./prism-ejs.min.js":[180,100],"./prism-elixir.js":[181,101],"./prism-elixir.min.js":[182,102],"./prism-elm.js":[183,103],"./prism-elm.min.js":[184,104],"./prism-erb.js":[185,105],"./prism-erb.min.js":[186,106],"./prism-erlang.js":[187,107],"./prism-erlang.min.js":[188,108],"./prism-etlua.js":[189,109],"./prism-etlua.min.js":[190,110],"./prism-excel-formula.js":[191,111],"./prism-excel-formula.min.js":[192,112],"./prism-factor.js":[193,113],"./prism-factor.min.js":[194,114],"./prism-firestore-security-rules.js":[195,115],"./prism-firestore-security-rules.min.js":[196,116],"./prism-flow.js":[197,117],"./prism-flow.min.js":[198,118],"./prism-fortran.js":[199,119],"./prism-fortran.min.js":[200,120],"./prism-fsharp.js":[201,121],"./prism-fsharp.min.js":[202,122],"./prism-ftl.js":[203,123],"./prism-ftl.min.js":[204,124],"./prism-gcode.js":[205,125],"./prism-gcode.min.js":[206,126],"./prism-gdscript.js":[207,127],"./prism-gdscript.min.js":[208,128],"./prism-gedcom.js":[209,129],"./prism-gedcom.min.js":[210,130],"./prism-gherkin.js":[211,131],"./prism-gherkin.min.js":[212,132],"./prism-git.js":[213,133],"./prism-git.min.js":[214,134],"./prism-glsl.js":[215,135],"./prism-glsl.min.js":[216,136],"./prism-gml.js":[217,137],"./prism-gml.min.js":[218,138],"./prism-go.js":[219,139],"./prism-go.min.js":[220,140],"./prism-graphql.js":[221,141],"./prism-graphql.min.js":[222,142],"./prism-groovy.js":[223,143],"./prism-groovy.min.js":[224,144],"./prism-haml.js":[225,145],"./prism-haml.min.js":[226,146],"./prism-handlebars.js":[227,147],"./prism-handlebars.min.js":[228,148],"./prism-haskell.js":[229,149],"./prism-haskell.min.js":[230,150],"./prism-haxe.js":[231,151],"./prism-haxe.min.js":[232,152],"./prism-hcl.js":[233,153],"./prism-hcl.min.js":[234,154],"./prism-hpkp.js":[235,155],"./prism-hpkp.min.js":[236,156],"./prism-hsts.js":[237,157],"./prism-hsts.min.js":[238,158],"./prism-http.js":[239,159],"./prism-http.min.js":[240,160],"./prism-ichigojam.js":[241,161],"./prism-ichigojam.min.js":[242,162],"./prism-icon.js":[243,163],"./prism-icon.min.js":[244,164],"./prism-inform7.js":[245,165],"./prism-inform7.min.js":[246,166],"./prism-ini.js":[247,167],"./prism-ini.min.js":[248,168],"./prism-io.js":[249,169],"./prism-io.min.js":[250,170],"./prism-j.js":[251,171],"./prism-j.min.js":[252,172],"./prism-java.js":[253,173],"./prism-java.min.js":[254,174],"./prism-javadoc.js":[255,175],"./prism-javadoc.min.js":[256,176],"./prism-javadoclike.js":[257,177],"./prism-javadoclike.min.js":[258,178],"./prism-javascript.js":[259,179],"./prism-javascript.min.js":[260,180],"./prism-javastacktrace.js":[261,181],"./prism-javastacktrace.min.js":[262,182],"./prism-jolie.js":[263,183],"./prism-jolie.min.js":[264,184],"./prism-jq.js":[265,185],"./prism-jq.min.js":[266,186],"./prism-js-extras.js":[267,187],"./prism-js-extras.min.js":[268,188],"./prism-js-templates.js":[269,189],"./prism-js-templates.min.js":[270,190],"./prism-jsdoc.js":[271,191],"./prism-jsdoc.min.js":[272,192],"./prism-json.js":[273,193],"./prism-json.min.js":[274,194],"./prism-json5.js":[275,195],"./prism-json5.min.js":[276,196],"./prism-jsonp.js":[277,197],"./prism-jsonp.min.js":[278,198],"./prism-jsx.js":[279,199],"./prism-jsx.min.js":[280,200],"./prism-julia.js":[281,201],"./prism-julia.min.js":[282,202],"./prism-keyman.js":[283,203],"./prism-keyman.min.js":[284,204],"./prism-kotlin.js":[285,205],"./prism-kotlin.min.js":[286,206],"./prism-latex.js":[287,207],"./prism-latex.min.js":[288,208],"./prism-latte.js":[289,209],"./prism-latte.min.js":[290,210],"./prism-less.js":[291,211],"./prism-less.min.js":[292,212],"./prism-lilypond.js":[293,213],"./prism-lilypond.min.js":[294,214],"./prism-liquid.js":[295,215],"./prism-liquid.min.js":[296,216],"./prism-lisp.js":[297,217],"./prism-lisp.min.js":[298,218],"./prism-livescript.js":[299,219],"./prism-livescript.min.js":[300,220],"./prism-llvm.js":[301,221],"./prism-llvm.min.js":[302,222],"./prism-lolcode.js":[303,223],"./prism-lolcode.min.js":[304,224],"./prism-lua.js":[305,225],"./prism-lua.min.js":[306,226],"./prism-makefile.js":[307,227],"./prism-makefile.min.js":[308,228],"./prism-markdown.js":[309,229],"./prism-markdown.min.js":[310,230],"./prism-markup-templating.js":[311,231],"./prism-markup-templating.min.js":[312,232],"./prism-markup.js":[313,233],"./prism-markup.min.js":[314,234],"./prism-matlab.js":[315,235],"./prism-matlab.min.js":[316,236],"./prism-mel.js":[317,237],"./prism-mel.min.js":[318,238],"./prism-mizar.js":[319,239],"./prism-mizar.min.js":[320,240],"./prism-monkey.js":[321,241],"./prism-monkey.min.js":[322,242],"./prism-moonscript.js":[323,243],"./prism-moonscript.min.js":[324,244],"./prism-n1ql.js":[325,245],"./prism-n1ql.min.js":[326,246],"./prism-n4js.js":[327,247],"./prism-n4js.min.js":[328,248],"./prism-nand2tetris-hdl.js":[329,249],"./prism-nand2tetris-hdl.min.js":[330,250],"./prism-nasm.js":[331,251],"./prism-nasm.min.js":[332,252],"./prism-neon.js":[333,253],"./prism-neon.min.js":[334,254],"./prism-nginx.js":[335,255],"./prism-nginx.min.js":[336,256],"./prism-nim.js":[337,257],"./prism-nim.min.js":[338,258],"./prism-nix.js":[339,259],"./prism-nix.min.js":[340,260],"./prism-nsis.js":[341,261],"./prism-nsis.min.js":[342,262],"./prism-objectivec.js":[343,263],"./prism-objectivec.min.js":[344,264],"./prism-ocaml.js":[345,265],"./prism-ocaml.min.js":[346,266],"./prism-opencl.js":[347,267],"./prism-opencl.min.js":[348,268],"./prism-oz.js":[349,269],"./prism-oz.min.js":[350,270],"./prism-parigp.js":[351,271],"./prism-parigp.min.js":[352,272],"./prism-parser.js":[353,273],"./prism-parser.min.js":[354,274],"./prism-pascal.js":[355,275],"./prism-pascal.min.js":[356,276],"./prism-pascaligo.js":[357,277],"./prism-pascaligo.min.js":[358,278],"./prism-pcaxis.js":[359,279],"./prism-pcaxis.min.js":[360,280],"./prism-perl.js":[361,281],"./prism-perl.min.js":[362,282],"./prism-php-extras.js":[363,283],"./prism-php-extras.min.js":[364,284],"./prism-php.js":[365,285],"./prism-php.min.js":[366,286],"./prism-phpdoc.js":[367,287],"./prism-phpdoc.min.js":[368,288],"./prism-plsql.js":[369,289],"./prism-plsql.min.js":[370,290],"./prism-powerquery.js":[371,291],"./prism-powerquery.min.js":[372,292],"./prism-powershell.js":[373,293],"./prism-powershell.min.js":[374,294],"./prism-processing.js":[375,295],"./prism-processing.min.js":[376,296],"./prism-prolog.js":[377,297],"./prism-prolog.min.js":[378,298],"./prism-properties.js":[379,299],"./prism-properties.min.js":[380,300],"./prism-protobuf.js":[381,301],"./prism-protobuf.min.js":[382,302],"./prism-pug.js":[383,303],"./prism-pug.min.js":[384,304],"./prism-puppet.js":[385,305],"./prism-puppet.min.js":[386,306],"./prism-pure.js":[387,307],"./prism-pure.min.js":[388,308],"./prism-python.js":[389,309],"./prism-python.min.js":[390,310],"./prism-q.js":[391,311],"./prism-q.min.js":[392,312],"./prism-qml.js":[393,313],"./prism-qml.min.js":[394,314],"./prism-qore.js":[395,315],"./prism-qore.min.js":[396,316],"./prism-r.js":[397,317],"./prism-r.min.js":[398,318],"./prism-reason.js":[399,319],"./prism-reason.min.js":[400,320],"./prism-regex.js":[401,321],"./prism-regex.min.js":[402,322],"./prism-renpy.js":[403,323],"./prism-renpy.min.js":[404,324],"./prism-rest.js":[405,325],"./prism-rest.min.js":[406,326],"./prism-rip.js":[407,327],"./prism-rip.min.js":[408,328],"./prism-roboconf.js":[409,329],"./prism-roboconf.min.js":[410,330],"./prism-robotframework.js":[411,331],"./prism-robotframework.min.js":[412,332],"./prism-ruby.js":[413,333],"./prism-ruby.min.js":[414,334],"./prism-rust.js":[415,335],"./prism-rust.min.js":[416,336],"./prism-sas.js":[417,337],"./prism-sas.min.js":[418,338],"./prism-sass.js":[419,339],"./prism-sass.min.js":[420,340],"./prism-scala.js":[421,341],"./prism-scala.min.js":[422,342],"./prism-scheme.js":[423,343],"./prism-scheme.min.js":[424,344],"./prism-scss.js":[425,345],"./prism-scss.min.js":[426,346],"./prism-shell-session.js":[427,347],"./prism-shell-session.min.js":[428,348],"./prism-smalltalk.js":[429,349],"./prism-smalltalk.min.js":[430,350],"./prism-smarty.js":[431,351],"./prism-smarty.min.js":[432,352],"./prism-solidity.js":[433,353],"./prism-solidity.min.js":[434,354],"./prism-solution-file.js":[435,355],"./prism-solution-file.min.js":[436,356],"./prism-soy.js":[437,357],"./prism-soy.min.js":[438,358],"./prism-sparql.js":[439,359],"./prism-sparql.min.js":[440,360],"./prism-splunk-spl.js":[441,361],"./prism-splunk-spl.min.js":[442,362],"./prism-sqf.js":[443,363],"./prism-sqf.min.js":[444,364],"./prism-sql.js":[445,365],"./prism-sql.min.js":[446,366],"./prism-stylus.js":[447,367],"./prism-stylus.min.js":[448,368],"./prism-swift.js":[449,369],"./prism-swift.min.js":[450,370],"./prism-t4-cs.js":[451,371],"./prism-t4-cs.min.js":[452,372],"./prism-t4-templating.js":[453,373],"./prism-t4-templating.min.js":[454,374],"./prism-t4-vb.js":[455,375],"./prism-t4-vb.min.js":[456,376],"./prism-tap.js":[457,377],"./prism-tap.min.js":[458,378],"./prism-tcl.js":[459,379],"./prism-tcl.min.js":[460,380],"./prism-textile.js":[461,381],"./prism-textile.min.js":[462,382],"./prism-toml.js":[463,383],"./prism-toml.min.js":[464,384],"./prism-tsx.js":[465,385],"./prism-tsx.min.js":[466,386],"./prism-tt2.js":[467,387],"./prism-tt2.min.js":[468,388],"./prism-turtle.js":[469,389],"./prism-turtle.min.js":[470,390],"./prism-twig.js":[471,391],"./prism-twig.min.js":[472,392],"./prism-typescript.js":[473,393],"./prism-typescript.min.js":[474,394],"./prism-vala.js":[475,395],"./prism-vala.min.js":[476,396],"./prism-vbnet.js":[477,397],"./prism-vbnet.min.js":[478,398],"./prism-velocity.js":[479,399],"./prism-velocity.min.js":[480,400],"./prism-verilog.js":[481,401],"./prism-verilog.min.js":[482,402],"./prism-vhdl.js":[483,403],"./prism-vhdl.min.js":[484,404],"./prism-vim.js":[485,405],"./prism-vim.min.js":[486,406],"./prism-visual-basic.js":[487,407],"./prism-visual-basic.min.js":[488,408],"./prism-wasm.js":[489,409],"./prism-wasm.min.js":[490,410],"./prism-wiki.js":[491,411],"./prism-wiki.min.js":[492,412],"./prism-xeora.js":[493,413],"./prism-xeora.min.js":[494,414],"./prism-xojo.js":[495,415],"./prism-xojo.min.js":[496,416],"./prism-xquery.js":[497,417],"./prism-xquery.min.js":[498,418],"./prism-yaml.js":[499,419],"./prism-yaml.min.js":[500,420],"./prism-zig.js":[501,421],"./prism-zig.min.js":[502,422]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=78,e.exports=r},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),o=a.n(s),i=a(1),l=a(8),c=a(19),m=(a(54),a(3)),d=a.n(m),u=r.a.createContext({hcDone:!1,platform:"",git:"",node:"",shouldAddFormClose:!1,globalRepoId:"",hcParams:{},presentRepo:[],modifiedGitFiles:[],gitUntrackedFiles:[],gitTrackedFiles:[]}),p=window.location.port,g="".concat("http","://").concat(window.location.hostname,":").concat(p,"/").concat("gitconvexapi"),f=a(515),b=a(516),x=a(517);function h(e){var t=Object(n.useContext)(u).dispatch,a=[{link:"/dashboard/repository",icon:r.a.createElement(f.a,{style:{color:"grey",fontSize:"36px"}}),label:"Repositories"},{link:"/dashboard/settings",icon:r.a.createElement(b.a,{style:{color:"grey",fontSize:"36px"}}),label:"Settings"},{link:"/dashboard/help",icon:r.a.createElement(x.a,{style:{color:"grey",fontSize:"36px"}}),label:"Help"}];return r.a.createElement("div",{className:"dashboard-leftpane xl:block lg:block md:flex md:justify-between bg-white overflow-auto xl:w-1/4 lg:w-1/3 md:w-full top-0 left-0 right-0 shadow-md block p-3 bg-white-400"},r.a.createElement("div",{className:"flex justify-center items-center bg-blue-100 cursor-pointer",onClick:function(a){t({type:"ADD_FORM_CLOSE",payload:!0}),e.parentProps.history.push("/dashboard")}},r.a.createElement("div",{className:"block dashboard-leftpane__logo"}),r.a.createElement("div",{className:"font-mono xl:text-3xl lg:text-2xl md:text-3xl sm:text-2xl p-4"},r.a.createElement("span",{className:"font-bold mx-2 border-b-4 border-pink-400"},"Git"),"Convex")),r.a.createElement("div",{className:"xl:mt-32 lg:mt-24 cursor-pointer xl:block lg:block md:flex sm:block items-center align-middle"},a.map((function(e){return r.a.createElement(c.b,{to:"".concat(e.link),exact:!0,activeClassName:"bg-gray-300",className:"flex border-b border-black-100 p-3 hover:bg-gray-100 mx-2",key:e.label},r.a.createElement("div",{className:"flex align-middle items-center my-auto"},r.a.createElement("div",{className:"text-sm"},e.icon),r.a.createElement("div",{className:"ml-2 xl:text-2xl lg:text-2xl md:text-xl text-gray-700"},e.label)))}))))}var v=a(7),j=a(10),E=a(4),y=a(28);function w(e){v.b.add(j.a);var t=Object(n.useContext)(u),a=t.state,s=t.dispatch,o=Object(n.useState)(""),l=Object(i.a)(o,2),c=l[0],m=l[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],x=f[1],h=Object(n.useState)(""),w=Object(i.a)(h,2),N=w[0],O=w[1],k=Object(n.useState)(!1),C=Object(i.a)(k,2),S=C[0],T=C[1],R=Object(n.useState)(!1),I=Object(i.a)(R,2),A=I[0],F=I[1],_=Object(n.useState)(!1),P=Object(i.a)(_,2),D=P[0],L=P[1],q=Object(n.useState)(!1),B=Object(i.a)(q,2),G=B[0],M=B[1],H=Object(n.useState)(!1),U=Object(i.a)(H,2),J=U[0],V=U[1],z=Object(y.b)({config:{duration:1500,tension:500},from:{transform:"translate(0em, 0em)"},to:{transform:"translate(2em, 0em)"}}),K=Object(y.b)({config:{duration:500,tension:500},from:{transform:"translate(2em, 0em)"},to:{transform:"translate(0em, 0em)"}});function Y(){T(!1),F(!1)}function W(e){return r.a.createElement("div",{key:"switch-".concat(e),className:"flex rounded-full h-8 w-16 py-2 shadow-inner items-center align-middle pl-1 cursor-pointer ".concat("clone"===e&&G?"bg-green-400":"bg-gray-200","\n        ").concat("init"===e&&J?"bg-blue-400":"bg-gray-200"),onClick:function(t){"clone"===e?G?M(!1):(M(!0),V(!1)):J?V(!1):(V(!0),M(!1))}},"clone"===e?r.a.createElement(y.a.div,{className:"rounded-full h-6 w-6 shadow-md bg-white",id:"".concat(e,"-switch"),style:G?z:K}):r.a.createElement(y.a.div,{className:"rounded-full h-6 w-6 shadow-md bg-white",id:"".concat(e,"-switch"),style:J?z:K}))}return Object(n.useEffect)((function(){a.shouldAddFormClose&&e.formEnable(!1)}),[a,e]),r.a.createElement("div",{className:"block text-center justify-center my-20 p-6 rounded-lg shadow-md border-2 border-gray-200 xl:w-1/2 lg:w-2/3 md:w-3/4 sm:w-11/12 w-11/12 mx-auto"},D?r.a.createElement("div",{className:"flex relative w-full block rounded h-full",style:{background:"rgba(0,0,0,0.3)"}},r.a.createElement("div",{className:"w-11/12 my-auto mx-auto p-6 shadow items-center text-xl bg-white rounded text-indigo-600 mt-10 mb-10 ml-10 mr-10"},"Repo setup in progress...")):r.a.createElement("div",{className:"repo-form block"},A?r.a.createElement("div",{className:"my-6 mx-auto block p-3 w-1/2 rounded-lg shadow-sm border border-green-500 bg-green-200 text-xl text-green-800 text-center"},"New repo added"):S?r.a.createElement("div",{className:"my-6 mx-auto block p-3 w-1/2 rounded-lg shadow-sm border border-red-500 bg-red-200 text-xl text-red-800 text-center"},"Process failed! Please try again"):null,r.a.createElement("div",{className:"my-3 text-center block text-3xl font-sans text-gray-800"},"Enter Repo Details"),r.a.createElement("div",null,r.a.createElement("input",{id:"repoNameText",type:"text",placeholder:"Enter a Repository Name",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){m(e.target.value)},value:c,onClick:function(){Y()}})),r.a.createElement("div",null,r.a.createElement("input",{id:"repoPathText",type:"text",placeholder:G?"Enter base directory path":"Enter repository path",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){x(e.target.value)},value:b,onClick:function(){Y()}})),G&&b&&c?r.a.createElement("div",{className:"my-4 mx-auto text-center font-sans font-light text-gray-600 text-sm items-center"},"The repo will be cloned to",r.a.createElement("span",{className:"mx-3 text-center font-sans font-semibold border-b-2 border-dashed"},b,r.a.createElement(r.a.Fragment,null,b.includes("\\")?"\\":"/"),c)):null,r.a.createElement("div",{className:"flex mx-auto my-10 items-center justify-center"},r.a.createElement("div",{className:"flex justify-around items-center"},r.a.createElement("div",null,W("clone")),r.a.createElement("div",{className:"mx-2 font-sans font-light"},"Clone from remote")),r.a.createElement("div",{className:"flex justify-around items-center"},r.a.createElement("div",null,W("init")),r.a.createElement("div",{className:"mx-2 font-sans font-light"},"Initialize a new repo"))),G?r.a.createElement("div",{className:"flex mx-auto w-11/12 justify-between shadow-md border items-center rounded-md text-indigo-800"},r.a.createElement("div",{className:"w-1/8 text-center border p-3 px-6"},r.a.createElement(E.a,{icon:["fas","link"]})),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{value:N,className:"border-0 outline-none w-full p-2",placeholder:"Enter the remote repo URL",onClick:function(){T(!1)},onChange:function(e){O(e.target.value)}}))):null,r.a.createElement("div",{className:"flex w-11/12 justify-start mx-auto my-5 cursor-pointer"},r.a.createElement("div",{className:"my-2 w-1/2 block mx-3 p-3 bg-red-400 rounded-md shadow-md hover:bg-red-500",id:"addRepoClose",onClick:function(){e.formEnable(!1)}},"Close"),r.a.createElement("div",{className:"block w-1/2 mx-3 p-3 my-2 bg-green-400 rounded-md shadow-md hover:bg-green-500",id:"addRepoSubmit",onClick:function(){!function(e,t){if(e&&t){var n=!1,r=!1,o=N;if(t=t.replace(/\\/gi,"\\\\"),G&&!N)return T(!0),!1;J?n=!0:G&&o&&(r=!0),L(!0),d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRepo(repoName: "'.concat(e,'", repoPath: "').concat(t,'", initSwitch: ').concat(n,", cloneSwitch: ").concat(r,', cloneUrl: "').concat(o,'"){\n                  message\n                  repoId\n                }\n              }\n            ')}}).then((function(e){if(L(!1),e.data.data&&!e.data.error){var t=e.data.data.addRepo.message;t&&!t.match(/FAIL/g)?(F(!0),T(!1),M(""),V(""),m(""),x(""),O(""),s({action:"DELETE_PRESENT_REPO",payload:[]}),console.log(a.presentRepo)):(T(!0),F(!1))}else T(!0),F(!1)})).catch((function(e){L(!1),console.log(e),T(!0),F(!1)}))}else T(!0)}(c,b)}},"Submit"))))}var N=a(13);function O(e){v.b.add(N.a,j.a);var t=e.repoData,a=Object(n.useState)(""),s=Object(i.a)(a,2),o=s[0],l=s[1];Object(n.useEffect)((function(){var t=e.repoData.id,a=JSON.stringify(JSON.stringify({repoId:t})),n=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:n.token,data:{query:'\n    \n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                    gitRepoStatus {\n                      gitTotalCommits\n                      gitTotalTrackedFiles  \n                      gitCurrentBranch  \n                    }\n                  }\n                }\n              ")}}).then((function(e){l(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){})),function(){n.cancel()}}),[e]);var m=t.repoName,u="";if(m)if(m.split(" ").length>1){var p=m.split(" ");u=(u=p[0].substring(0,1)+p[1].substring(0,1)).toUpperCase()}else u=m.substring(0,1).toUpperCase();return r.a.createElement(c.b,{to:"/dashboard/repository/".concat(t.id),className:"xl:w-1/3 lg:w-2/4 md:w-1/2 block p-6 mx-6 rounded-lg border border-gray-300 shadow-md my-6 text-center bg-indigo-500 cursor-pointer hover:shadow-xl",key:t.repoName},r.a.createElement("div",{className:"text-center bg-indigo-300 text-white text-5xl my-2 px-10 py-5 rounded shadow"},u),r.a.createElement("div",{className:"my-4 font-sans text-2xl text-white border-dashed border-b-2 pb-2 border-indigo-300"},t.repoName),r.a.createElement("div",{className:"w-full flex justify-center mx-auto my-2 text-center rounded-md shadow-sm align-middle"},r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-l-md my-2 items-center"},r.a.createElement(E.a,{className:"my-auto",icon:["fas","grip-lines"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},o.gitTotalCommits," Commits")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 my-2 items-center"},r.a.createElement(E.a,{className:"my-auto",icon:["fas","file-alt"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},o.gitTotalTrackedFiles," Tracked Files")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-r-md my-2 items-center"},r.a.createElement(E.a,{className:"my-auto",icon:["fas","code-branch"]}),r.a.createElement("div",{className:"mx-2  text-sm text-center font-sans text-center font-semibold"},o.gitCurrentBranch))))}function k(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],p=c[1],f=Object(n.useContext)(u).dispatch;Object(n.useEffect)((function(){var e=g,t=d.a.CancelToken.source();return d()({url:e,method:"POST",cancelToken:t.token,data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n              fetchRepo{\n                repoId\n                repoName\n                repoPath\n              }\n            }\n          }\n        ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var a=t.repoId,n=t.repoName,r=[];a.forEach((function(e,t){r.push({id:e,repoName:n[t]})})),o(r),f({type:"DELETE_PRESENT_REPO",payload:[]}),f({action:"PRESENT_REPO",payload:[].concat(r)})}})),function(){t.cancel()}}),[m,f]);return r.a.createElement("div",{className:"flex flex-wrap mx-auto justify-center text-center align-middle"},m?r.a.createElement(w,{formEnable:function(e){p(e)}}):function(){var e=s;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full mx-auto justify-around flex flex-wrap pb-40"},r.a.createElement(r.a.Fragment,null,e.length>0?r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(O,{key:e.id,repoData:e})}))):r.a.createElement("div",{className:"mx-auto w-3/4 rounded-md text-center shadow bg-gray-200 text-gray-500 font-sans p-10 my-10 text-xl"},"No repos present. Press + to add a new repo"))),r.a.createElement("div",{className:"fixed bottom-0 right-0 mb-10 mr-16 cursor-pointer block justify-center"},r.a.createElement("div",{id:"addRepoButton",className:"border-8 border-indigo-100 shadow-lg bg-indigo-300 hover:bg-indigo-400 rounded-full h-20 w-20 flex align-middle justify-center text-4xl text-white font-sans font-black",onClick:function(){p(!0),f({type:"ADD_FORM_CLOSE",payload:!1})},onMouseEnter:function(e){e.stopPropagation(),e.preventDefault(),document.getElementById("pop-up").classList.remove("hidden")},onMouseLeave:function(e){document.getElementById("pop-up").classList.add("hidden")}},r.a.createElement("span",null,"+"),r.a.createElement("div",{id:"pop-up",className:"fixed p-2 hidden rounded bg-white text-gray-700 w-48 text-center font-sans font-medium border border-gray-500 shadow-lg text-sm mx-auto w-1/8",style:{marginTop:"-75px",width:"130px"}},"Click to add a new repo"))))}())}function C(e){var t=e.params,a=t.platform,n=t.gitVersion,s=t.nodeVersion,o=[{label:"Platform",value:a},{label:"Git",value:n},{label:"Node",value:s}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dashboard-rightpane w-full mx-auto justify-center xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"w-11/12 p-3 my-6 mx-auto rounded-lg shadow-md xl:flex lg:flex md:block sm:block rightpane-details block justify-between mx-auto bg-blue-100 border-2 border-blue-100"},o.map((function(e){return r.a.createElement("div",{key:e.label,className:"my-2 flex mx-auto justify-around items-center align-middle"},r.a.createElement("div",{className:"w-1/2 rightpane-details__header border-b-2 border-dashed mx-2 font-sans xl:font-bold lg:font-semibold md:font-medium xl:text-2xl lg:text-xl md:text-md"},e.label),""!==e.value?r.a.createElement("div",{className:"w-2/3 mx-2 bg-green-200 border-green-800 text-center text-green-900 p-2 rounded-lg hc-param",id:"hc-param__".concat(e.label)},e.value):r.a.createElement("div",{className:"rounded-md bg-red-200 text-red-900 font-bold p-2"},"Invalid"))}))),function(){if(a&&n&&s)return r.a.createElement(k,{parentProps:e})}()))}function S(){return v.b.add(j.a,N.a),r.a.createElement("div",{className:"w-full h-full pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"flex text-5xl text-gray-700 mx-6 my-auto align-middle items-center"},r.a.createElement(E.a,{icon:["fas","question-circle"]}),r.a.createElement("div",{className:"my-5 mx-5 font-sans"},"Help and Support")),r.a.createElement("div",{className:"my-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans text-gray-900"},"Facing an issue or need any help?"),r.a.createElement("span",{className:"text-xl font-medium my-2"},"Before raising an issue, make sure you have gone through the"),r.a.createElement("span",{className:"font-mono text-xl mx-2 text-indigo-500 hover:text-indigo-600 hover:font-semibold cursor-pointer"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-package/blob/master/documentation",target:"_blank",rel:"noopener noreferrer"},"Documentation"))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-indigo-800"},"Have any queries or want to share your feedback?"),r.a.createElement("div",{className:"flex mx-auto my-2 items-center align-middle"},r.a.createElement("div",{className:"text-gray-800 text-2xl font-sans"},"Lets have a discussion on"),r.a.createElement("a",{href:"https://discord.gg/PSd2Cq9",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex mx-2 justify-around align-middle items-center bg-indigo-400 text-white p-2 rounded shadow-sm text-2xl cursor-pointer hover:bg-indigo-500"},r.a.createElement(E.a,{icon:["fab","discord"]}),r.a.createElement("div",{className:"mx-3 font-sans font-black"},"discord"))))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600"},"You can also use the github issue reporting feature to report any issue you find in the platform"),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-package/issues",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex w-1/3 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 w-3/4 cursor-pointer hover:shadow-lg align-middle my-3 items-center p-3 bg-white shadow-md rounded border border-gray-500"},r.a.createElement(E.a,{icon:["fab","github"]}),r.a.createElement("div",{className:"mx-2"},"Report an issue")))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600 my-5 break-normal"},"gitconvex is open source and please visit the repo if you are interested in contributing to the platform"),r.a.createElement("div",{className:"xl:flex lg:block md:block justify-center items-center align-middle"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-blue-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(E.a,{icon:["fab","react"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex UI")),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-server",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-green-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(E.a,{icon:["fab","node-js"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex server")))))}var T=a(25),R=a.n(T),I=a(5),A=a(30),F=a(22),_=(a(46),a(518));function P(){var e=Object(n.useContext)(u),t=e.state,s=e.dispatch,o=t.globalRepoId,l=Object(n.useState)([]),c=Object(i.a)(l,2),m=c[0],p=c[1],f=Object(n.useState)("Click on a file item to see the difference"),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useState)([]),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)(""),N=Object(i.a)(w,2),O=N[0],k=N[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],P=S[1],D=Object(n.useState)(!1),L=Object(i.a)(D,2),q=L[0],B=L[1],G=Object(n.useState)(""),M=Object(i.a)(G,2),H=M[0],U=M[1],J=Object(n.useState)(""),V=Object(i.a)(J,2),z=V[0],K=V[1],Y={js:"javascript",java:"java",py:"python",c:"c",cpp:"cpp",go:"go",rust:"rust",ts:"typescript",dart:"dart",php:"php",html:"markup",json:"json",xml:"markup",yaml:"yaml",yml:"yaml",rb:"ruby",jsx:"jsx",kt:"kotlin",ktm:"kotlin",kts:"kotlin",cs:"csharp",vb:"visual-basic",css:"css"};Object(n.useEffect)((function(){var e=t.globalRepoId;B(!1),k(""),y("Click on a file item to see the difference"),h("Click on a file item to see the difference");var a=g;if(e){var n=JSON.stringify(JSON.stringify({repoId:e}));d()({url:a,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(n,")\n              {\n                gitChanges{\n                  gitChangedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){if(e&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitChanges.gitChangedFiles;(t=t.filter((function(e){return"D"!==e.split(",")[0]}))).length>=1?p(Object(I.a)(t)):U("No modified or new files found in the repo. All the files are either removed or not present in the repo!"),P(!0),s({type:"GIT_TRACKED_FILES",payload:t})}})).catch((function(e){return e}))}}),[t.globalRepoId,s]);var W=function(e){var t=e.split(".")[e.split(".").length-1];if(t)return B(!0),t in Y?Y[t]:"markup"};return r.a.createElement(r.a.Fragment,null,m&&m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex mx-auto w-full justify-center"},r.a.createElement("div",{className:"break-words p-2 py-2 bg-indigo-200 text-indigo-800 w-1/4 overflow-hidden"},r.a.createElement(r.a.Fragment,null,m.length>=1&&m.map((function(e){if(e&&"M"===e.split(",")[0]){var t=e.split(",")[1];return r.a.createElement("div",{className:"p-2 text-sm break-words hover:bg-indigo-100 cursor-pointer ".concat(t===O?" bg-indigo-100 border-b border-indigo-400":""),onClick:function(){k(t),function(e,t){var n=g;B(!1),U("");var r=JSON.stringify(JSON.stringify({repoId:e,fileName:t}));d()({url:n,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("REPO_FILE_DIFF",'", payload:').concat(r,")\n            {\n              gitFileLineChanges{\n                diffStat\n                fileDiff\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(A.a)(R.a.mark((function e(n){var r,s,o,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data.data||n.data.error){e.next=14;break}if(r=n.data.data.gitConvexApi.gitFileLineChanges,s=r.diffStat,o=r.fileDiff,"NO_STAT"!==s[0]&&"NO_DIFF"!==o[0]){e.next=6;break}U("No difference could be found. Please check if the file is present in the repo!"),e.next=12;break;case 6:return h(s[1]),y(o),i=W(t),e.next=11,a(78)("./prism-"+i+".js").then((function(){})).catch((function(e){console.log(e)}));case 11:K(i);case 12:e.next=15;break;case 14:U("Error while fetching the file difference. Please try reloading the view!");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),U("Error while fetching the file difference. Please try reloading the view!")}))}(o,t)},key:t},t)}return null})))),O?"":r.a.createElement("div",{className:"p-3 shadow-md rounded-sm text-center mx-auto my-auto mt-3 block text-md font-sans"},"Click on a file to see difference information"),H?r.a.createElement("div",{className:"text-center mx-auto my-4 p-4 rounded bg-yellow-300 border-yellow-800 font-sans font-medium my-auto"},H):null,x&&"Click on a file item to see the difference"!==x&&!H?r.a.createElement("div",{className:"p-2 break-all w-3/4 mx-auto"},x?function(){if(x&&x.includes(",")){var e=x.split(",");return r.a.createElement("div",{className:"text-xl text-center w-3/4 mx-auto block p-2 border border-gray-500 rounded-md shadow-md border-dotted"},r.a.createElement("span",{className:"font-sans font-bold px-1"},e[0]),e.slice(1,e.length).map((function(e){return e.match(/insert/i)?r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-green-700 font-sans font-semibold"},"insertions (+)")):r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-red-700 font-sans font-semibold"},"deletions (-)"))})))}}():"",E&&"Click on a file item to see the difference"!==E?r.a.createElement("div",{className:"p-2 py-6 mt-6 text-left break-words overflow-scroll"},function(){var e=[];return E&&E.join("").split(/@@.*@@/gi)&&q&&z&&(e=E.join("|__HASH_SEPARATOR__|").split(/@@.*@@/gi)[1].split("|__HASH_SEPARATOR__|").map((function(e){return e.match(/\\ No newline at end of file/gi)?"":"+"===e[0]?r.a.createElement("div",{className:"bg-green-200 w-screen",key:"".concat(e,"-").concat(Object(_.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("+",""),F.languages[z],z)}}))):"-"===e[0]?r.a.createElement("div",{className:"bg-red-200 w-screen",key:"".concat(e,"-").concat(Object(_.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("-",""),F.languages[z],z)}}))):r.a.createElement("div",{className:"bg-white-200 w-screen",key:"".concat(e,"-").concat(Object(_.a)())},r.a.createElement("pre",null,r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e,F.languages[z],z)}})))}))),r.a.createElement("div",{className:"break-all my-6 mx-auto"},r.a.createElement("code",null,e))}()):""):"")):r.a.createElement(r.a.Fragment,null,T?r.a.createElement("div",{className:"my-3 mx-auto text-center p-3 rounded-md shadow-md bg-pink-200 text-gray-700"},r.a.createElement("span",null,"No Changed files are being tracked currently!")):null))}function D(e){var t=e.repoId,a=Object(n.useState)(!0),s=Object(i.a)(a,2),o=s[0],l=s[1],c=Object(n.useState)([]),m=Object(i.a)(c,2),u=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useState)(!1),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)(!1),N=Object(i.a)(w,2),O=N[0],k=N[1],C=Object(n.useRef)();return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(t,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;l(!1),t&&t.length>0&&p(Object(I.a)(t))})).catch((function(e){l(!1)})),function(){a.cancel()}}),[e]),r.a.createElement("div",{className:"w-3/4 mx-auto my-auto bg-gray-200 p-6 rounded-md"},u&&u.length>0?function(){if(u&&u.length>0){var e=u.length;return r.a.createElement(r.a.Fragment,null,x?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded- shadow"},"All changes are committed!"):r.a.createElement("div",{className:"p-3 mx-auto w-5/6 block justify-center"},r.a.createElement("div",{className:"text-2xl my-2 font-sans font-semibold"},e," Changes to commit..."),r.a.createElement("div",{className:"overflow-auto",style:{height:"300px"}},u.map((function(e){return r.a.createElement("div",{className:"m-1 mx-auto w-11/12 break-all border-b text-left font-sans text-gray-700",key:e},e)}))),r.a.createElement("div",{className:"text-xl my-4"},"Commit Message"),r.a.createElement("textarea",{className:"p-2 rounded-md shadow-md text-gray-900 font-sans w-full outline-none",placeholder:"Enter commit message",cols:"20",rows:"5",ref:C}),E?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Commit Failed!"):null,O?r.a.createElement("div",{className:"my-4 p-2 text-center mx-auto text-xl bg-gray-400 hover:bg-gray-700 rounded shadow w-full cursor-pointer text-white"},"Committing Changes..."):r.a.createElement("div",{className:"my-4 p-2 text-center mx-auto text-xl bg-green-400 hover:bg-green-700 rounded shadow w-full cursor-pointer text-white",onClick:function(e){var a=C.current.value;a?function(e){k(!0),(e=e.replace(/"/gi,'\\"')).split("\n")&&e.split("\n").length>0&&(e=e.toString().split("\n").join("||")),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            commitChanges(repoId: "'.concat(t,'", commitMessage: "').concat(e,'")\n          }\n        ')}}).then((function(e){k(!1),e.data.data&&!e.data.error&&"COMMIT_DONE"===e.data.data.commitChanges?h(!0):y(!0)})).catch((function(e){k(!1),y(!0)}))}(a):alert("Commit message can't be empty")}},"Commit Changes")))}}():r.a.createElement("div",{className:"bg-orange-200 rounded-md shadow-md p-4 text-2xl font-sans text-center font-bold text-orange-700"},o?r.a.createElement("span",null,"Loading Commits..."):r.a.createElement("span",null,"No Staged files to commit")))}function L(e){var t=e.repoId,a=Object(n.useState)(),s=Object(i.a)(a,2),o=s[0],l=s[1],c=Object(n.useState)(!1),m=Object(i.a)(c,2),u=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useState)([]),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)(!1),N=Object(i.a)(w,2),O=N[0],k=N[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],R=S[1],A=Object(n.useState)(!1),F=Object(i.a)(A,2),_=F[0],P=F[1],D=Object(n.useState)(!1),L=Object(i.a)(D,2),q=L[0],B=L[1],G=Object(n.useRef)(),M=Object(n.useRef)();function H(e){var t=e.split("||");return r.a.createElement("div",{className:"block justify-evenly border shadow rounded p-2"},["Commit Hash","Commit Author","Commit Timestamp","Commit Message"].map((function(e,a){return n=e,s=t[a],r.a.createElement("div",{className:"flex justify-evenly",key:n},r.a.createElement("div",{className:"font-sans text-gray-900 font-bold mx-2 w-1/4 break-words"},n),r.a.createElement("div",{className:"font-sans text-gray-800 mx-2 w-1/2 break-words"},s));var n,s})))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;l(t)})).catch((function(e){console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,T?r.a.createElement("div",{className:"w-1/2 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded shadow"},"All commits are pushed to remote")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"m-3 text-2xl font-sans text-ghray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){p(!0)},ref:G},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select the remote repo"),o?function(){if(o){var e=o.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),u?r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){h(!0),function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_UNPUSHED_COMMITS",'", payload: ').concat(t,"){\n              gitUnpushedCommits{\n                commits\n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitUnpushedCommits.commits;0===t.length&&k(!0),y(Object(I.a)(t))}})).catch((function(e){console.log(e)}))}()},ref:M},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),o?function(){if(o)return o.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,E&&E.length>0?r.a.createElement("div",{className:"my-2 p-3 rounded bg-gray-300 shadow-md border-gray-100"},r.a.createElement("div",{className:"my-2 font-sans text-2xl font-semibold"},"Commits to be pushed"),r.a.createElement("div",{className:"overflow-auto",style:{height:"200px"}},E.map((function(e,t){return r.a.createElement("div",{key:"unpushed-commit-".concat(t),className:"my-2 border-b-2 block justify-evenly mx-auto"},H(e))})))):r.a.createElement("div",null),_?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Push Failed!")):null,u&&x&&E.length>0&&!q?r.a.createElement("div",{className:"my-4 text-center bg-indigo-400 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-indigo-600 cursor-pointer",onClick:function(){var e,a,n=G.current.value,r=M.current.value;n&&r&&(e=n,a=r,B(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            pushToRemote(repoId: "'.concat(t,'", remoteHost: "').concat(e,'", branch: "').concat(a,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error&&"PUSH_FAILED"!==e.data.data.pushToRemote?(R(!0),B(!1)):(P(!0),B(!1))})).catch((function(e){P(!0),B(!1)})))}},"Push changes"):r.a.createElement(r.a.Fragment,null,O?r.a.createElement("div",{className:"my-4 text-center bg-gray-500 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-gray-600 cursor-pointer"},"No Commits to Push"):null),r.a.createElement(r.a.Fragment,null,q?r.a.createElement("div",{className:"my-4 text-center border border-orange-800 text-orange-900 bg-orange-300 rounded shadow text-white text-xl font-sans p-2 mx-auto cursor-pointer"},"Pushing to remote..."):null))))}function q(e){var t=e.stageComponents,a=e.repoId,s=Object(n.useState)(!1),o=Object(i.a)(s,2),l=o[0],c=o[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),p=u[0],f=u[1],b=Object(n.useState)(!1),x=Object(i.a)(b,2),h=x[0],v=x[1];return Object(n.useEffect)((function(){}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-5/6 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement(r.a.Fragment,null,t.length>0&&!l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-5 font-sans text-2xl font-sans font-bold"},"All these changes will be staged:"),r.a.createElement("div",{className:"overflow-y-auto",style:{height:"600px"}},t&&t.map((function(e){return r.a.createElement("div",{className:"p-1 font-sans text-lg mx-4 border-b w-11/12 break-words",key:e},e)}))),h?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Staging Failed!"):null,p?r.a.createElement("div",{className:"mx-auto my-4 text-center bg-gray-600 text-xl p-3 rounded-md shadow-md font-sans text-white hover:bg-gray-400 cursor-pointer"},"Staging in prgoress..."):r.a.createElement("div",{className:"mx-auto my-4 text-center bg-green-600 text-xl p-3 rounded-md shadow-md font-sans text-white hover:bg-green-400 cursor-pointer",onClick:function(){f(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageAllItems(repoId: "'.concat(a,'")\n          }\n        ')}}).then((function(e){f(!1),e.data.data&&!e.data.error&&"ALL_STAGED"===e.data.data.stageAllItems&&c(!0)})).catch((function(e){console.log(e),f(!1),v(!0)}))}},"Confirm Staging")):r.a.createElement("div",{className:"p-5 bg-white text-black font-sans font-semibold rounded shadow border border-gray-100"},"No Changes for staging..."),l?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-300 text-green-800 rounded- shadow"},"All changes Staged!"):null)))}function B(e){v.b.add(N.a);var t=e.repoId,a=e.stateChange,s=Object(n.useState)([]),o=Object(i.a)(s,2),l=o[0],c=o[1],m=Object(n.useState)([]),u=Object(i.a)(m,2),p=u[0],f=u[1],b=Object(n.useState)(""),x=Object(i.a)(b,2),h=x[0],j=x[1],E=Object(n.useState)([]),y=Object(i.a)(E,2),w=y[0],O=y[1],k=Object(n.useState)(0),C=Object(i.a)(k,2),S=C[0],T=C[1],R=Object(n.useState)(""),A=Object(i.a)(R,2),F=A[0],_=A[1],P=Object(n.useState)([]),B=Object(i.a)(P,2),G=B[0],M=B[1],H=Object(n.useState)(!1),U=Object(i.a)(H,2),J=U[0],V=U[1];Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(t,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.gitChanges;c(Object(I.a)(t.gitChangedFiles)),f(Object(I.a)(t.gitUntrackedFiles));var a=Object(I.a)(t.gitChangedFiles),n=Object(I.a)(t.gitUntrackedFiles),r=[];a&&a.forEach((function(e){if(e.split(",").length>0){var t=e.split(",")[1];r.push(t)}})),n&&n.forEach((function(e){e&&((e=e.replace("NO_DIR","")).split(",")?r.push(e.split(",").join("")):r.push(e))})),O([].concat(r))}})).catch((function(e){})),function(){a.cancel()}}),[e,S,F]),Object(n.useEffect)((function(){var t=d.a.CancelToken.source(),a=JSON.stringify(JSON.stringify({repoId:e.repoId}));return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:t.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(a,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;t&&t.length>0&&M(Object(I.a)(t))})).catch((function(e){})),function(){return t.cancel()}}),[w,e.repoId,S]);function z(){var e=[],a=function(e){return"M"===e?r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-yellow-700 border border-yellow-500 rounded-md shadow-sm"},"Modified"):"D"===e?r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-red-700 border bg-red-200 border-red-500 rounded-md shadow-sm"},"Removed"):r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-indigo-700 border border-indigo-500 rounded-md shadow-sm"},"Untracked")},n=function(e){return r.a.createElement("div",{className:"p-1 mx-auto cursor-pointer bg-green-300 text-white w-2/3 rounded-md shadow-sm hover:shadow-md hover:bg-green-600",onClick:function(a){!function(e,a){var n=S+1;a.target.innerHTML="Staging...",a.target.style.backgroundColor="gray",a.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n          }\n        ')}}).then((function(t){T(n),t.data.data&&!t.data.error&&"ADD_ITEM_SUCCES"===t.data.data.stageItem&&_(e)})).catch((function(e){console.log(e),T(n)}))}(e,a),V(!1)},key:"add-btn-".concat(e)},"Add")};return l&&l.forEach((function(t){if(t.split(",").length>0){var r=t.split(",")[1];e.push([r,a(t.split(",")[0]),n(r)])}})),p&&p.forEach((function(t){t&&((t=t.replace("NO_DIR","")).split(",")?e.push([t.split(",").join(""),a("N"),n(t.split(",").join(""))]):e.push([t,a("N"),n(t)]))})),e}return r.a.createElement(r.a.Fragment,null,h?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"operation-backdrop",style:{background:"rgba(0,0,0,0.6)"},onClick:function(e){"operation-backdrop"===e.target.id&&(j(""),T(S+1),M([]))}},function(e){switch(e){case"stage":return w&&w.length>0?r.a.createElement(q,{repoId:t,stageComponents:w}):r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"p-5 bg-white text-black font-sans font-semibold rounded shadow border border-gray-100"},"No Changes for staging..."));case"commit":return r.a.createElement(D,{repoId:t});case"push":return r.a.createElement(L,{repoId:t});default:return null}}(h),r.a.createElement("div",{className:"float-right fixed right-0 top-0 font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){j("")}},"X")):null,r.a.createElement("div",{className:"my-2 flex mx-auto p-3 justify-around"},[{label:"Stage all changes",color:"blue",key:"stage"},{label:"Commit Changes",color:"green",key:"commit"},{label:"Push to remote",color:"pink",key:"push"}].map((function(e){var t=e.label,a=e.color,n=e.key;return r.a.createElement("div",{className:"my-auto align-middle item-center w-1/4 text-center p-2 rounded-md bg-0 border border-".concat(a,"-500 text-").concat(a,"-700 font-sans cursor-pointer hover:bg-").concat(a,"-500 hover:text-white"),key:n,onClick:function(){return j(n)}},t)}))),z()&&z().length>0?r.a.createElement("div",{className:"p-2 mx-auto rounded shadow border"},r.a.createElement("div",{className:"table-header flex justify-between w-full bg-orange-300 p-3 text-xl font-sans"},["Changes","File Status","Action"].map((function(e,t){return r.a.createElement("div",{key:e,className:"font-bold text-center border-r border-gray-200 ".concat(0===t?"w-3/4":"w-1/4")},e)}))),r.a.createElement("div",{className:"block table-rows w-full overflow-auto",style:{height:"400px"}},r.a.createElement("div",null,z()&&z().map((function(e,t){return r.a.createElement("div",{className:"flex font-sans p-3 border-b-2 border-b border-gray-300",key:"tableItem-".concat(t)},e.map((function(e,t){return r.a.createElement("div",{key:"".concat(e,"-").concat(t),className:"break-all items-center align-middle my-auto ".concat(0===t?"w-3/4 text-left":"w-1/4 text-center")},e)})))}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-2 mx-auto my-10 bg-orange-300 text-xl text-center rounded shadow"},"No files to stage")),r.a.createElement(r.a.Fragment,null,G?function(){if(G&&G.length>0)return r.a.createElement("div",{className:"w-full mx-auto my-20 p-2 border border-gray-200 rounded"},r.a.createElement("div",{className:"flex items-center align-middle my-4"},r.a.createElement("div",{className:"text-5xl font-sans text-gray-800 mx-4"},"Staged Files"),r.a.createElement("div",{className:"p-2 rounded text-white bg-red-700 text-xl rounded shadow cursor-pointer hover:bg-red-800",onClick:function(e){!function(e){var n=S+1;M(),a(),e.target.innerHTML="Removing...",e.target.style.backgroundColor="gray",e.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeAllStagedItem(repoId: "'.concat(t,'")\n            }\n          ')}}).then((function(e){T(n+1),e.data.data&&!e.data.error&&"STAGE_ALL_REMOVE_SUCCESS"===e.data.data.removeAllStagedItem&&M([])})).catch((function(e){console.log(e),T(n+1)}))}(e),V(!1)}},"Remove All Items")),J?r.a.createElement("div",{className:"my-4 mx-auto text-center shadow-md rounded p-4 border border-red-200 text-red-400 font-sans font-semibold"},"Remove item failed. Note that deleted files cannot be removed as a single entity. Use",r.a.createElement("i",{className:"border-b border-gray-600 border-dashed mx-2"},"Remove All Items"),"to perform a complete git reset"):null,r.a.createElement("div",{className:"flex mx-auto p-2 text-center font-sans text-lg text-white bg-indigo-400 rounded"},r.a.createElement("div",{className:"w-3/4"},"Staged File"),r.a.createElement("div",{className:"w-1/2"},"Action")),r.a.createElement("div",{className:"block mx-auto overflow-auto",style:{height:"450px"}},G.map((function(e){return e?r.a.createElement("div",{className:"flex mx-auto my-4 border-b my-auto items-center align-middle py-4",key:e},r.a.createElement("div",{className:"w-3/4 break-all mx-4 text-xl text-gray-800 font-sans"},e),r.a.createElement("div",{className:"w-1/2 mx-auto"},r.a.createElement("div",{className:"mx-auto w-1/2 text-white cursor-pointer break-all text-center p-2 rounded bg-red-500 shadow hover:bg-red-600 hover:shadow-md",onClick:function(n){!function(e,n){var r=S+1;a(),n.target.innerHTML="removing...",n.target.style.backgroundColor="gray",n.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeStagedItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n            }\n          ')}}).then((function(t){if(T(r),t.data.data&&!t.data.error)if("STAGE_REMOVE_SUCCESS"===t.data.data.removeStagedItem){var a=G;a=a.filter((function(t){return t!==e})),M(Object(I.a)(a))}else V(!0)})).catch((function(e){console.log(e),T(r),V(!0)}))}(e,n),V(!1)},key:"remove-btn-".concat(e)},"Remove"))):null}))))}():null))}function G(e){v.b.add(N.a);var t=Object(n.useState)([]),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)([]),c=Object(i.a)(l,2),m=c[0],p=c[1],f=Object(n.useState)("File View"),b=Object(i.a)(f,2),x=b[0],h=b[1],j=["File View","Git Difference","Git Operations"],y=Object(n.useState)(!1),w=Object(i.a)(y,2),O=w[0],k=w[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],R=S[1],A=Object(n.useContext)(u).dispatch,F=function(){R(!0)},_=Object(n.useMemo)((function(){return r.a.createElement(P,{repoId:e.repoId})}),[e]),D=Object(n.useMemo)((function(){return r.a.createElement(B,{repoId:e.repoId,stateChange:F})}),[e]);return Object(n.useEffect)((function(){var t=g;R(!1);var a=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(a,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges,a=t.gitChangedFiles,n=t.gitUntrackedFiles;(a||n)&&(a.length>0||n.length>0)?(o(Object(I.a)(a)),p(Object(I.a)(n)),k(!1),A({type:"GIT_TRACKED_FILES",payload:a}),A({type:"GIT_ACTION_TRACKED_FILES",payload:Object(I.a)(a)}),A({type:"GIT_ACTION_UNTRACKED_FILES",payload:Object(I.a)(n)})):k(!0)}})).catch((function(e){console.log(e),k(!0)}))}),[e,A,x,T]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"},D),r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-pink-200 text-xl text-pink-600"},"No changes found in the selected git repo"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(E.a,{icon:["fab","creative-commons-zero"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block text-6xl text-gray-200 mx-auto text-center align-middle"},'"0" changes in repo'))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 mx-auto w-11/12 justify-around font-sans font-semibold rounded-sm shadow-md cursor-pointer"},j.map((function(e){var t="w-full py-3 px-1 text-center border-r border-blue-400 ";return t+=e===x?"bg-blue-100 text-blue-800 border-b border-blue-700":"bg-blue-600 text-white",r.a.createElement("div",{className:"w-full py-3 px-1 text-center border-r border-blue-400 hover:bg-blue-200 hover:text-blue-900 ".concat(t),key:e,onClick:function(t){h(e)}},e)})))),r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"}," ",function(){switch(x){case"File View":if(!O)return r.a.createElement("div",{className:"shadow-sm rounded-sm my-2 block justify-center mx-auto border border-gray-300"},s?function(){var e=[],t=[];if(s&&s.length>0)return s.forEach((function(a,n){var s=a.split(","),o=s[0],i=s[1],l="p-1 ";switch(o){case"M":l+="text-yellow-900 bg-yellow-200",t.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:i},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},i),r.a.createElement("div",{className:"rounded-lg shadow-sm border border-gray-300 p-2 text-center w-1/6 my-auto"},"Modified")));break;case"D":l+="text-red-900 bg-red-200",e.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:i},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},i),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6 my-auto"},"Deleted")));break;default:l+="text-indigo-900 bg-indigo-200"}})),r.a.createElement(r.a.Fragment,null,t," ",e)}():r.a.createElement("div",{className:"rounded-lg shadow-md text-center p-4 font-sans"},"Getting file based status..."),m?m.map((function(e){var t=e.split(","),a="";return t?(a=("NO_DIR"===t[0]?"":t[0])+t[1],console.log(a),a):""})).filter((function(e){return!!e})).map((function(e,t){return r.a.createElement("div",{className:"flex",key:"".concat(e,"-").concat(t)},r.a.createElement("div",{className:"bg-indigo-100 text-indigo-800 flex p-2 block w-11/12 break-all"},e),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6 text-sm my-auto"},"New / Untracked"))})):null);break;case"Git Difference":if(!O)return _;break;case"Git Operations":return D;default:return r.a.createElement("div",{className:"text-xl text-center"}," Invalid Menu Selector! ")}}()," ")))}function M(){v.b.add(j.a);var e=Object(n.useContext)(u),t=e.state,a=e.dispatch,s=t.presentRepo,o=Object(n.useState)(!1),l=Object(i.a)(o,2),c=l[0],m=l[1],p=Object(n.useState)({}),f=Object(i.a)(p,2),b=f[0],x=f[1],h=Object(n.useState)([]),y=Object(i.a)(h,2),w=y[0],N=y[1],O=Object(n.useState)(""),k=Object(i.a)(O,2),C=k[0],S=k[1],T=Object(n.useState)({gitBranchList:"",gitCurrentBranch:"",gitTotalCommits:0,gitTotalTrackedFiles:0}),F=Object(i.a)(T,2),_=F[0],P=F[1],D=Object(n.useState)(!1),L=Object(i.a)(D,2),q=L[0],B=L[1],M=Object(n.useMemo)((function(){if(b&&b.id)return r.a.createElement(G,{repoId:b.id})}),[b]);function H(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex p-2 border-b-2 border-indigo-400 border-dashed justify-between mx-2 font-sans text-lg text-gray-700"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(E.a,{icon:["fas",e]})),r.a.createElement("div",{className:"mx-2"},t)))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();function t(){var t=b&&b.id;if(t){var a=JSON.stringify(JSON.stringify({repoId:t}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:e.token,data:{query:'\n              query GitConvexApi\n              {\n                gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                  gitRepoStatus {\n                    gitBranchList\n                    gitCurrentBranch\n                    gitTotalCommits\n                    gitTotalTrackedFiles \n                  }\n                }\n              }\n            ")}}).then((function(e){P(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){e&&console.log("API GitStatus error occurred : "+e)}))}}function n(){return(n=Object(A.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n                  fetchRepo{\n                    repoId\n                    repoName\n                    repoPath\n                  }\n                }\n              }\n          ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var n=t.repoId.map((function(e,a){return{id:t.repoId[a],repoName:t.repoName[a],repoPath:t.repoPath[a]}}));return a({type:"PRESENT_REPO",payload:Object(I.a)(n)}),x(n[0]),N(n),n}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s&&s[0]?(N(s[0]),t()):(!function(){n.apply(this,arguments)}(),t()),function(){e.cancel()}}),[b,C,s,a,q]),r.a.createElement("div",{className:"w-full mx-auto block justify-center overflow-x-hidden"},w?r.a.createElement("div",null,r.a.createElement("div",{className:"mx-auto my-6 w-11/12 rounded shadow border border-gray-200"},r.a.createElement("div",{className:"flex justify-around mx-auto align-middle items-around my-4"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1"},"Choose saved repository"),r.a.createElement("select",{className:"bg-green-200 text-gray-800 rounded-sm mx-2 outline-none shadow-xs border border-green-500",defaultValue:"checked",onChange:function(e){m(!0),w.length&&w.forEach((function(t){e.target.value===t.repoName&&(x(t),a({type:"GIT_GLOBAL_REPOID",payload:t.id}))}))}},r.a.createElement("option",{defaultChecked:!0,value:"checked",hidden:!0,disabled:!0},"Select a repo"),w.length&&w.map((function(e){return r.a.createElement("option",{value:e.repoName,key:e.repoName},e.repoName)})))),c?r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1"},"Branch"),r.a.createElement("select",{className:"bg-indigo-200 text-gray-800 rounded-sm mx-2 outline-none shadow-xs border border-indigo-500",defaultValue:"checked",onChange:function(e){e.persist(),S(e.currentTarget.value),function(e,t){d()({url:g,method:"POST",data:{query:'\n          mutation{\n            setBranch(repoId: "'.concat(b.id,'", branch: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&S(e)})).catch((function(e){e&&(B(!0),t.target.selectedIndex=0)}))}(e.target.value,e)},onClick:function(){B(!1)}},function(){if(_&&_.gitBranchList)return _.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{key:e,value:e},e):null}))}())):null),_&&c?r.a.createElement("div",{className:"my-auto flex justify-around p-3 mx-auto"},H("code-branch",_.gitBranchList&&_.gitBranchList.length>0&&!_.gitBranchList[0].match(/NO_BRANCH/gi)?r.a.createElement(r.a.Fragment,null,1===_.gitBranchList.length?"1 branch":_.gitBranchList.length+" branches"):"No Branches"),H("sort-amount-up",_.gitTotalCommits+" Commits"),H("archive",_.gitTotalTrackedFiles+" Tracked Files")):null),c?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-orange-200 text-xl text-orange-900"},"Select a configured repo from the dropdown to perform git related operations"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(E.a,{icon:["fas","mouse-pointer"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block xl:text-6xl lg:text-3xl md:text-2xl my-4 text-gray-200 mx-auto text-center align-middle"},"No repositories selected"))),r.a.createElement("div",null,q?r.a.createElement("div",{className:"p-2 rounded my-2 mx-auto text-center font-sand bg-red-200 text-red-800"},"Branch switching failed.Commit your changes and try again"):null,_&&c&&b.id?M:null)):null)}function H(e){var t=e.repoId,a=Object(n.useState)(""),s=Object(i.a)(a,2),o=s[0],l=s[1],c=Object(n.useState)(""),m=Object(i.a)(c,2),u=m[0],p=m[1],f=Object(n.useRef)();function b(){f.current.value="",l("")}return r.a.createElement("div",{className:"w-3/4 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"my-auto"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("input",{type:"text",ref:f,id:"branchName",placeholder:"Branch Name",className:"p-3 rounded bg-white text-xl text-gray-700 font-sans font-mono w-full border border-gray-200 shadow",onChange:function(e){var t=e.target.value;"branchName"===e.target.id&&t.match(/[^a-zA-Z0-9_.:^\\/]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_.:^\\/]/gi,"-")),l(e.target.value)},onClick:function(){p("")}})),r.a.createElement("div",{className:"bg-indigo-500 p-3 rounded mt-6 mx-auto text-xl font-sans text-white hover:bg-indigo-600 text-center mx-auto cursor-pointer",onClick:function(e){o?(console.log(o),d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              addBranch(repoId: "'.concat(t,'", branchName: "').concat(o,'")\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.addBranch;p(t),b()}else p("BRANCH_ADD_FAILED"),b()})).catch((function(e){p("BRANCH_ADD_FAILED"),b()}))):p("BRANCH_ADD_FAILED")}},"Add Branch"),"BRANCH_CREATION_SUCCESS"===u?r.a.createElement("div",{className:"w-full bg-green-200 p-1 rounded my-6 mx-auto text-md font-sans text-center mx-auto cursor-pointer"},"New branch has been added to your repo successfully"):null,"BRANCH_ADD_FAILED"===u?r.a.createElement("div",{className:"w-full bg-red-200 p-1 rounded my-6 mx-auto text-md font-sans text-center mx-auto cursor-pointer"},"New branch addition failed!"):null))}function U(e){var t=e.repoId,a=Object(n.useRef)(),s=Object(n.useRef)(),o=Object(n.useState)(!1),l=Object(i.a)(o,2),c=l[0],m=l[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),f=p[0],b=p[1],x=function(e,t,n){return r.a.createElement("div",{className:"flex justify-between around my-4 align-middle items-center"},r.a.createElement("label",{htmlFor:e,className:"text-gray-700 text-lg font-sans w-1/3"},t),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{id:e,onClick:function(){m(!1),b("")},className:"w-3/4 p-3 rounded shadow-md bg-white text-gray-900 text-lg font-sans outline-none",placeholder:n,ref:"remoteName"===e?a:s,onChange:function(e){var t=e.target.value;"remoteName"===e.target.id&&t.match(/[^a-zA-Z0-9_]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_]/gi,"-"))}})))};var h=function(e,t){return r.a.createElement("div",{className:"my-6 w-1/2 text-center mx-auto p-2 rounded-lg border-".concat(e,"-900 bg-").concat(e,"-200 font-sans text-xl font-semibold border")},t)};return r.a.createElement("div",{className:"xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 mx-auto my-auto bg-gray-200 pt-6 rounded-md rounded-b-lg"},r.a.createElement("div",{className:"mx-6 my-6 text-4xl font-semibold font-sans text-gray-800"},"Enter new remote details"),r.a.createElement("div",{className:"my-4 mx-6"},x("remoteName","Enter Remote Name","Give a name for your new remote"),x("remoteUrl","Enter Remote URL","Provide the URL for your remote repo")),c?h("orange","One or more required parameters are empty!"):null,"success"===f?h("green","Remote repo has been added successfully!"):null,"failed"===f?h("red","Failed to add new repo!"):null,r.a.createElement("div",{className:"w-full mt-10 p-3 text-center rounded-b-lg text-xl cursor-pointer shadow bg-green-200 border border-green-700 hover:bg-green-600 hover:text-white",onClick:function(){!function(){var e=a.current.value,n=s.current.value;t&&e&&n?d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRemoteRepo(repoId: "'.concat(t,'", remoteName: "').concat(e,'", remoteUrl: "').concat(n,'")\n              }\n            ')}}).then((function(e){e.data.data&&!e.data.error?"REMOTE_ADD_SUCCESS"===e.data.data.addRemoteRepo?(b("success"),a.current.value="",s.current.value=""):b("failed"):b("failed")})).catch((function(e){console.log(e),b("failed")})):m(!0)}()}},"Add New Remote"))}function J(e){v.b.add(j.a);var t=e.repoId,a=e.actionType,s=Object(n.useState)(),o=Object(i.a)(s,2),l=o[0],c=o[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),p=u[0],f=u[1],b=Object(n.useState)(!1),x=Object(i.a)(b,2),h=x[0],y=x[1],w=Object(n.useState)([]),N=Object(i.a)(w,2),O=N[0],k=N[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],R=S[1],A=Object(n.useRef)(),F=Object(n.useRef)();function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";R(!0);var s=function(e,n){return"fetch"===a?'mutation GitConvexMutation{\n          fetchFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            fetchedItems\n          }\n        }\n      '):'mutation GitConvexMutation{\n          pullFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            pulledItems\n          }\n        }\n      ')};d()({url:g,method:"POST",data:{query:s(e,n)}}).then((function(e){if(R(!1),e.data.data&&!e.data.error){var t={};if((t="fetch"===a?e.data.data.fetchFromRemote:e.data.data.pullFromRemote).status.match(/ABSENT/gi))k([r.a.createElement("div",{className:"text-xl p-2 text-gray-900 font-semibold"},"No changes to ","fetch"===a?"Fetch":"Pull"," from remote")]);else if(t.status.match(/ERROR/gi))k([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," ","from remote!")]);else{var n=[];n="fetch"===a?t.fetchedItems:t.pulledItems,k(Object(I.a)(n))}}})).catch((function(e){R(!1),console.error(e),k([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," from remote!")])}))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",cancelToken:a.token,headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;c(t)})).catch((function(e){})),function(){return a.cancel()}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded shadow bg-white block"},"fetch"===a?r.a.createElement("div",{className:"flex justify-center items-center w-11/12 xl:w-1/2 lg:w-3/4 md:w-3/4 sm:w-3/4 mx-auto my-4 p-1 text-center border-b-2 border-dashed border-gray-400 text-lg font-sans font-medium cursor-pointer text-indigo-400 hover:text-indigo-600 rounded-lg hover:border-gray-600",onClick:function(){P()}},r.a.createElement("div",{className:"text-2xl text-indigo-800 mx-4"},r.a.createElement(E.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",null,"Click here to Fetch globally without branch selection")):null,r.a.createElement("div",{className:"m-3 text-2xl font-sans text-ghray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){f(!0)},onClick:function(){k([])},ref:A},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select the remote repo"),l?function(){if(l){var e=l.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),p?r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){y(!0)},onClick:function(){k([])},ref:F},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),l?function(){if(l)return l.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,p&&h&&!T?r.a.createElement("div",{className:"my-4 text-center bg-indigo-400 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-indigo-600 cursor-pointer",onClick:function(e){var t=A.current.value,a=F.current.value;t&&a?P(t,a):e.target.style.display="none"}},"pull"===a?"Pull from Remote":null,"fetch"===a?"Fetch from Remote":null):null,r.a.createElement("div",null,T?r.a.createElement("div",{className:"my-4 text-center border border-orange-800 text-orange-900 bg-orange-300 rounded shadow text-white text-xl font-sans p-2 mx-auto cursor-pointer"},"pull"===a?"Pulling changes":"Fetching"," from remote..."):null),!T&&O&&O.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3 rounded shadow bg-indigo-100 text-md font-sans text-gray-700 truncate"},O.map((function(e){return r.a.createElement("div",{className:"my-1 mx-2 break-normal",key:e+"-".concat(Object(_.a)())},e)})))):null))}function V(e){var t=e.repoId,a=e.branchName,s=e.closeBackdrop,o=Object(n.useState)(!1),l=Object(i.a)(o,2),c=l[0],m=l[1];return Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(a,'")\n            }\n          ')}}).then((function(e){e.data.data&&!e.data.error&&s(!0)})).catch((function(e){e&&m(!0)}))}),[a,s,t]),r.a.createElement("div",{className:"xl:w-3/4 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"bg-indigo-200 p-2 border-indigo-600 rounded shadow-md"},"Switching to branch -"," ",r.a.createElement("span",{className:"font-sans font-semibold text-xl"},a),"..."),c?r.a.createElement("div",{className:"bg-red-200 p-2 border-red-600 rounded shadow-md"},"Switching to branch -"," ",r.a.createElement("span",{className:"font-sans font-semibold text-xl"},a)," ","Failed!"):null)}var z=a(31),K=a(47),Y=a.n(K);function W(e){var t=e.repoId,a=e.commitHash,s=e.unmountHandler;v.b.add(z.a,j.a);var o=Object(n.useState)([]),l=Object(i.a)(o,2),c=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(i.a)(u,2),f=p[0],b=p[1];return Object(n.useEffect)((function(){b(!0);var e=d.a.CancelToken.source(),n=JSON.stringify(JSON.stringify({repoId:t,commitHash:a}));d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n                query GitConvexApi\n                {\n                    gitConvexApi(route: "'.concat("COMMIT_FILES",'", payload: ').concat(n,"){\n                        gitCommitFiles {\n                            type\n                            fileName\n                        }\n                    }\n                }\n            ")}}).then((function(e){b(!1),e.data.data&&!e.data.err&&m(Object(I.a)(e.data.data.gitConvexApi.gitCommitFiles))})).catch((function(e){console.log(e),b(!1)}))}),[t,a]),r.a.createElement("div",{className:"w-11/12 p-6 rounded-lg shadow-sm block justify-center mx-auto my-6 bg-blue-100"},r.a.createElement("div",{className:"font-sans right-0 float-right font-light cursor-pointer mx-auto text-blue-400 text-2xl my-0",style:{marginTop:"-20px"},onClick:function(){m([]),s()}},"x"),f?r.a.createElement("div",{className:"mx-4 text-2xl text-gray-700 font-sans font-light text-center"},"Fetching changed files..."):null,!f&&c?r.a.createElement("div",{className:"mx-4 text-2xl text-gray-700 font-sans font-light"},"".concat(c.length," Files changed")):null,r.a.createElement("div",{className:"block w-3/4 my-4 mx-10"},c&&c.map((function(e){var t=e.type,n=e.fileName,s="",o="";switch(t){case"M":s="plus-square",o="text-yellow-600";break;case"A":s="plus-square",o="text-green-500";break;case"D":s="minus-square",o="text-red-500";break;default:s="plus-square",o="text-gray-500"}return r.a.createElement("div",{className:"flex justify-evenly items-center my-auto align-middle",key:n+a},r.a.createElement("div",{className:"w-1/4 text-2xl ".concat(o)},r.a.createElement(E.a,{icon:["far",s]})),r.a.createElement("div",{className:"w-3/4 text-sm font-sans font-medium text-gray-700 truncate"},n))}))))}function X(e){v.b.add(N.a,j.a,z.a);var t=Object(n.useState)([]),a=Object(i.a)(t,2),s=a[0],l=a[1],c=Object(n.useState)(!1),m=Object(i.a)(c,2),u=m[0],p=m[1];function f(e){return r.a.createElement("div",{className:"p-6 rounded-md shadow-sm block justify-center mx-auto my-auto w-3/4 h-full text-center text-2xl text-indigo-500"},r.a.createElement("div",{className:"flex w-full h-full mx-auto my-auto"},r.a.createElement("div",{className:"my-auto mx-auto bg-white w-full p-6 rounded-lg shadow"},e)))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",data:{query:'\n        query GitConvexApi\n        {\n            gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(t,"){\n                gitCommitLogs {\n                    commits{\n                        commitTime\n                        hash\n                        author\n                        commitMessage\n                        commitRelativeTime\n                        commitFilesCount\n                    }  \n                }\n            }\n        }\n        ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitCommitLogs.commits;t&&t.length>0?l(t):p(!0)})).catch((function(e){e&&(p(!0),console.log(e))}))}),[e]),r.a.createElement(r.a.Fragment,null,u?f("No Commit Logs found"):null,s&&s.map((function(t){var a=t.hash,n=t.author,s=t.commitTime,i=t.commitMessage,l=t.commitRelativeTime,c=t.commitFilesCount,m=Y()(new Date(s)).format("MMM DD, YYYY");return r.a.createElement("div",{id:"commitLogCard-".concat(a),className:"p-6 pb-6 rounded-lg shadow-sm block justify-center mx-auto my-4 bg-white w-full border-b-8 border-indigo-400",key:a},r.a.createElement("div",{className:"flex justify-between text-indigo-500"},r.a.createElement("div",{className:"text-2xl font-sans mx-auto"},r.a.createElement(E.a,{icon:["fas","calendar-alt"]}),r.a.createElement("span",{className:"mx-2 border-b-2 border-dashed"},m)),r.a.createElement("div",{className:"p-1 h-auto border-r"}),r.a.createElement("div",{className:"text-2xl font-sans mx-auto"},r.a.createElement(E.a,{icon:["fab","slack-hash"]}),r.a.createElement("span",{className:"mx-2 border-b-2 border-dashed"},a)),r.a.createElement("div",{className:"p-1 h-auto border-r"}),r.a.createElement("div",{className:"text-2xl font-sans mx-auto"},r.a.createElement(E.a,{icon:["fas","user-ninja"]}),r.a.createElement("span",{className:"mx-2 border-b-2 border-dashed truncate"},n))),r.a.createElement("div",{className:"p-3 my-4 text-2xl font-semibold text-gray-600 font-sans flex justify-evenly items-center"},r.a.createElement("div",{className:"w-1/8"},r.a.createElement(E.a,{icon:["fas","code"],className:"text-3xl"})),r.a.createElement("div",{className:"w-5/6 mx-3"},i)),r.a.createElement("div",{className:"w-11/12 flex justify-between mx-auto mt-4 text-xl text-gray-600"},r.a.createElement("div",{className:"w-1/3 flex justify-center my-auto items-center align-middle"},r.a.createElement("div",null,r.a.createElement(E.a,{icon:["far","clock"]})),r.a.createElement("div",{className:"mx-2 border-dashed border-b-4"},l)),r.a.createElement("div",{className:"w-1/3 flex justify-around my-auto text-3xl font-sans font-light text-gray-600 items-center align-middle cursor-pointer pt-10",onClick:function(t){c&&(t.currentTarget.classList.add("hidden"),function(t,a){var n="commitLogCard-".concat(t),s="commitFile-".concat(t),i=document.createElement("div");i.id=s;var l=document.getElementById(n);l.append(i);var c=function(){o.a.unmountComponentAtNode(document.getElementById("closeBtn-"+t)),o.a.unmountComponentAtNode(document.getElementById(s)),a.classList.remove("hidden")};o.a.render(r.a.createElement(W,{repoId:e.repoId,commitHash:t,unmountHandler:c}),document.getElementById(s));var m=r.a.createElement("div",{className:"text-center mx-auto text-3xl font-sans font-light text-gray-600 items-center align-middle cursor-pointer",onClick:function(e){c()}},r.a.createElement(E.a,{icon:["fas","angle-up"]})),d=document.createElement("div"),u="closeBtn-"+t;d.id=u,l.append(d),o.a.render(m,document.getElementById(u))}(a,t.currentTarget))}},c?r.a.createElement(E.a,{icon:["fas","angle-down"]}):r.a.createElement(E.a,{icon:["fas","dot-circle"],className:"text-xl text-gray-200"})),r.a.createElement("div",{className:"w-1/3 flex justify-center my-auto items-center align-middle"},r.a.createElement("div",null,r.a.createElement(E.a,{icon:["far","plus-square"]})),r.a.createElement("div",{className:"mx-2 border-dashed border-b-4"},c?"".concat(c," Files"):r.a.createElement("span",{className:"text-gray-500"},"No Changed Files")))))})),u||0!==s.length?null:f("Loading commits..."))}function Z(e){var t=e.repoId,a=e.currentBranch;v.b.add(j.a);var s=JSON.stringify(JSON.stringify({repoId:t})),o=Object(n.useState)([]),l=Object(i.a)(o,2),c=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(i.a)(u,2),f=p[0],b=p[1],x=Object(n.useState)(!1),h=Object(i.a)(x,2),y=h[0],w=h[1],N=Object(n.useState)(!1),O=Object(i.a)(N,2),k=O[0],C=O[1],S=Object(n.useState)(""),T=Object(i.a)(S,2),R=T[0],A=T[1],F=Object(n.useState)(""),_=Object(i.a)(F,2),P=_[0],D=_[1],L=Object(n.useState)(!1),q=Object(i.a)(L,2),B=q[0],G=q[1],M=Object(n.useState)(!1),H=Object(i.a)(M,2),U=H[0],J=H[1];function V(){b(!1),w(!1),C(!1),A(""),D(""),J(!1),G(!1)}function z(e,a){V(),d()({url:g,method:"POST",data:{query:'\n            mutation{\n              deleteBranch(repoId: "'.concat(t,'", branchName: "').concat(e,'", forceFlag: ').concat(a,"){\n                status\n              }\n            }\n          ")}}).then((function(t){t.data.data&&!t.data.error&&("BRANCH_DELETE_SUCCESS"===t.data.data.deleteBranch.status?(G(!0),A(e)):(J(!0),D(e)))})).catch((function(t){t&&(J(!0),D(e))}))}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement("div",{className:"text-center p-4 rounded bg-red-300 text-xl font-sans mt-10"},e,t?r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},P):null)}function Y(e){return r.a.createElement("div",{className:"text-center p-4 rounded bg-green-300 text-xl font-sans mt-10"},e,r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},R))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();return m([]),d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(s,"){\n              gitRepoStatus {\n                gitAllBranchList  \n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus.gitAllBranchList;m(Object(I.a)(t))}else b(!0)})).catch((function(e){e&&(console.log("API error occurred : "+e),b(!0))})),function(){return e.cancel}}),[t,s,R]),r.a.createElement("div",{className:"bg-gray-200 p-6 w-11/12 xl:w-3/4 mx-auto my-auto items-center align-middle lg:w-3/4 md:w-11/12 sm:w-11/12 rounded shadow"},r.a.createElement("div",{className:"font-sans mx-4 p-2 text-4xl font-semibold border-b-2 border-dashed text-gray-800"},"Available Branches"),r.a.createElement("div",{className:"flex my-auto p-3 mx-auto border-b-2 border-dashed text-red-600 border-red-800 items-center align-middle"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(E.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",{className:"font-sans font-semibold"},"Note that this section also lets you delete the branches, so be cautious!")),r.a.createElement("div",{className:"font-sans mx-4 p-2 font-light italic font-semibold border-b-2 border-dashed text-gray-500"},"Click on a branch to checkout to that branch"),r.a.createElement("div",{className:"pr-6 mx-auto w-full my-4 mx-10 overflow-auto overflow-x-hidden",style:{height:"600px"}},0===c.length?r.a.createElement("div",{className:"p-2 rounded border-gray-500 shadow text-center my-4 mx-auto font-sans font-semibold text-xl"},"Collecting branch list..."):null,!f&&c&&c.map((function(e){var n=function(e,a,n){var s="",o=!1;return n.includes("*")&&(o=!0,n=n.replace("*","")),console.log(e,a,n),o&&(s="border-dashed border-b-2 text-indigo-700 text-2xl"),r.a.createElement("div",{className:"flex my-2 border-b border-dashed py-4 my-auto items-center justify-center",key:a+n},r.a.createElement("div",{className:"w-1/8 mx-2 text-2xl text-blue-500 text-center"},r.a.createElement(E.a,{icon:["fas",e]})),r.a.createElement("div",{className:"w-1/3 hidden xl:block lg:block md:block sm:hidden text-lg font-sans font-semibold text-center text-indigo-500"},a),r.a.createElement("div",{className:"w-1/2 text-lg font-sans font-semibold text-left text-gray-700 hover:text-blue-700 cursor-pointer truncate ".concat(s),title:n,onClick:function(){o||function(e){V(),d()({url:g,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(e,'")\n            }\n          ')}}).then((function(t){t.data.data&&!t.data.error?(w(!0),A(e)):C(!0)})).catch((function(t){t&&(C(!0),D(e))}))}(n)}},n),o||"Local Branch"!==a?r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",{className:"w-1/4 font-sans mx-4 text-sm px-2 font-light bg-blue-200 border border-dashed border-blue-800 rounded-full p-1 my-auto items-center text-center align-middle"},"Active"):r.a.createElement("div",{className:"w-1/4 font-sans mx-4 text-sm px-2 font-light bg-orange-200 border border-dashed border-orange-800 rounded-full p-1 my-auto items-center text-center align-middle"},"Remote")):r.a.createElement("div",{className:"flex mx-4 justify-between my-auto text-center items-center align-middle w-1/4 px-2 p-1"},r.a.createElement("div",{className:"w-1/2 block mx-auto text-center my-auto justify-center cursor-pointer px-2",title:"Will delete only if the branch is clean and safe",onClick:function(){o||z(n,!1)}},r.a.createElement("div",{className:"bg-red-600 cursor-pointer rounded text-center text-white text-xl align-middle items-center hover:bg-red-700 px-2 py-1"},r.a.createElement(E.a,{icon:["fas","trash-alt"]})),r.a.createElement("div",{className:"font-light text-sm my-2 font-sans text-red-500 border-b border-dashed border-red-700"},"Normal")),r.a.createElement("div",{className:"w-1/2 block mx-auto text-center my-auto justify-center cursor-pointer px-2",title:"Will delete the branch forcefully.Be careful!",onClick:function(){o||z(n,!0)}},r.a.createElement("div",{className:"bg-red-600 cursor-pointer rounded text-center text-white text-xl align-middle items-center hover:bg-red-700 px-2 py-1"},r.a.createElement(E.a,{icon:["fas","minus-square"]})),r.a.createElement("div",{className:"font-light text-sm my-2 font-sans text-red-500 border-b border-dashed border-red-700"},"Force"))))};if((e=e.replace(/\s/gi,"")).includes("->")||e===a)return null;if(e.includes("remotes/")){var s=e.split("/");return n("wifi",s[1],s.slice(2,s.length).join("/"))}return n("code-branch","Local Branch",e)}))),f?K("Error occurred while listing branches!"):null,k?K("Error occurred while switching to",!0):null,R&&y?Y("Active branch has been switched to"):null,B?Y("Selected branch has been removed"):null,U?K("Branch deletion failed for",!0):null)}function $(e){v.b.add(N.a,j.a);var t=Object(n.useState)({}),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],u=c[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],x=f[1],h=Object(n.useState)(!1),y=Object(i.a)(h,2),w=y[0],O=y[1],k=Object(n.useState)(!1),C=Object(i.a)(k,2),S=C[0],T=C[1],R=Object(n.useState)(0),I=Object(i.a)(R,2),A=I[0],F=I[1],P=Object(n.useState)(!1),D=Object(i.a)(P,2),L=D[0],q=D[1],B=Object(n.useState)(""),G=Object(i.a)(B,2),M=G[0],z=G[1],K=Object(n.useState)(""),Y=Object(i.a)(K,2),W=Y[0],$=Y[1],Q=Object(n.useState)(""),ee=Object(i.a)(Q,2),te=ee[0],ae=ee[1],ne=function(e){q(!e)},re=Object(n.useMemo)((function(){return r.a.createElement(X,{repoId:b})}),[b]),se=Object(n.useMemo)((function(){return r.a.createElement(J,{repoId:b,actionType:"fetch"})}),[b]),oe=Object(n.useMemo)((function(){return r.a.createElement(J,{repoId:b,actionType:"pull"})}),[b]),ie=Object(n.useMemo)((function(){return r.a.createElement(V,{repoId:b,branchName:M,closeBackdrop:ne})}),[b,M]),le=Object(n.useMemo)((function(){return r.a.createElement(Z,{repoId:b,currentBranch:W})}),[b,W]),ce=Object(n.useMemo)((function(){return r.a.createElement(U,{repoId:b})}),[b]);Object(n.useEffect)((function(){var t=g;if(e.parentProps.location){var a=e.parentProps.location.pathname.split("/repository/")[1];x(a);var n=JSON.stringify(JSON.stringify({repoId:a}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n            query GitConvexApi\n            {\n              gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(n,"){\n                gitRepoStatus {\n                  gitRemoteData\n                  gitRepoName\n                  gitBranchList\n                  gitCurrentBranch\n                  gitRemoteHost\n                  gitTotalCommits\n                  gitLatestCommit\n                  gitTrackedFiles\n                  gitFileBasedCommit\n                  gitTotalTrackedFiles    \n                }\n              }\n            }\n          ")}}).then((function(e){if(e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus.gitRemoteData;$(e.data.data.gitConvexApi.gitRepoStatus.gitCurrentBranch),t.includes("||")&&(T(!0),e.data.data.gitConvexApi.gitRepoStatus.gitRemoteData=t.split("||")[0],T(!0),F(t.split("||").length)),o(e.data.data.gitConvexApi.gitRepoStatus)}else u(!0)})).catch((function(e){e&&(console.log("API GitStatus error occurred : "+e),u(!0))}))}}),[e.parentProps,L]);var me=s.gitRemoteData,de=s.gitRepoName,ue=s.gitBranchList,pe=s.gitCurrentBranch,ge=s.gitRemoteHost,fe=s.gitTotalCommits,be=s.gitLatestCommit,xe=s.gitTrackedFiles,he=s.gitFileBasedCommit;return r.a.createElement(r.a.Fragment,null,L?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"repo-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"repo-backdrop"===e.target.id&&(q(!1),ae(""))}},r.a.createElement(r.a.Fragment,null,te?function(){switch(te){case"fetch":return se;case"pull":return oe;case"addRemoteRepo":return ce;case"addBranch":return r.a.createElement(H,{repoId:b});case"switchbranch":return ie;case"listBranch":return le;default:return null}}():null),r.a.createElement("div",{className:"fixed top-0 right-0 mx-3 font-semibold bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){q(!1),ae("")}},"X")):null,r.a.createElement("div",{className:"w-full fixed bg-gray-600 opacity-50"}),r.a.createElement("div",{className:"xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none rp_repo-view w-full h-full p-6 mx-auto rounded-lg justify-evenly"},s&&!m?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex px-3 py-2"},s?r.a.createElement("div",{className:"align-middle items-center mx-auto w-full flex rounded-md shadow-md border-2 border-gray-100 p-4 justify-evenly"},r.a.createElement("div",{className:"text-md p-2 mx-2"},"Repo Name"),r.a.createElement("div",{className:"bg-blue-100 text-blue-900 p-3 rounded-sm border border-blue-200"},de),r.a.createElement("div",{className:"text-md p-2 mx-2"},"Active Branch"),r.a.createElement("div",{className:"bg-orange-200 rounded-sm text-orange-900 p-3 border border-orange-400"},pe)):null),r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:"xl:flex lg:block md:block sm:block my-4 mx-auto justify-around"},s?function(){var e="";return ge?(e=ge.match(/github/i)?r.a.createElement(E.a,{icon:["fab","github"],className:"text-4xl text-center text-pink-500"}):ge.match(/gitlab/i)?r.a.createElement(E.a,{icon:["fab","gitlab"],className:"text-4xl text-center text-pink-400"}):ge.match(/bitbucket/i)?r.a.createElement(E.a,{icon:["fab","bitbucket"],className:"text-4xl text-center text-pink-400"}):ge.match(/codecommit/i)?r.a.createElement(E.a,{icon:["fab","aws"],className:"text-4xl text-center text-pink-400"}):r.a.createElement(E.a,{icon:["fab","git-square"],className:"text-4xl text-center text-pink-400"}),r.a.createElement(r.a.Fragment,null,w?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"commit-log__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"commit-log__backdrop"===e.target.id&&O(!1)}},r.a.createElement("div",{className:"fixed top-0 right-0 mx-3 font-semibold bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){O(!1)}},"X"),r.a.createElement("div",{id:"commit-log__cards",className:"w-full xl:w-3/4 lg:w-5/6 md:w-11/12 sm:w-11/12 h-full block mx-auto my-auto mt-10 mb-10"},re))):null,r.a.createElement("div",{className:"block rounded-md xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 shadow-sm border-2 border-dotted border-gray-400 p-1 my-6 mx-auto"},r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"flex justify-evenly items-center"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"Remote Host"),r.a.createElement("div",{className:"flex justify-around items-center align-middle w-1/2"},r.a.createElement("div",{className:"w-3/4 flex cursor-pointer justify-center p-4 rounded-md shadow-md border border-dashed my-auto items-center align-middle"},r.a.createElement("div",{className:"mx-2"},e),r.a.createElement("div",{className:"text-xl text-gray-800 border-b border-dashed border-gray-400 w-3/4 text-center"},ge)),r.a.createElement("div",{className:"w-1/4"},r.a.createElement("div",{id:"addRemote",className:"rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-indigo-400 text-center mx-auto shadow hover:bg-indigo-500 cursor-pointer",onMouseEnter:function(e){e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-32 text-center border border-gray-300 text-sm my-2 relative" style="margin-left:-40px;">Click to add a new remote repo</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){q(!0),ae("addRemoteRepo")}},"+")))),r.a.createElement("div",{className:"flex justify-evenly my-4"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"".concat(ge," URL")),r.a.createElement("div",{className:"text-blue-400 hover:text-blue-500 cursor-pointer w-1/2 break-words"},me)),S?r.a.createElement("div",{className:"flex justify-evenly my-2"},r.a.createElement("div",{className:"font-sans text-gray-800 font-semibold w-1/4 border-dotted border-b-2 border-gray-200"},"Entry truncated!"),r.a.createElement("div",{className:"w-1/2 border-dotted border-b-2 border-gray-200"},"Remote repos : ".concat(A))):null),r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"flex justify-evenly my-3"},r.a.createElement("div",{className:"w-1/4 text-md text-gray-600"},"Commit Logs"),r.a.createElement("div",{className:"w-1/2 rounded-md shadow-md p-3 text-center bg-orange-300 cursor-pointer",onClick:function(e){O(!0)}},"Show Commit Logs")))),r.a.createElement("div",{className:"block rounded-md xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 shadow-sm border-2 border-dotted border-gray-400 p-1 my-6 mx-auto"},r.a.createElement("div",{className:"block mx-auto my-2"},r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Total Commits"),r.a.createElement("div",{className:"text-left text-md text-bold text-black-800 w-1/2"},"".concat(fe," Commits"))),r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Latest Commit"),r.a.createElement("div",{className:"text-left text-sm text-bold text-black-900 w-1/2 truncate ..."},be)),r.a.createElement("div",{className:"flex justify-around mx-auto my-2 align-middle items-center"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Available Branches"),r.a.createElement("div",{className:"w-1/2 flex justify-evenly align-middle items-center"},r.a.createElement("div",{className:"w-3/4 my-auto"},ue&&pe&&ue.slice(0,3).map((function(e){return e?e===pe?r.a.createElement("div",{className:"text-lg font-semibold text-indigo-500 my-1 border-b border-dotted cursor-pointer hover:border-dashed hover:text-indigo-600",key:"".concat(e,"-").concat(Object(_.a)())},e):r.a.createElement("div",{className:"text-md my-1 font-sans font-semibold my-2 border-b border-dotted cursor-pointer hover:border-dashed hover:text-indigo-400",key:"entry-key-".concat(Object(_.a)()),onClick:function(){var t;t=e,q(!0),ae("switchbranch"),z(t)}},e):null})).filter((function(e){return e||!1})),r.a.createElement("div",{className:"border-b border-dashed font-sans text-blue-500 cursor-pointer hover:text-blue-800 my-2 text-center my-auto",onClick:function(){q(!0),ae("listBranch")}},"List all branches")),r.a.createElement("div",{id:"addBranch",className:"rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-green-400 text-center mx-auto shadow hover:bg-green-500 cursor-pointer",onMouseEnter:function(e){e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-32 text-center border border-gray-300 text-sm my-2 relative" style="margin-left:-40px;">Click to add a new branch</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){q(!0),ae("addBranch")}},"+"))),r.a.createElement("div",{className:"flex justify-around mx-auto mt-4"},r.a.createElement("div",{className:"w-1/3 rounded text-center cursor-pointer p-2 bg-indigo-500 hover:bg-indigo-600 text-white font-sans nowrap",onClick:function(){q(!0),ae("fetch")}},"Fetch from remote"),r.a.createElement("div",{className:"w-1/3 text-center cursor-pointer rounded text-white p-2 bg-blue-500 hover:bg-blue-600 font-sans",onClick:function(){q(!0),ae("pull")}},"Pull from remote")))))):r.a.createElement("div",{className:"p-6 bg-orange-300 text-orange-900 my-4 rounded-lg shadow-md border border-gray-300"},"Fetching details from server...")}():null)),r.a.createElement("div",{className:"block w-11/12 my-6 mx-auto justify-center p-6 rounded-lg bg-gray-100 p-2 shadow-md overflow-auto"},s?function(){if(xe&&xe.length>0&&"NO_TRACKED_FILES"!==xe[0]){var e=[],t=[],a=[];return xe.forEach((function(e,n){var s=e.split(":");s[1].includes("directory")?t.push(r.a.createElement("div",{className:"block w-full p-2 border-b border-gray-300",key:"directory-key-".concat(Object(_.a)())},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(E.a,{icon:["fas","folder"],className:"font-sans text-xl text-blue-600"})),r.a.createElement("div",{className:"w-2/4 text-gray-800 text-lg mx-3 font-sans"},s[0]),r.a.createElement("div",{className:"w-2/4 p-2 bg-green-200 text-green-900 truncate ... rounded-lg text-left mx-auto w-3/5"},he[n]?he[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null)))):s[1].includes("File")&&a.push(r.a.createElement("div",{className:"block w-full p-2 border-b border-gray-300",key:"file-key-".concat(Object(_.a)())},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(E.a,{icon:["fas","file"],className:"font-sans text-xl text-gray-700"})),r.a.createElement("div",{className:"w-2/4 text-gray-800 text-lg mx-3 font-sans"},s[0]),r.a.createElement("div",{className:"w-2/4 p-2 bg-indigo-200 truncate ... text-indigo-900 rounded-lg text-left mx-auto w-3/5"},he[n]?he[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))})),e.push(t),e.push(a),r.a.createElement("div",{className:"block mx-auto justify-center p-2 text-blue-600 cursor-pointer hover:text-blue-700",key:"repo-key"},r.a.createElement("div",{className:"flex justify-around w-full p-2 mx-auto pb-6 border-b border-blue-400"},r.a.createElement("div",{className:"w-1/6"}),r.a.createElement("div",{className:"w-2/4"},"File / Directory"),r.a.createElement("div",{className:"w-2/4"},"Latest commit")),e)}return xe&&"NO_TRACKED_FILES"===xe[0]?r.a.createElement("div",{className:"bg-gray-400 rounded-lg text-black text-2xl text-center"},"No Tracked Files in the repo!"):r.a.createElement("div",{className:"bg-gray-400 rounded-lg text-black text-2xl text-center"},"Loading tracked files...")}():null)):r.a.createElement("div",{className:"text-center mx-auto rounded-lg p-3 shadow-md border border-indigo-200 text-indigo-800"},"Fetching repo details..."),m?r.a.createElement("div",{className:"p-2 text-center mx-auto rounded-lg bg-red-200 text-xl"},"Repo details fetch failed!"):null))}function Q(e){v.b.add(N.a,j.a);var t=Object(n.useRef)(),a=Object(n.useContext)(u),s=a.state,o=a.dispatch,l=s.presentRepo,c=Object(n.useState)(""),m=Object(i.a)(c,2),p=m[0],f=m[1],b=Object(n.useState)(0),x=Object(i.a)(b,2),h=x[0],y=x[1],w=Object(n.useState)([]),O=Object(i.a)(w,2),k=O[0],C=O[1],S=Object(n.useState)(!1),T=Object(i.a)(S,2),R=T[0],A=T[1],F=Object(n.useState)({}),_=Object(i.a)(F,2),P=_[0],D=_[1],L=Object(n.useState)(""),q=Object(i.a)(L,2),B=q[0],G=q[1],M=Object(n.useState)(0),H=Object(i.a)(M,2),U=H[0],J=H[1],V=Object(n.useState)(""),z=Object(i.a)(V,2),K=z[0],Y=z[1],W=Object(n.useState)(!1),X=Object(i.a)(W,2),Z=X[0],$=X[1],Q=Object(n.useState)(!1),ee=Object(i.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("SETTINGS_DBPATH",'"){\n              settingsDatabasePath\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.error){var a=e.data.data.gitConvexApi.settingsDatabasePath;f(a),Y(a),t.current.value=a}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_REPODETAILS",'"){\n                settingsRepoDetails{\n                  id\n                  repoPath\n                  repoName\n                  timeStamp\n                }\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsRepoDetails;C(Object(I.a)(t))}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_PORT",'"){\n                settingsPortDetails\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsPortDetails;y(t)}}))}),[e,U]);return r.a.createElement(r.a.Fragment,null,R?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none",id:"settings-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"settings-backdrop"===e.target.id&&(G(""),A(!1),J(U+1))}},P?function(){var e=["Repo ID","Repo Name","Repo Path","Timestamp"],t=[];return Object.keys(P).forEach((function(a,n){t.push({label:e[n],value:P[a]})})),r.a.createElement("div",{className:"w-3/4 p-6 mx-auto my-auto rounded shadow bg-white"},r.a.createElement("div",{className:"mx-4 my-2 text-3xl font-sans text-gray-900"},"The repo below will be removed from Gitconvex records."),r.a.createElement("div",{className:"mx-4 my-1 text-md font-light w-5/6 font-sans italic text-gray-800"},"This will not delete the actual git folder. Just the record from the gitconvex server will be removed"),r.a.createElement("div",{className:"my-2 mx-auto block justify-center w-3/4 p-2"},t.map((function(e){return r.a.createElement("div",{className:"mx-auto flex p-2 font-sans",key:e.label},r.a.createElement("div",{className:"w-2/4 font-semibold"},e.label),r.a.createElement("div",{className:"w-2/4"},e.value))}))),"lodaing"!==B&&"success"!==B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 rounded shadow bg-red-400 hover:bg-red-500 text-white text-xl",onClick:function(){!function(){G("loading");var e=P.id;d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            deleteRepo(repoId: "'.concat(e,'"){\n              status\n              repoId\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.eror){var t=e.data.data.deleteRepo,a=t.status,n=t.repoId;if("DELETE_SUCCESS"===a){if(l&&l.length>0){var r=l[0];r=r.map((function(e){return e.id.toString()===n.toString()?null:e})),o({action:"DELETE_PRESENT_REPO",payload:Object(I.a)(r)})}G("success")}else G("failed")}})).catch((function(e){console.log(e),G("failed")}))}()}},"Confirm Delete"):null,"loading"===B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 text-white rounded shadow bg-gray-400 hover:bg-gray-500 text-white text-xl"},"Deletion in progress"):null,"success"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-green-300 text-green-600 my-4"},"Repo has been deleted!"):null,"failed"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-red-300 my-4"},"Repo deletion failed!"):null)}():null,r.a.createElement("div",{className:"top-0 right-0 fixed float-right font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){G(""),A(!1),J(U+1)}},"X")):null,r.a.createElement("div",{className:"block w-full h-full pt-5 pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"font-sans text-6xl my-4 mx-10 text-gray-700 block items-center align-middle"},r.a.createElement(E.a,{className:"text-5xl",icon:["fas","cogs"]}),r.a.createElement("span",{className:"mx-10"},"Settings")),r.a.createElement("div",{className:"block my-10 justify-center mx-auto w-11/12"},p?r.a.createElement("div",{className:"settings-data"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Server data file (file which stores repo details)"),r.a.createElement("div",{className:"my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 w-2/3",ref:t,onChange:function(e){Y(e.target.value),$(!1)},onClick:function(){$(!1)}}),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"The data file can be updated. The data file must be an accessible JSON file with read / write permissions set to it. Also make sure you enter the full path for the file",r.a.createElement("pre",{className:"my-2"},"E.g: /opt/my_data/data-file.json")),p!==K?r.a.createElement("div",{className:"my-4 text-center p-2 font-sans text-white border-green-400 border-2 bg-green-500 rounded-md cursor-pointer shadow w-1/4 hover:bg-green-600",onClick:function(){!function(){if(K){var e=U+1;d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                updateRepoDataFile(newDbFile: "'.concat(K.toString(),'")\n              }\n            ')}}).then((function(t){t.data.data&&!t.data.error&&"DATAFILE_UPDATE_SUCCESS"===t.data.data.updateRepoDataFile?($(!1),J(e),window.location.reload()):($(!0),J(e))})).catch((function(t){console.log("Datafile update error",t),$(!0),J(e)}))}}(),$(!1)}},"Update Data file"):null,Z?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-2/3 text-center"},"Data file update failed"):null)):null,k?r.a.createElement("div",{className:"repo-data my-10"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Saved Repos"),r.a.createElement(r.a.Fragment,null,k&&k.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 bg-indigo-500 my-1 w-full rounded text-white bg-white shadow p-3 font-sand text-xl font-semibold"},r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo ID"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Name"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Path"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Timestamp"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Action")),k.map((function(e){return r.a.createElement("div",{className:"flex my-1 w-full rounded bg-white shadow p-3 font-sans text-gray-800",key:e.id},r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},e.id),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-bold font-sans break-all"},e.repoName),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light text-blue-600"},e.repoPath),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light"},e.timeStamp),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},r.a.createElement("div",{className:"bg-red-600 p-2 mx-auto my-auto rounded shadow text-center w-1/2 hover:bg-red-400 cursor-pointer",onClick:function(t){A(!0),D(e)}},r.a.createElement(E.a,{color:"white",icon:["fas","trash-alt"]}))))}))):r.a.createElement("div",{className:"my-4 mx-auto bg-gray-200 text-center p-3 rounded shadow w-3/4"},"No repos are being managed by Gitconvex. You can add one from the dashboard"))):null,r.a.createElement("div",{className:"my-2 mx-auto"},r.a.createElement("div",{className:"text-xl font-sans text-gray-800 my-2"},"Active Gitconvex port"),r.a.createElement("div",{className:"flex my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 xl:w-1/2 lg:w-1/3 md:w-1/2 sm:w-1/2 w-1/2",value:h,onChange:function(e){y(e.target.value)}}),r.a.createElement("div",{className:"p-2 text-center mx-4 rounded border text-white bg-indigo-500 xl:w-1/6 lg:w-1/6 md:w-1/5 sm:w-1/4 w-1/4 hover:bg-indigo-600 cursor-pointer",onClick:function(){h&&d()({url:g,method:"POST",data:{query:"\n              mutation GitConvexMutation{\n                settingsEditPort(newPort: ".concat(h,")\n              }\n            ")}}).then((function(e){e.data.data&&!e.data.error?console.log(e.data.data.settingsEditPort):te(!0)})).catch((function(e){console.log(e),ae(!0)}))}},"Update Port")),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"Make sure to restart the app and to change the port in the URL after updating it"),te?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-1/2 text-center"},"Port update failed"):null))))}function ee(e){var t=Object(n.useContext)(u).state,a=Object(n.useState)(""),s=Object(i.a)(a,2),o=s[0],m=s[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],x=f[1],v=Object(n.useState)(""),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useMemo)((function(){return r.a.createElement($,{parentProps:e})}),[e]),N=Object(n.useMemo)((function(){return r.a.createElement(Q,null)}),[]),O=Object(n.useMemo)((function(){return r.a.createElement(S,null)}),[]);Object(n.useEffect)((function(){var e=t.hcParams,a=e.osCheck,n=e.gitCheck,r=e.nodeCheck,s=d.a.CancelToken.source();a&&n&&r?(m(a),x(n),y(r)):3===["OS_TYPE","NODE_VERSION","GIT_VERSION"].filter((function(e){return!!localStorage.getItem(e)})).length?(m(localStorage.getItem("OS_TYPE")),y(localStorage.getItem("NODE_VERSION")),x(localStorage.getItem("GIT_VERSION"))):d()({url:g,method:"POST",cancelToken:s.token,data:{query:'\n              query GitConvexAPI{\n                gitConvexApi(route:"HEALTH_CHECK"){\n                  healthCheck{\n                    osCheck\n                    gitCheck\n                    nodeCheck\n                  }\n                }\n              }\n            '}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;m(JSON.parse(a).message),x(JSON.parse(n).message),y(JSON.parse(r).message)}})).catch((function(e){console.log(e)}));return function(){s.cancel()}}),[t.hcParams]);var k={platform:o,gitVersion:b,nodeVersion:E};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"xl:flex lg:flex md:block w-full h-screen"},r.a.createElement(h,{parentProps:e}),function(){switch(e.location.pathname){case"/dashboard":return r.a.createElement(C,{params:k});case"/dashboard/repository":return r.a.createElement(M,null);case"/dashboard/settings":return N;case"/dashboard/help":return O;default:return r.a.createElement(c.a,null,r.a.createElement(l.a,{exact:!0,path:"/dashboard/repository/:repoId"},w))}}()))}a(80);function te(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],p=c[1],f=Object(n.useContext)(u).dispatch;return Object(n.useEffect)((function(){var e=g;d()({url:e,method:"POST",data:{query:'\n          query GitConvexAPI{\n            gitConvexApi(route:"HEALTH_CHECK"){\n              healthCheck{\n                osCheck\n                gitCheck\n                nodeCheck\n              }\n            }\n          }\n        '}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;f({type:"HC_PARAM_ACTION",payload:{osCheck:a,gitCheck:n,nodeCheck:r}}),p(!0)}else o(!0)})).catch((function(e){console.log(e),o(!0)}))}),[f]),r.a.createElement(r.a.Fragment,null,m?e.history.push("/dashboard"):r.a.createElement("div",{className:"w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"splash-logo w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"p-5 shadow-md border-l-4 border-t-4 border-blue-100 rounded-lg block"},r.a.createElement("div",{className:"splash-logo__image"})),r.a.createElement("div",{className:"logo-label my-3 p-3 text-center block"},r.a.createElement("div",{className:"logo-label__title block text-6xl border-solid border-b-4 border-pink-200"},r.a.createElement("span",{className:"logo-label__title-first font-sans font-bold mx-3"},"Git"),r.a.createElement("span",null,"Convex")),r.a.createElement("div",{className:"block font-mono my-2"},"A visualizer for your git repo"))),s?r.a.createElement("div",{className:"fixed bottom-0 left-0 right-0 w-full p-3 rounded-lg text-center font-sans bg-red-200 border-red-900"},r.a.createElement("div",{className:"h1 text-3xl p-2 m-2 text-red-800"},"Server Unreachable"),r.a.createElement("p",null,"The server is not reachable.Please check if the server module is running.")):null))}var ae=a(11);function ne(e,t){switch(t.type){case"HC_DONE_SWITCH":return Object(ae.a)(Object(ae.a)({},e),{},{hcDone:t.payload});case"HC_PARAM_ACTION":var a=t.payload,n=a.osCheck,r=a.gitCheck,s=a.nodeCheck,o=function(e){return JSON.parse(JSON.parse(JSON.stringify(e))).message};return localStorage.setItem("OS_TYPE",o(n)),localStorage.setItem("GIT_VERSION",o(r)),localStorage.setItem("NODE_VERSION",o(s)),Object(ae.a)(Object(ae.a)({},e),{},{hcParams:{osCheck:o(n),gitCheck:o(r),nodeCheck:o(s)}});case"PRESENT_REPO":return Object(ae.a)(Object(ae.a)({},e),{},{presentRepo:[].concat(Object(I.a)(e.presentRepo),[t.payload])});case"ADD_FORM_CLOSE":return Object(ae.a)(Object(ae.a)({},e),{},{shouldAddFormClose:t.payload});case"DELETE_PRESENT_REPO":return Object(ae.a)(Object(ae.a)({},e),{},{presentRepo:Object(I.a)(t.payload)});case"GIT_TRACKED_FILES":return e.modifiedGitFiles=[],Object(ae.a)(Object(ae.a)({},e),{},{modifiedGitFiles:[].concat(Object(I.a)(e.modifiedGitFiles),[t.payload])});case"GIT_GLOBAL_REPOID":return e.globalRepoId="",Object(ae.a)(Object(ae.a)({},e),{},{globalRepoId:t.payload});case"GIT_ACTION_TRACKED_FILES":return e.gitTrackedFiles=[],Object(ae.a)(Object(ae.a)({},e),{},{gitTrackedFiles:[].concat(Object(I.a)(e.gitTrackedFiles),[t.payload])});case"GIT_ACTION_UNTRACKED_FILES":return e.gitUntrackedFiles=[],Object(ae.a)(Object(ae.a)({},e),{},{gitUntrackedFiles:[].concat(Object(I.a)(e.gitUntrackedFiles),[t.payload])});default:return Object(ae.a)({},e)}}function re(e){var t=Object(n.useReducer)(ne,{hcParams:{},presentRepo:[],modifiedGitFiles:[],globalRepoId:"",gitUntrackedFiles:[],gitTrackedFiles:[]}),a=Object(i.a)(t,2),s=a[0],o=a[1];return r.a.createElement("div",{className:"App w-full h-full"},r.a.createElement(u.Provider,{value:{state:s,dispatch:o}},r.a.createElement(c.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:te}),r.a.createElement(l.a,{path:"/dashboard",component:ee}),r.a.createElement(l.a,{path:"/dashboard/repository",exact:!0,component:ee}),r.a.createElement(l.a,{path:"/dashboard/repository/*",component:ee})))))}a(81),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.025663bd.chunk.js.map