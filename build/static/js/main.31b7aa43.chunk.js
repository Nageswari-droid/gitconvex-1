(this.webpackJsonpgitconvex=this.webpackJsonpgitconvex||[]).push([[0],{30:function(e,t,a){},44:function(e,t,a){var n={"./prism-abap.js":[83,3],"./prism-abap.min.js":[84,4],"./prism-abnf.js":[85,5],"./prism-abnf.min.js":[86,6],"./prism-actionscript.js":[87,7],"./prism-actionscript.min.js":[88,8],"./prism-ada.js":[89,9],"./prism-ada.min.js":[90,10],"./prism-agda.js":[91,11],"./prism-agda.min.js":[92,12],"./prism-al.js":[93,13],"./prism-al.min.js":[94,14],"./prism-antlr4.js":[95,15],"./prism-antlr4.min.js":[96,16],"./prism-apacheconf.js":[97,17],"./prism-apacheconf.min.js":[98,18],"./prism-apl.js":[99,19],"./prism-apl.min.js":[100,20],"./prism-applescript.js":[101,21],"./prism-applescript.min.js":[102,22],"./prism-aql.js":[103,23],"./prism-aql.min.js":[104,24],"./prism-arduino.js":[105,25],"./prism-arduino.min.js":[106,26],"./prism-arff.js":[107,27],"./prism-arff.min.js":[108,28],"./prism-asciidoc.js":[109,29],"./prism-asciidoc.min.js":[110,30],"./prism-asm6502.js":[111,31],"./prism-asm6502.min.js":[112,32],"./prism-aspnet.js":[113,33],"./prism-aspnet.min.js":[114,34],"./prism-autohotkey.js":[115,35],"./prism-autohotkey.min.js":[116,36],"./prism-autoit.js":[117,37],"./prism-autoit.min.js":[118,38],"./prism-bash.js":[119,39],"./prism-bash.min.js":[120,40],"./prism-basic.js":[121,41],"./prism-basic.min.js":[122,42],"./prism-batch.js":[123,43],"./prism-batch.min.js":[124,44],"./prism-bbcode.js":[125,45],"./prism-bbcode.min.js":[126,46],"./prism-bison.js":[127,47],"./prism-bison.min.js":[128,48],"./prism-bnf.js":[129,49],"./prism-bnf.min.js":[130,50],"./prism-brainfuck.js":[131,51],"./prism-brainfuck.min.js":[132,52],"./prism-brightscript.js":[133,53],"./prism-brightscript.min.js":[134,54],"./prism-bro.js":[135,55],"./prism-bro.min.js":[136,56],"./prism-c.js":[137,57],"./prism-c.min.js":[138,58],"./prism-cil.js":[139,59],"./prism-cil.min.js":[140,60],"./prism-clike.js":[141,61],"./prism-clike.min.js":[142,62],"./prism-clojure.js":[143,63],"./prism-clojure.min.js":[144,64],"./prism-cmake.js":[145,65],"./prism-cmake.min.js":[146,66],"./prism-coffeescript.js":[147,67],"./prism-coffeescript.min.js":[148,68],"./prism-concurnas.js":[149,69],"./prism-concurnas.min.js":[150,70],"./prism-core.js":[151,71],"./prism-core.min.js":[152,72],"./prism-cpp.js":[153,73],"./prism-cpp.min.js":[154,74],"./prism-crystal.js":[155,75],"./prism-crystal.min.js":[156,76],"./prism-csharp.js":[157,77],"./prism-csharp.min.js":[158,78],"./prism-csp.js":[159,79],"./prism-csp.min.js":[160,80],"./prism-css-extras.js":[161,81],"./prism-css-extras.min.js":[162,82],"./prism-css.js":[163,83],"./prism-css.min.js":[164,84],"./prism-cypher.js":[165,85],"./prism-cypher.min.js":[166,86],"./prism-d.js":[167,87],"./prism-d.min.js":[168,88],"./prism-dart.js":[169,89],"./prism-dart.min.js":[170,90],"./prism-dax.js":[171,91],"./prism-dax.min.js":[172,92],"./prism-dhall.js":[173,93],"./prism-dhall.min.js":[174,94],"./prism-diff.js":[175,95],"./prism-diff.min.js":[176,96],"./prism-django.js":[177,97],"./prism-django.min.js":[178,98],"./prism-dns-zone-file.js":[179,99],"./prism-dns-zone-file.min.js":[180,100],"./prism-docker.js":[181,101],"./prism-docker.min.js":[182,102],"./prism-ebnf.js":[183,103],"./prism-ebnf.min.js":[184,104],"./prism-editorconfig.js":[185,105],"./prism-editorconfig.min.js":[186,106],"./prism-eiffel.js":[187,107],"./prism-eiffel.min.js":[188,108],"./prism-ejs.js":[189,109],"./prism-ejs.min.js":[190,110],"./prism-elixir.js":[191,111],"./prism-elixir.min.js":[192,112],"./prism-elm.js":[193,113],"./prism-elm.min.js":[194,114],"./prism-erb.js":[195,115],"./prism-erb.min.js":[196,116],"./prism-erlang.js":[197,117],"./prism-erlang.min.js":[198,118],"./prism-etlua.js":[199,119],"./prism-etlua.min.js":[200,120],"./prism-excel-formula.js":[201,121],"./prism-excel-formula.min.js":[202,122],"./prism-factor.js":[203,123],"./prism-factor.min.js":[204,124],"./prism-firestore-security-rules.js":[205,125],"./prism-firestore-security-rules.min.js":[206,126],"./prism-flow.js":[207,127],"./prism-flow.min.js":[208,128],"./prism-fortran.js":[209,129],"./prism-fortran.min.js":[210,130],"./prism-fsharp.js":[211,131],"./prism-fsharp.min.js":[212,132],"./prism-ftl.js":[213,133],"./prism-ftl.min.js":[214,134],"./prism-gcode.js":[215,135],"./prism-gcode.min.js":[216,136],"./prism-gdscript.js":[217,137],"./prism-gdscript.min.js":[218,138],"./prism-gedcom.js":[219,139],"./prism-gedcom.min.js":[220,140],"./prism-gherkin.js":[221,141],"./prism-gherkin.min.js":[222,142],"./prism-git.js":[223,143],"./prism-git.min.js":[224,144],"./prism-glsl.js":[225,145],"./prism-glsl.min.js":[226,146],"./prism-gml.js":[227,147],"./prism-gml.min.js":[228,148],"./prism-go.js":[229,149],"./prism-go.min.js":[230,150],"./prism-graphql.js":[231,151],"./prism-graphql.min.js":[232,152],"./prism-groovy.js":[233,153],"./prism-groovy.min.js":[234,154],"./prism-haml.js":[235,155],"./prism-haml.min.js":[236,156],"./prism-handlebars.js":[237,157],"./prism-handlebars.min.js":[238,158],"./prism-haskell.js":[239,159],"./prism-haskell.min.js":[240,160],"./prism-haxe.js":[241,161],"./prism-haxe.min.js":[242,162],"./prism-hcl.js":[243,163],"./prism-hcl.min.js":[244,164],"./prism-hlsl.js":[245,165],"./prism-hlsl.min.js":[246,166],"./prism-hpkp.js":[247,167],"./prism-hpkp.min.js":[248,168],"./prism-hsts.js":[249,169],"./prism-hsts.min.js":[250,170],"./prism-http.js":[251,171],"./prism-http.min.js":[252,172],"./prism-ichigojam.js":[253,173],"./prism-ichigojam.min.js":[254,174],"./prism-icon.js":[255,175],"./prism-icon.min.js":[256,176],"./prism-iecst.js":[257,177],"./prism-iecst.min.js":[258,178],"./prism-ignore.js":[259,179],"./prism-ignore.min.js":[260,180],"./prism-inform7.js":[261,181],"./prism-inform7.min.js":[262,182],"./prism-ini.js":[263,183],"./prism-ini.min.js":[264,184],"./prism-io.js":[265,185],"./prism-io.min.js":[266,186],"./prism-j.js":[267,187],"./prism-j.min.js":[268,188],"./prism-java.js":[269,189],"./prism-java.min.js":[270,190],"./prism-javadoc.js":[271,191],"./prism-javadoc.min.js":[272,192],"./prism-javadoclike.js":[273,193],"./prism-javadoclike.min.js":[274,194],"./prism-javascript.js":[275,195],"./prism-javascript.min.js":[276,196],"./prism-javastacktrace.js":[277,197],"./prism-javastacktrace.min.js":[278,198],"./prism-jolie.js":[279,199],"./prism-jolie.min.js":[280,200],"./prism-jq.js":[281,201],"./prism-jq.min.js":[282,202],"./prism-js-extras.js":[283,203],"./prism-js-extras.min.js":[284,204],"./prism-js-templates.js":[285,205],"./prism-js-templates.min.js":[286,206],"./prism-jsdoc.js":[287,207],"./prism-jsdoc.min.js":[288,208],"./prism-json.js":[289,209],"./prism-json.min.js":[290,210],"./prism-json5.js":[291,211],"./prism-json5.min.js":[292,212],"./prism-jsonp.js":[293,213],"./prism-jsonp.min.js":[294,214],"./prism-jsstacktrace.js":[295,215],"./prism-jsstacktrace.min.js":[296,216],"./prism-jsx.js":[297,217],"./prism-jsx.min.js":[298,218],"./prism-julia.js":[299,219],"./prism-julia.min.js":[300,220],"./prism-keyman.js":[301,221],"./prism-keyman.min.js":[302,222],"./prism-kotlin.js":[303,223],"./prism-kotlin.min.js":[304,224],"./prism-latex.js":[305,225],"./prism-latex.min.js":[306,226],"./prism-latte.js":[307,227],"./prism-latte.min.js":[308,228],"./prism-less.js":[309,229],"./prism-less.min.js":[310,230],"./prism-lilypond.js":[311,231],"./prism-lilypond.min.js":[312,232],"./prism-liquid.js":[313,233],"./prism-liquid.min.js":[314,234],"./prism-lisp.js":[315,235],"./prism-lisp.min.js":[316,236],"./prism-livescript.js":[317,237],"./prism-livescript.min.js":[318,238],"./prism-llvm.js":[319,239],"./prism-llvm.min.js":[320,240],"./prism-lolcode.js":[321,241],"./prism-lolcode.min.js":[322,242],"./prism-lua.js":[323,243],"./prism-lua.min.js":[324,244],"./prism-makefile.js":[325,245],"./prism-makefile.min.js":[326,246],"./prism-markdown.js":[327,247],"./prism-markdown.min.js":[328,248],"./prism-markup-templating.js":[329,249],"./prism-markup-templating.min.js":[330,250],"./prism-markup.js":[331,251],"./prism-markup.min.js":[332,252],"./prism-matlab.js":[333,253],"./prism-matlab.min.js":[334,254],"./prism-mel.js":[335,255],"./prism-mel.min.js":[336,256],"./prism-mizar.js":[337,257],"./prism-mizar.min.js":[338,258],"./prism-monkey.js":[339,259],"./prism-monkey.min.js":[340,260],"./prism-moonscript.js":[341,261],"./prism-moonscript.min.js":[342,262],"./prism-n1ql.js":[343,263],"./prism-n1ql.min.js":[344,264],"./prism-n4js.js":[345,265],"./prism-n4js.min.js":[346,266],"./prism-nand2tetris-hdl.js":[347,267],"./prism-nand2tetris-hdl.min.js":[348,268],"./prism-nasm.js":[349,269],"./prism-nasm.min.js":[350,270],"./prism-neon.js":[351,271],"./prism-neon.min.js":[352,272],"./prism-nginx.js":[353,273],"./prism-nginx.min.js":[354,274],"./prism-nim.js":[355,275],"./prism-nim.min.js":[356,276],"./prism-nix.js":[357,277],"./prism-nix.min.js":[358,278],"./prism-nsis.js":[359,279],"./prism-nsis.min.js":[360,280],"./prism-objectivec.js":[361,281],"./prism-objectivec.min.js":[362,282],"./prism-ocaml.js":[363,283],"./prism-ocaml.min.js":[364,284],"./prism-opencl.js":[365,285],"./prism-opencl.min.js":[366,286],"./prism-oz.js":[367,287],"./prism-oz.min.js":[368,288],"./prism-parigp.js":[369,289],"./prism-parigp.min.js":[370,290],"./prism-parser.js":[371,291],"./prism-parser.min.js":[372,292],"./prism-pascal.js":[373,293],"./prism-pascal.min.js":[374,294],"./prism-pascaligo.js":[375,295],"./prism-pascaligo.min.js":[376,296],"./prism-pcaxis.js":[377,297],"./prism-pcaxis.min.js":[378,298],"./prism-peoplecode.js":[379,299],"./prism-peoplecode.min.js":[380,300],"./prism-perl.js":[381,301],"./prism-perl.min.js":[382,302],"./prism-php-extras.js":[383,303],"./prism-php-extras.min.js":[384,304],"./prism-php.js":[385,305],"./prism-php.min.js":[386,306],"./prism-phpdoc.js":[387,307],"./prism-phpdoc.min.js":[388,308],"./prism-plsql.js":[389,309],"./prism-plsql.min.js":[390,310],"./prism-powerquery.js":[391,311],"./prism-powerquery.min.js":[392,312],"./prism-powershell.js":[393,313],"./prism-powershell.min.js":[394,314],"./prism-processing.js":[395,315],"./prism-processing.min.js":[396,316],"./prism-prolog.js":[397,317],"./prism-prolog.min.js":[398,318],"./prism-properties.js":[399,319],"./prism-properties.min.js":[400,320],"./prism-protobuf.js":[401,321],"./prism-protobuf.min.js":[402,322],"./prism-pug.js":[403,323],"./prism-pug.min.js":[404,324],"./prism-puppet.js":[405,325],"./prism-puppet.min.js":[406,326],"./prism-pure.js":[407,327],"./prism-pure.min.js":[408,328],"./prism-purebasic.js":[409,329],"./prism-purebasic.min.js":[410,330],"./prism-python.js":[411,331],"./prism-python.min.js":[412,332],"./prism-q.js":[413,333],"./prism-q.min.js":[414,334],"./prism-qml.js":[415,335],"./prism-qml.min.js":[416,336],"./prism-qore.js":[417,337],"./prism-qore.min.js":[418,338],"./prism-r.js":[419,339],"./prism-r.min.js":[420,340],"./prism-racket.js":[421,341],"./prism-racket.min.js":[422,342],"./prism-reason.js":[423,343],"./prism-reason.min.js":[424,344],"./prism-regex.js":[425,345],"./prism-regex.min.js":[426,346],"./prism-renpy.js":[427,347],"./prism-renpy.min.js":[428,348],"./prism-rest.js":[429,349],"./prism-rest.min.js":[430,350],"./prism-rip.js":[431,351],"./prism-rip.min.js":[432,352],"./prism-roboconf.js":[433,353],"./prism-roboconf.min.js":[434,354],"./prism-robotframework.js":[435,355],"./prism-robotframework.min.js":[436,356],"./prism-ruby.js":[437,357],"./prism-ruby.min.js":[438,358],"./prism-rust.js":[439,359],"./prism-rust.min.js":[440,360],"./prism-sas.js":[441,361],"./prism-sas.min.js":[442,362],"./prism-sass.js":[443,363],"./prism-sass.min.js":[444,364],"./prism-scala.js":[445,365],"./prism-scala.min.js":[446,366],"./prism-scheme.js":[447,367],"./prism-scheme.min.js":[448,368],"./prism-scss.js":[449,369],"./prism-scss.min.js":[450,370],"./prism-shell-session.js":[451,371],"./prism-shell-session.min.js":[452,372],"./prism-smali.js":[453,373],"./prism-smali.min.js":[454,374],"./prism-smalltalk.js":[455,375],"./prism-smalltalk.min.js":[456,376],"./prism-smarty.js":[457,377],"./prism-smarty.min.js":[458,378],"./prism-solidity.js":[459,379],"./prism-solidity.min.js":[460,380],"./prism-solution-file.js":[461,381],"./prism-solution-file.min.js":[462,382],"./prism-soy.js":[463,383],"./prism-soy.min.js":[464,384],"./prism-sparql.js":[465,385],"./prism-sparql.min.js":[466,386],"./prism-splunk-spl.js":[467,387],"./prism-splunk-spl.min.js":[468,388],"./prism-sqf.js":[469,389],"./prism-sqf.min.js":[470,390],"./prism-sql.js":[471,391],"./prism-sql.min.js":[472,392],"./prism-stylus.js":[473,393],"./prism-stylus.min.js":[474,394],"./prism-swift.js":[475,395],"./prism-swift.min.js":[476,396],"./prism-t4-cs.js":[477,397],"./prism-t4-cs.min.js":[478,398],"./prism-t4-templating.js":[479,399],"./prism-t4-templating.min.js":[480,400],"./prism-t4-vb.js":[481,401],"./prism-t4-vb.min.js":[482,402],"./prism-tap.js":[483,403],"./prism-tap.min.js":[484,404],"./prism-tcl.js":[485,405],"./prism-tcl.min.js":[486,406],"./prism-textile.js":[487,407],"./prism-textile.min.js":[488,408],"./prism-toml.js":[489,409],"./prism-toml.min.js":[490,410],"./prism-tsx.js":[491,411],"./prism-tsx.min.js":[492,412],"./prism-tt2.js":[493,413],"./prism-tt2.min.js":[494,414],"./prism-turtle.js":[495,415],"./prism-turtle.min.js":[496,416],"./prism-twig.js":[497,417],"./prism-twig.min.js":[498,418],"./prism-typescript.js":[499,419],"./prism-typescript.min.js":[500,420],"./prism-unrealscript.js":[501,421],"./prism-unrealscript.min.js":[502,422],"./prism-vala.js":[503,423],"./prism-vala.min.js":[504,424],"./prism-vbnet.js":[505,425],"./prism-vbnet.min.js":[506,426],"./prism-velocity.js":[507,427],"./prism-velocity.min.js":[508,428],"./prism-verilog.js":[509,429],"./prism-verilog.min.js":[510,430],"./prism-vhdl.js":[511,431],"./prism-vhdl.min.js":[512,432],"./prism-vim.js":[513,433],"./prism-vim.min.js":[514,434],"./prism-visual-basic.js":[515,435],"./prism-visual-basic.min.js":[516,436],"./prism-warpscript.js":[517,437],"./prism-warpscript.min.js":[518,438],"./prism-wasm.js":[519,439],"./prism-wasm.min.js":[520,440],"./prism-wiki.js":[521,441],"./prism-wiki.min.js":[522,442],"./prism-xeora.js":[523,443],"./prism-xeora.min.js":[524,444],"./prism-xml-doc.js":[525,445],"./prism-xml-doc.min.js":[526,446],"./prism-xojo.js":[527,447],"./prism-xojo.min.js":[528,448],"./prism-xquery.js":[529,449],"./prism-xquery.min.js":[530,450],"./prism-yaml.js":[531,451],"./prism-yaml.min.js":[532,452],"./prism-yang.js":[533,453],"./prism-yang.min.js":[534,454],"./prism-zig.js":[535,455],"./prism-zig.min.js":[536,456]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=44,e.exports=r},48:function(e,t,a){e.exports=a(82)},53:function(e,t,a){},74:function(e,t,a){},78:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),s=a.n(o),i=a(1),l=a(8),c=a(20),m=(a(53),a(2)),d=a.n(m),u=r.a.createContext({hcDone:!1,platform:"",git:"",node:"",shouldAddFormClose:!1,globalRepoId:"",hcParams:{},presentRepo:[],modifiedGitFiles:[],gitUntrackedFiles:[],gitTrackedFiles:[]}),p=window.location.port,g="".concat("http","://").concat(window.location.hostname,":").concat(p,"/").concat("gitconvexapi"),f=a(6),b=a(26),x=a(9),h=a(3);a(74);function v(e){f.b.add(b.a,x.a);var t=Object(n.useContext)(u).dispatch,a=[{link:"/dashboard/repository",icon:r.a.createElement(h.a,{icon:["far","folder"],className:"text-3xl text-gray-600"}),label:"Repositories"},{link:"/dashboard/settings",icon:r.a.createElement(h.a,{icon:["fas","cog"],className:"text-3xl text-gray-600"}),label:"Settings"},{link:"/dashboard/help",icon:r.a.createElement(h.a,{icon:["far","question-circle"],className:"text-3xl text-gray-600"}),label:"Help"}];return r.a.createElement("div",{className:"dashboard--leftpane xl:block lg:block md:flex md:justify-between xl:w-1/4 lg:w-1/3 md:w-full"},r.a.createElement("div",{className:"leftpane--logo",onClick:function(a){t({type:"ADD_FORM_CLOSE",payload:!0}),e.parentProps.history.push("/dashboard")}},r.a.createElement("div",{className:"dashboard-leftpane__logo"}),r.a.createElement("div",{className:"font-mono xl:text-3xl lg:text-2xl md:text-3xl sm:text-2xl p-4"},r.a.createElement("span",{className:"font-bold mx-2 border-b-4 border-pink-400"},"Git"),"Convex")),r.a.createElement("div",{className:"menu xl:mt-32 lg:mt-24 cursor-pointer xl:block lg:block md:flex sm:block items-center align-middle"},a.map((function(e){return r.a.createElement(c.b,{to:"".concat(e.link),exact:!0,activeClassName:"bg-gray-300",className:"menu--link",key:e.label},r.a.createElement("div",{className:"menu--items"},r.a.createElement("div",{className:"menu--items__icon text-sm"},e.icon),r.a.createElement("div",{className:"menu--items__label xl:text-2xl lg:text-2xl md:text-xl"},e.label)))}))))}var j=a(16),E=a.n(j),y=a(21),w=a(19);function N(e){var t=e.loadAnimation,a=Object(w.b)({from:{marginLeft:"0px",opacity:0},to:function(){var e=Object(y.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=100;case 1:if(!--a){e.next=12;break}return e.next=4,t({marginLeft:"10px",opacity:.5});case 4:return e.next=6,t({marginLeft:"20px",opacity:.8});case 6:return e.next=8,t({marginLeft:"30px",opacity:1});case 8:return e.next=10,t({marginLeft:"0px",opacity:1});case 10:e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),config:{tension:"500"}});return r.a.createElement("div",{className:"flex gap-4 mx-auto text-center"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a.div,{className:"bg-pink-200 w-8 h-8 rounded-full p-2",style:a}),r.a.createElement(w.a.div,{className:"bg-green-200 w-8 h-8 rounded-full p-2",style:a}),r.a.createElement(w.a.div,{className:"bg-blue-200 w-8 h-8 rounded-full p-2",style:a})):null)}function O(e){f.b.add(x.a);var t=Object(n.useContext)(u),a=t.state,o=t.dispatch,s=Object(n.useState)(""),l=Object(i.a)(s,2),c=l[0],m=l[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),v=b[0],j=b[1],E=Object(n.useState)(""),y=Object(i.a)(E,2),O=y[0],k=y[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],R=S[1],I=Object(n.useState)(!1),F=Object(i.a)(I,2),A=F[0],_=F[1],P=Object(n.useState)(!1),L=Object(i.a)(P,2),D=L[0],q=L[1],B=Object(n.useState)(!1),M=Object(i.a)(B,2),G=M[0],H=M[1],U=Object(n.useState)(!1),J=Object(i.a)(U,2),V=J[0],z=J[1],K=Object(n.useState)(!1),Y=Object(i.a)(K,2),W=Y[0],Z=Y[1],X=Object(w.b)({config:{duration:1500,tension:500},from:{transform:"translate(0em, 0em)"},to:{transform:"translate(2em, 0em)"}}),$=Object(w.b)({config:{duration:500,tension:500},from:{transform:"translate(2em, 0em)"},to:{transform:"translate(0em, 0em)"}});function Q(){R(!1),_(!1)}function ee(e){return r.a.createElement("div",{key:"switch-".concat(e),className:"flex rounded-full h-8 w-16 py-2 shadow-inner items-center align-middle pl-1 cursor-pointer ".concat("clone"===e&&V?"bg-green-400":"bg-gray-200","\n        ").concat("init"===e&&W?"bg-blue-400":"bg-gray-200"),onClick:function(t){"clone"===e?V?z(!1):(z(!0),Z(!1)):W?Z(!1):(Z(!0),z(!1))}},"clone"===e?r.a.createElement(w.a.div,{className:"rounded-full h-6 w-6 shadow-md bg-white",id:"".concat(e,"-switch"),style:V?X:$}):r.a.createElement(w.a.div,{className:"rounded-full h-6 w-6 shadow-md bg-white",id:"".concat(e,"-switch"),style:W?X:$}))}return Object(n.useEffect)((function(){a.shouldAddFormClose&&e.formEnable(!1)}),[a,e]),r.a.createElement("div",{className:"block text-center justify-center my-20 p-6 rounded-lg shadow-md border-2 border-gray-200 xl:w-1/2 lg:w-2/3 md:w-3/4 sm:w-11/12 w-11/12 mx-auto ".concat(G?"border-dashed border-2":"")},G?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center font-sand font-semibold text-xl text-gray-600"},"Repo setup in progress..."),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:G}))):r.a.createElement("div",{className:"repo-form block"},A?r.a.createElement("div",{className:"my-6 mx-auto block p-2 w-3/4 rounded-lg shadow-sm border-4 border-dotted border-green-300 bg-green-100 text-lg font-sans font-light text-green-700 text-center"},"New repo added"):T?r.a.createElement("div",{className:"my-6 mx-auto block p-2 w-3/4 rounded-lg shadow-sm border-4 border-dotted border-red-300 bg-red-100 text-lg font-sans font-light text-red-700 text-center"},"Process failed! Please try again",D?r.a.createElement("div",{className:"font-semibold"},"Invalid input paremeters!"):null):null,r.a.createElement("div",{className:"my-3 text-center block text-3xl font-sans text-gray-800"},"Enter Repo Details"),r.a.createElement("div",null,r.a.createElement("input",{id:"repoNameText",type:"text",placeholder:"Enter a Repository Name",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){m(e.target.value)},value:c,onClick:function(){Q()}})),r.a.createElement("div",null,r.a.createElement("input",{id:"repoPathText",type:"text",placeholder:V?"Enter base directory path":"Enter repository path",className:"w-11/12 p-3 my-3 rounded-md outline-none border-blue-100 border-2 shadow-md",onChange:function(e){j(e.target.value)},value:v,onClick:function(){Q()}})),V&&v&&c?r.a.createElement("div",{className:"my-4 mx-auto text-center font-sans font-light text-gray-600 text-sm items-center"},"The repo will be cloned to",r.a.createElement("span",{className:"mx-3 text-center font-sans font-semibold border-b-2 border-dashed"},v,r.a.createElement(r.a.Fragment,null,v.includes("\\")?"\\":"/"),c)):null,r.a.createElement("div",{className:"flex mx-auto my-10 items-center justify-center"},r.a.createElement("div",{className:"flex justify-around items-center"},r.a.createElement("div",null,ee("clone")),r.a.createElement("div",{className:"mx-2 font-sans font-light"},"Clone from remote")),r.a.createElement("div",{className:"flex justify-around items-center"},r.a.createElement("div",null,ee("init")),r.a.createElement("div",{className:"mx-2 font-sans font-light"},"Initialize a new repo"))),V?r.a.createElement("div",{className:"flex mx-auto w-11/12 justify-between shadow-md border items-center rounded-md text-indigo-800"},r.a.createElement("div",{className:"w-1/8 text-center border p-3 px-6"},r.a.createElement(h.a,{icon:["fas","link"]})),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{value:O,className:"border-0 outline-none w-full p-2",placeholder:"Enter the remote repo URL",onClick:function(){R(!1)},onChange:function(e){k(e.target.value)}}))):null,r.a.createElement("div",{className:"flex w-11/12 justify-start mx-auto my-5 cursor-pointer"},r.a.createElement("div",{className:"my-2 w-1/2 block mx-3 p-3 bg-red-400 rounded-md shadow-md hover:bg-red-500",id:"addRepoClose",onClick:function(){e.formEnable(!1)}},"Close"),r.a.createElement("div",{className:"block w-1/2 mx-3 p-3 my-2 bg-green-400 rounded-md shadow-md hover:bg-green-500",id:"addRepoSubmit",onClick:function(){!function(e,t){if(e&&t){if(e.match(/[^a-zA-Z0-9-_.\s]/gi))return q(!0),void R(!0);var n=!1,r=!1,s=O;if(t=t.replace(/\\/gi,"\\\\"),V&&!O)return R(!0),!1;if(s.match(/[^a-zA-Z0-9-_.~@#$%:/]/gi))return q(!0),void R(!0);W?n=!0:V&&s&&(r=!0),H(!0),d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRepo(repoName: "'.concat(e,'", repoPath: "').concat(t,'", initSwitch: ').concat(n,", cloneSwitch: ").concat(r,', cloneUrl: "').concat(s,'"){\n                  message\n                  repoId\n                }\n              }\n            ')}}).then((function(e){if(H(!1),q(!1),e.data.data&&!e.data.error){var t=e.data.data.addRepo.message;t&&!t.match(/FAIL/g)?(_(!0),R(!1),z(""),Z(""),m(""),j(""),k(""),o({action:"DELETE_PRESENT_REPO",payload:[]}),console.log(a.presentRepo)):(R(!0),_(!1))}else R(!0),_(!1)})).catch((function(e){H(!1),console.log(e),R(!0),_(!1)}))}else q(!1),R(!0)}(c,v)}},"Submit"))))}var k=a(11);function C(e){f.b.add(k.a,x.a);var t=e.repoData,a=Object(n.useState)(""),o=Object(i.a)(a,2),s=o[0],l=o[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),p=u[0],b=u[1];Object(n.useEffect)((function(){b(!0);var t=e.repoData.id,a=JSON.stringify(JSON.stringify({repoId:t})),n=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:n.token,data:{query:'\n    \n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                    gitRepoStatus {\n                      gitTotalCommits\n                      gitTotalTrackedFiles  \n                      gitCurrentBranch  \n                    }\n                  }\n                }\n              ")}}).then((function(e){b(!1),l(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){b(!1)})),function(){n.cancel()}}),[e]);var v=t.repoName,j="";if(v)if(v.split(" ").length>1){var E=v.split(" ");j=(j=E[0].substring(0,1)+E[1].substring(0,1)).toUpperCase()}else j=v.substring(0,1).toUpperCase();return r.a.createElement(c.b,{to:"/dashboard/repository/".concat(t.id),className:"xl:w-1/3 lg:w-2/4 md:w-1/2 block p-6 rounded-lg border border-gray-300 shadow-md my-6 text-center bg-indigo-500 cursor-pointer hover:shadow-xl",key:t.repoName},r.a.createElement("div",{className:"text-center bg-indigo-300 text-white text-5xl my-2 px-10 py-5 rounded shadow"},j),r.a.createElement("div",{className:"my-4 font-sans text-2xl text-white border-dashed border-b-2 pb-2 border-indigo-300"},t.repoName),r.a.createElement("div",{className:"w-full flex justify-center mx-auto my-2 text-center rounded-md shadow-sm align-middle"},p||!s?r.a.createElement("div",{className:"block mx-auto w-full bg-white rounded"},r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:p||!s}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-l-md my-2 items-center"},r.a.createElement(h.a,{className:"my-auto",icon:["fas","grip-lines"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},s?r.a.createElement(r.a.Fragment,null,s.gitTotalCommits," Commits"):"...")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 my-2 items-center"},r.a.createElement(h.a,{className:"my-auto",icon:["fas","file-alt"]}),r.a.createElement("div",{className:"mx-2 text-sm text-center font-sans text-center"},s?r.a.createElement(r.a.Fragment,null,s.gitTotalTrackedFiles," Tracked Files"):"...")),r.a.createElement("div",{className:"w-1/2 flex p-2 bg-white shadow-lg border-indigo-300 rounded-r-md my-2 items-center"},r.a.createElement(h.a,{className:"my-auto",icon:["fas","code-branch"]}),r.a.createElement("div",{className:"mx-2  text-sm text-center font-sans text-center font-semibold my-auto items-center"},s?r.a.createElement(r.a.Fragment,null,s.gitCurrentBranch):"...")))))}function S(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],p=c[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useContext)(u).dispatch;Object(n.useEffect)((function(){h(!0);var e=g,t=d.a.CancelToken.source();return d()({url:e,method:"POST",cancelToken:t.token,data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n              fetchRepo{\n                repoId\n                repoName\n                repoPath\n              }\n            }\n          }\n        ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(h(!1),t){var a=t.repoId,n=t.repoName,r=[];a.forEach((function(e,t){r.push({id:e,repoName:n[t]})})),s(r),v({type:"DELETE_PRESENT_REPO",payload:[]}),v({action:"PRESENT_REPO",payload:[].concat(r)})}})).catch((function(e){console.log(e),h(!1)})),function(){t.cancel()}}),[m,v]);return r.a.createElement("div",{className:"flex flex-wrap mx-auto justify-center text-center align-middle"},m?r.a.createElement(O,{formEnable:function(e){p(e)}}):function(){var e=o;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full mx-auto justify-center flex gap-16 flex-wrap pb-40"},r.a.createElement(r.a.Fragment,null,e.length>0?r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(C,{key:e.id,repoData:e})})),e.length%2!==0&&1!==e.length?r.a.createElement("div",{className:"xl:w-1/3 lg:w-2/4 md:w-1/2 block p-6 my-6 text-center"}):null):r.a.createElement("div",{className:"mx-auto w-3/4 rounded-md text-center shadow bg-gray-100 text-gray-800 font-sans p-10 my-10 text-xl"},x?r.a.createElement("div",{className:"block mx-auto my-6 text-center justify-center"},r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:x})),r.a.createElement("div",null,"Loading available repos...")):r.a.createElement("div",null,"No repos present. Press + to add a new repo")))),r.a.createElement("div",{className:"fixed bottom-0 right-0 mb-10 mr-16 cursor-pointer block justify-center"},r.a.createElement("div",{id:"addRepoButton",className:"border-8 border-indigo-100 shadow-lg bg-indigo-300 hover:bg-indigo-400 rounded-full h-20 w-20 flex align-middle justify-center text-4xl text-white font-sans font-black",onClick:function(){p(!0),v({type:"ADD_FORM_CLOSE",payload:!1})},onMouseEnter:function(e){e.stopPropagation(),e.preventDefault(),document.getElementById("pop-up").classList.remove("hidden")},onMouseLeave:function(e){document.getElementById("pop-up").classList.add("hidden")}},r.a.createElement("span",null,"+"),r.a.createElement("div",{id:"pop-up",className:"fixed p-2 hidden rounded bg-white text-gray-700 w-48 text-center font-sans font-medium border border-gray-500 shadow-lg text-sm mx-auto w-1/8",style:{marginTop:"-75px",width:"130px"}},"Click to add a new repo"))))}())}a(78);function T(e){var t=e.params,a=t.platform,n=t.gitVersion,o=t.nodeVersion,s=[{label:"Platform",value:a},{label:"Git",value:n},{label:"Node",value:o}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dashboard--rightpane xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"rightpane--toparea xl:flex lg:flex md:block sm:block"},s.map((function(e){return r.a.createElement("div",{key:e.label,className:"rightpane--toparea--hc"},r.a.createElement("div",{className:"rightpane--toparea--hclabel xl:font-bold lg:font-semibold md:font-medium xl:text-2xl lg:text-xl md:text-md"},e.label),""!==e.value?r.a.createElement("div",{className:"rightpane--toparea--hcpills",id:"hc-param__".concat(e.label)},e.value):r.a.createElement("div",{className:"rounded-md bg-red-200 text-red-900 font-bold p-2"},"Invalid"))}))),function(){if(a&&n&&o)return r.a.createElement(S,{parentProps:e})}()))}function R(){return f.b.add(x.a,k.a),r.a.createElement("div",{className:"w-full h-full pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"flex text-5xl text-gray-700 mx-6 my-auto align-middle items-center"},r.a.createElement(h.a,{icon:["fas","question-circle"]}),r.a.createElement("div",{className:"my-5 mx-5 font-sans"},"Help and Support")),r.a.createElement("div",{className:"my-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans text-gray-900"},"Facing an issue or need any help?"),r.a.createElement("span",{className:"text-xl font-medium my-2"},"Before raising an issue, make sure you have gone through the"),r.a.createElement("span",{className:"font-mono text-xl mx-2 text-indigo-500 hover:text-indigo-600 hover:font-semibold cursor-pointer"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex/blob/master/DOCUMENTATION.md",target:"_blank",rel:"noopener noreferrer"},"Documentation"))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-indigo-800"},"Have any queries or want to share your feedback?"),r.a.createElement("div",{className:"flex mx-auto my-2 items-center align-middle"},r.a.createElement("div",{className:"text-gray-800 text-2xl font-sans"},"Lets have a discussion on"),r.a.createElement("a",{href:"https://discord.gg/PSd2Cq9",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex mx-2 justify-around align-middle items-center bg-indigo-400 text-white p-2 rounded shadow-sm text-2xl cursor-pointer hover:bg-indigo-500"},r.a.createElement(h.a,{icon:["fab","discord"]}),r.a.createElement("div",{className:"mx-3 font-sans font-black"},"discord"))))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600"},"You can also use the github issue reporting feature to report any issue you find in the platform"),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-package/issues",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex w-1/3 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 w-3/4 cursor-pointer hover:shadow-lg align-middle my-3 items-center p-3 bg-white shadow-md rounded border border-gray-500"},r.a.createElement(h.a,{icon:["fab","github"]}),r.a.createElement("div",{className:"mx-2"},"Report an issue")))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600 my-5 break-normal"},"gitconvex is open source and please visit the repo if you are interested in contributing to the platform"),r.a.createElement("div",{className:"xl:flex lg:block md:block justify-center items-center align-middle"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-ui",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-blue-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(h.a,{icon:["fab","react"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex UI")),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-server",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-green-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(h.a,{icon:["fab","node-js"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex server")))))}var I=a(4),F=a(18),A=a(537);a(30);function _(){var e=Object(n.useContext)(u),t=e.state,o=e.dispatch,s=t.globalRepoId,l=Object(n.useState)([]),c=Object(i.a)(l,2),m=c[0],p=c[1],f=Object(n.useState)("Click on a file item to see the difference"),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useState)([]),j=Object(i.a)(v,2),w=j[0],N=j[1],O=Object(n.useState)(""),k=Object(i.a)(O,2),C=k[0],S=k[1],T=Object(n.useState)(!1),R=Object(i.a)(T,2),_=R[0],P=R[1],L=Object(n.useState)(""),D=Object(i.a)(L,2),q=D[0],B=D[1],M=Object(n.useState)(""),G=Object(i.a)(M,2),H=G[0],U=G[1];return Object(n.useEffect)((function(){var e=t.globalRepoId;S(""),N("Click on a file item to see the difference"),h("Click on a file item to see the difference");var a=g;if(e){var n=JSON.stringify(JSON.stringify({repoId:e}));d()({url:a,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(n,")\n              {\n                gitChanges{\n                  gitChangedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){if(e&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitChanges.gitChangedFiles;(t=t.filter((function(e){return"D"!==e.split(",")[0]}))).length>=1?p(Object(I.a)(t)):B("No modified or new files found in the repo. All the files are either removed or not present in the repo!"),P(!0),o({type:"GIT_TRACKED_FILES",payload:t})}})).catch((function(e){return e}))}}),[t.globalRepoId,o]),r.a.createElement(r.a.Fragment,null,m&&m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex mx-auto w-full justify-center"},r.a.createElement("div",{className:"break-words p-2 py-2 bg-white border-2 border-dashed border-gray-400 text-indigo-800 w-1/4 rounded-md shadow-md overflow-auto",style:{height:"880px"}},r.a.createElement(r.a.Fragment,null,m.length>=1&&m.map((function(e){if(e&&"M"===e.split(",")[0]){var t=e.split(",")[1];return r.a.createElement("div",{className:"p-2 text-sm break-words hover:bg-indigo-100 cursor-pointer ".concat(t===C?" bg-indigo-100 border-b border-indigo-400":""),onClick:function(){S(t),function(e,t){var n=g;B("");var r=JSON.stringify(JSON.stringify({repoId:e,fileName:t}));d()({url:n,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("REPO_FILE_DIFF",'", payload:').concat(r,")\n            {\n              gitFileLineChanges{\n                diffStat\n                fileDiff\n                language\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(y.a)(E.a.mark((function e(t){var n,r,o,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.data||t.data.error){e.next=14;break}if(n=t.data.data.gitConvexApi.gitFileLineChanges,r=n.diffStat,o=n.fileDiff,s=n.language,"NO_STAT"!==r[0]&&"NO_DIFF"!==o[0]){e.next=6;break}B("No difference could be found. Please check if the file is present in the repo!"),e.next=12;break;case 6:if(h(r[1]),N(o),!s){e.next=12;break}return e.next=11,a(44)("./prism-"+s+".js").then((function(){})).catch((function(e){console.log(e),U("markdown")}));case 11:U(s);case 12:e.next=15;break;case 14:B("Error while fetching the file difference. Please try reloading the view!");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),B("Error while fetching the file difference. Please try reloading the view!")}))}(s,t)},key:t},function(e){if(e.includes("/")){var t=e.split("/"),a=t.map((function(e,a){return a===t.length-1?null:e})).join("/"),n=t[t.length-1];return r.a.createElement("div",{className:"my-4 border border-dashed border-gray-800 cursor-pointer block items-center",title:e},r.a.createElement("div",{className:"bg-gray-100 p-1 rounded"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-700 border-b"},"Directory:"),r.a.createElement("div",{className:"font-sans font-light text-gray-900 truncate"},a)),r.a.createElement("div",{className:"text-md font my-2 mx-2"},n))}return r.a.createElement("span",{className:"text-xl mx-2 border-b"},e)}(t))}return null})))),C?"":r.a.createElement("div",{className:"p-6 rounded-md bg-gray-300 shadow-md rounded-sm text-center mx-auto my-auto mt-3 block text-xl items-center text-gray-500 border-2 border-dashed font-sans"},"Click on a file to see difference information"),q?r.a.createElement("div",{className:"text-center mx-auto my-4 p-4 rounded bg-yellow-300 border-yellow-800 font-sans font-medium my-auto"},q):null,x&&"Click on a file item to see the difference"!==x&&!q?r.a.createElement("div",{className:"p-2 break-all w-3/4 mx-auto"},x?function(){if(x&&x.includes(",")){var e=x.split(",");return r.a.createElement("div",{className:"text-xl text-center w-3/4 mx-auto block p-2 border border-gray-500 rounded-md shadow-md border-dotted"},r.a.createElement("span",{className:"font-sans font-bold px-1"},e[0]),e.slice(1,e.length).map((function(e){return e.match(/insert/i)?r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-green-700 font-sans font-semibold"},"insertions (+)")):r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-red-700 font-sans font-semibold"},"deletions (-)"))})))}}():"",w&&"Click on a file item to see the difference"!==w?r.a.createElement("div",{className:"p-2 py-6 mt-6 text-left break-words overflow-scroll w-full",style:{height:"800px"}},function(){var e=[],t=0;return w&&w.join("").split(/@@.*@@/gi)&&H&&(e=w.join("|__HASH_SEPARATOR__|").split(/@@.*@@/gi)[1].split("|__HASH_SEPARATOR__|").map((function(e){return e.match(/\\ No newline at end of file/gi)?"":e[0]&&"+"===e[0]?r.a.createElement("div",{className:"flex items-center gap-4 bg-green-200 w-screen",key:"".concat(e,"-").concat(Object(A.a)())},r.a.createElement("div",{className:"w-10 px-2 text-center box-content text-green-500 font-mono border-r-1 truncate border-r-2"},++t),r.a.createElement("pre",{className:"w-5/6 mx-2"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("+",""),F.languages[H],H)}}))):e[0]&&"-"===e[0]?r.a.createElement("div",{className:"flex gap-4 items-center bg-red-200 w-screen",key:"".concat(e,"-").concat(Object(A.a)())},r.a.createElement("div",{className:"w-10 px-2 text-center box-content text-red-500 font-mono border-r-1 truncate border-r-2"},"-"),r.a.createElement("pre",{className:"w-5/6 mx-2"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e.replace("-",""),F.languages[H],H)}}))):e[0]?r.a.createElement("div",{className:"flex items-center gap-4 bg-white-200 w-screen",key:"".concat(e,"-").concat(Object(A.a)())},r.a.createElement("div",{className:"w-10 px-2 text-center box-content text-gray-300 font-mono border-r-1 truncate border-r-2"},++t),r.a.createElement("pre",{className:"w-5/6"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:F.highlight(e,F.languages[H],H)}}))):""}))),r.a.createElement("div",{className:"break-all my-6 mx-auto"},r.a.createElement("code",null,e))}()):""):"")):r.a.createElement(r.a.Fragment,null,_?r.a.createElement("div",{className:"shadow-md mx-auto w-3/4 my-4 p-2 border-b-4 border-dashed border-pink-300 rounded-md mx-auto text-center font-sans font-semibold text-xl"},"No File changes in the repo"):r.a.createElement("div",{className:"mx-auto w-3/4 my-4 p-2 border-b-4 border-dashed border-pink-300 rounded-md mx-auto text-center font-sans font-semibold text-xl"},r.a.createElement("span",{className:"text-gray-400"},"Fetching changed files from the server..."))))}function P(e){var t=e.repoId,a=Object(n.useState)(!0),o=Object(i.a)(a,2),s=o[0],l=o[1],c=Object(n.useState)([]),m=Object(i.a)(c,2),u=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useState)(!1),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)(!1),N=Object(i.a)(w,2),O=N[0],k=N[1],C=Object(n.useRef)();return Object(n.useEffect)((function(){l(!0);var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(t,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;l(!1),t&&t.length>0&&p(Object(I.a)(t))})).catch((function(e){l(!1)})),function(){a.cancel()}}),[e]),r.a.createElement("div",{className:"w-3/4 mx-auto my-auto bg-gray-200 p-6 rounded-md"},u&&u.length>0?function(){if(u&&u.length>0){var e=u.length;return r.a.createElement(r.a.Fragment,null,x?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-200 text-green-800 rounded-md shadow text-xl font-sans font-semibold text-center border-b-4 border-dashed border-green-300"},"All changes are committed!"):r.a.createElement("div",{className:"p-3 mx-auto w-5/6 block justify-center"},r.a.createElement("div",{className:"text-2xl my-2 font-sans font-semibold"},e," Changes to commit..."),r.a.createElement("div",{className:"overflow-auto",style:{height:"300px"}},u.map((function(e){return r.a.createElement("div",{className:"m-1 mx-auto w-11/12 break-all border-b text-left font-sans text-gray-700",key:e},e)}))),r.a.createElement("div",{className:"text-xl my-4"},"Commit Message"),r.a.createElement("textarea",{className:"p-2 rounded-md shadow-md text-gray-900 font-sans w-full outline-none",placeholder:"Enter commit message",cols:"20",rows:"5",ref:C}),E?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Commit Failed!"):null,O?r.a.createElement("div",{className:"my-4 p-2 text-center mx-auto text-xl bg-gray-400 hover:bg-gray-700 rounded shadow w-full cursor-pointer text-white"},"Committing Changes..."):r.a.createElement("div",{className:"my-4 p-2 text-center mx-auto text-xl bg-green-400 hover:bg-green-700 rounded shadow w-full cursor-pointer text-white",onClick:function(e){var a=C.current.value;a?function(e){k(!0),(e=e.replace(/"/gi,'\\"')).split("\n")&&e.split("\n").length>0&&(e=e.toString().split("\n").join("||")),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            commitChanges(repoId: "'.concat(t,'", commitMessage: "').concat(e,'")\n          }\n        ')}}).then((function(e){k(!1),e.data.data&&!e.data.error&&"COMMIT_DONE"===e.data.data.commitChanges?h(!0):y(!0)})).catch((function(e){k(!1),y(!0)}))}(a):alert("Commit message can't be empty")}},"Commit Changes")))}}():r.a.createElement("div",{className:"bg-orange-200 border-b-4 border-orange-400 border-dashed rounded-lg shadow-md p-6 text-3xl font-sans text-center font-light text-orange-700"},s?r.a.createElement("span",null,"Loading staged files to commit..."):0===u.length?r.a.createElement("span",null,"No Staged files to commit"):r.a.createElement("span",null,"Loading...")))}function L(e){var t=e.repoId,a=Object(n.useState)(),o=Object(i.a)(a,2),s=o[0],l=o[1],c=Object(n.useState)(!1),m=Object(i.a)(c,2),u=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useState)([]),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)(!1),O=Object(i.a)(w,2),k=O[0],C=O[1],S=Object(n.useState)(!1),T=Object(i.a)(S,2),R=T[0],F=T[1],A=Object(n.useState)(!1),_=Object(i.a)(A,2),P=_[0],L=_[1],D=Object(n.useState)(!1),q=Object(i.a)(D,2),B=q[0],M=q[1],G=Object(n.useRef)(),H=Object(n.useRef)();function U(e){var t=e.split("||");return r.a.createElement("div",{className:"block justify-evenly border shadow rounded p-2"},["Commit Hash","Commit Author","Commit Timestamp","Commit Message"].map((function(e,a){return n=e,o=t[a],r.a.createElement("div",{className:"flex justify-evenly",key:n},r.a.createElement("div",{className:"font-sans text-gray-900 font-bold mx-2 w-1/4 break-words"},n),r.a.createElement("div",{className:"font-sans text-gray-800 mx-2 w-1/2 break-words"},o));var n,o})))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;l(t)})).catch((function(e){console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,R?r.a.createElement("div",{className:"w-1/2 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-200 text-green-800 rounded-md shadow text-xl font-sans font-semibold text-center border-b-4 border-dashed border-green-300"},"Changes have been pushed to remote")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded shadow bg-white block"},r.a.createElement("div",{className:"m-3 text-2xl font-sans text-ghray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){p(!0)},ref:G,disabled:!s},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},s?"Select the remote repo":"Loading available remotes..."),s?function(){if(s){var e=s.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),u?r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){h(!0),function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_UNPUSHED_COMMITS",'", payload: ').concat(t,"){\n              gitUnpushedCommits{\n                commits\n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitUnpushedCommits.commits;0===t.length&&C(!0),y(Object(I.a)(t))}})).catch((function(e){console.log(e)}))}()},ref:H},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),s?function(){if(s)return s.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,E&&E.length>0?r.a.createElement("div",{className:"my-2 p-3 rounded bg-gray-300 shadow-md border-gray-100"},r.a.createElement("div",{className:"my-2 font-sans text-2xl font-semibold"},"Commits to be pushed"),r.a.createElement("div",{className:"overflow-auto",style:{height:"200px"}},E.map((function(e,t){return r.a.createElement("div",{key:"unpushed-commit-".concat(t),className:"my-2 border-b-2 block justify-evenly mx-auto"},U(e))})))):r.a.createElement("div",null),P?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-2 mx-auto my-2 p-3 bg-red-200 text-red-800 rounded-md shadow text-xl font-sans font-semibold text-center border-b-4 border-dashed border-red-300"},"Failed to push changes!")):null,u&&x&&E.length>0&&!B?r.a.createElement("div",{className:"my-4 text-center bg-indigo-400 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-indigo-600 cursor-pointer",onClick:function(){var e,a,n=G.current.value.trim(),r=H.current.value.trim();n&&r&&(e=n,a=r,M(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            pushToRemote(repoId: "'.concat(t,'", remoteHost: "').concat(e,'", branch: "').concat(a,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error&&"PUSH_FAILED"!==e.data.data.pushToRemote?(F(!0),M(!1)):(L(!0),M(!1))})).catch((function(e){L(!0),M(!1)})))}},"Push changes"):r.a.createElement(r.a.Fragment,null,k?r.a.createElement("div",{className:"my-4 text-center bg-gray-500 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-gray-600 cursor-pointer"},"No Commits to Push"):null),r.a.createElement(r.a.Fragment,null,B?r.a.createElement("div",{className:"my-4 text-center border-2 border-dashed border-green-600 rounded shadow text-green-700 bg-green-100 rounded shadow text-white text-xl font-light font-sans p-2 mx-auto cursor-pointer"},r.a.createElement("div",null,"Pushing to remote..."),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:B}))):null))))}function D(e){var t=e.stageComponents,a=e.repoId,o=Object(n.useState)(!1),s=Object(i.a)(o,2),l=s[0],c=s[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),p=u[0],f=u[1],b=Object(n.useState)(!1),x=Object(i.a)(b,2),h=x[0],v=x[1];return Object(n.useEffect)((function(){}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-5/6 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement(r.a.Fragment,null,t.length>0&&!l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-5 font-sans text-2xl font-sans font-bold"},"All these changes will be staged:"),r.a.createElement("div",{className:"overflow-y-auto",style:{height:"400px"}},t&&t.map((function(e){return r.a.createElement("div",{className:"p-1 font-sans text-lg mx-4 border-b w-11/12 break-words",key:e},e)}))),h?r.a.createElement("div",{className:"my-2 mx-auto text-center p-2 rounded shadow bg-red-200 border-red-400 text-red-800"},"Staging Failed!"):null,p?r.a.createElement("div",{className:"mx-auto my-4 text-center bg-gray-600 text-xl p-3 rounded-md shadow-md font-sans text-white hover:bg-gray-400 cursor-pointer"},"Staging in prgoress..."):r.a.createElement("div",{className:"mx-auto my-4 text-center bg-green-600 text-xl p-3 rounded-md shadow-md font-sans text-white hover:bg-green-400 cursor-pointer",onClick:function(){f(!0),d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageAllItems(repoId: "'.concat(a,'")\n          }\n        ')}}).then((function(e){f(!1),e.data.data&&!e.data.error&&"ALL_STAGED"===e.data.data.stageAllItems&&c(!0)})).catch((function(e){console.log(e),f(!1),v(!0)}))}},"Confirm Staging")):r.a.createElement("div",{className:"bg-white p-6 font-sans text-3xl font-light text-gray-500 border-b-4 border-dashed rounded-lg shadow-lg border-gray-500 text-center"},"No Changes for staging..."),l?r.a.createElement("div",{className:"mx-auto my-2 p-3 bg-green-200 text-green-800 rounded-md shadow text-xl font-sans font-semibold text-center border-b-4 border-dashed border-green-300"},"All changes Staged!"):null)))}function q(e){f.b.add(k.a);var t=e.repoId,a=e.stateChange,o=Object(n.useState)([]),s=Object(i.a)(o,2),l=s[0],c=s[1],m=Object(n.useState)([]),u=Object(i.a)(m,2),p=u[0],b=u[1],x=Object(n.useState)(""),h=Object(i.a)(x,2),v=h[0],j=h[1],E=Object(n.useState)([]),y=Object(i.a)(E,2),w=y[0],N=y[1],O=Object(n.useState)(0),C=Object(i.a)(O,2),S=C[0],T=C[1],R=Object(n.useState)(""),F=Object(i.a)(R,2),A=F[0],_=F[1],q=Object(n.useState)([]),B=Object(i.a)(q,2),M=B[0],G=B[1],H=Object(n.useState)(!1),U=Object(i.a)(H,2),J=U[0],V=U[1],z=Object(n.useState)(!1),K=Object(i.a)(z,2),Y=K[0],W=K[1];Object(n.useEffect)((function(){W(!0),G([]),_("");var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(t,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                  gitStagedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.gitChanges;c(Object(I.a)(t.gitChangedFiles)),b(Object(I.a)(t.gitUntrackedFiles));var a=Object(I.a)(t.gitChangedFiles),n=Object(I.a)(t.gitUntrackedFiles),r=[];a&&a.forEach((function(e){if(e.split(",").length>0){var t=e.split(",")[1];r.push(t)}})),n&&n.forEach((function(e){e&&((e=e.replace("NO_DIR","")).split(",")?r.push(e.split(",").join("")):r.push(e))})),N([].concat(r)),W(!1)}})).catch((function(e){W(!1)})),function(){a.cancel()}}),[e,S,A]),Object(n.useEffect)((function(){var t=d.a.CancelToken.source(),a=JSON.stringify(JSON.stringify({repoId:e.repoId}));return d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:t.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(a,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;t&&t.length>0&&G(Object(I.a)(t))})).catch((function(e){})),function(){return t.cancel()}}),[w,e.repoId,S]);function Z(){var e=[],a=function(e){return"M"===e?r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-yellow-700 border border-yellow-500 rounded-md shadow-sm"},"Modified"):"D"===e?r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-red-700 border bg-red-200 border-red-500 rounded-md shadow-sm"},"Removed"):r.a.createElement("div",{className:"p-1 mx-auto text-center w-2/3 text-indigo-700 border border-indigo-500 rounded-md shadow-sm"},"Untracked")},n=function(e){return r.a.createElement("div",{className:"p-1 mx-auto cursor-pointer bg-green-300 text-white w-2/3 rounded-md shadow-sm hover:shadow-md hover:bg-green-600",onClick:function(a){!function(e,a){var n=S+1;a.target.innerHTML="Staging...",a.target.style.backgroundColor="gray",a.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n          }\n        ')}}).then((function(t){T(n),t.data.data&&!t.data.error&&"ADD_ITEM_SUCCES"===t.data.data.stageItem&&_(e)})).catch((function(e){console.log(e),T(n)}))}(e,a),V(!1)},key:"add-btn-".concat(e)},"Add")};return l&&l.forEach((function(t){if(t.split(",").length>0){var r=t.split(",")[1];e.push([r,a(t.split(",")[0]),n(r)])}})),p&&p.forEach((function(t){t&&((t=t.replace("NO_DIR","")).split(",")?e.push([t.split(",").join(""),a("N"),n(t.split(",").join(""))]):e.push([t,a("N"),n(t)]))})),e}return r.a.createElement(r.a.Fragment,null,v?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"operation-backdrop",style:{background:"rgba(0,0,0,0.6)"},onClick:function(e){"operation-backdrop"===e.target.id&&(j(""),T(S+1),G([]),c([]),b([]),N([]))}},function(e){switch(e){case"stage":return w&&w.length>0?r.a.createElement(D,{repoId:t,stageComponents:w}):r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"bg-white p-6 font-sans text-3xl font-light text-gray-500 border-b-4 border-dashed rounded-lg shadow-lg border-gray-500 text-center"},"No Changes for staging..."));case"commit":return r.a.createElement(P,{repoId:t});case"push":return r.a.createElement(L,{repoId:t});default:return null}}(v),r.a.createElement("div",{className:"float-right fixed right-0 top-0 font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){j("")}},"X")):null,r.a.createElement("div",{className:"my-2 flex mx-auto p-3 justify-around"},[{label:"Stage all changes",color:"blue",key:"stage"},{label:"Commit Changes",color:"green",key:"commit"},{label:"Push to remote",color:"pink",key:"push"}].map((function(e){var t=e.label,a=e.color,n=e.key;return r.a.createElement("div",{className:"my-auto align-middle item-center w-1/4 text-center p-2 rounded-md bg-0 border border-".concat(a,"-500 text-").concat(a,"-700 font-sans cursor-pointer hover:bg-").concat(a,"-500 hover:text-white"),key:n,onClick:function(){return j(n)}},t)}))),Z()&&Z().length>0?r.a.createElement("div",{className:"p-2 mx-auto rounded shadow border"},r.a.createElement("div",{className:"table-header flex justify-between w-full bg-orange-300 p-3 text-xl font-sans"},["Changes","File Status","Action"].map((function(e,t){return r.a.createElement("div",{key:e,className:"font-bold text-center border-r border-gray-200 ".concat(0===t?"w-3/4":"w-1/4")},e)}))),r.a.createElement("div",{className:"block table-rows w-full overflow-auto",style:{height:"400px"}},r.a.createElement("div",null,Z()&&Z().map((function(e,t){return r.a.createElement("div",{className:"flex font-sans p-3 border-b-2 border-b border-gray-300",key:"tableItem-".concat(t)},e.map((function(e,t){return r.a.createElement("div",{key:"".concat(e,"-").concat(t),className:"break-all items-center align-middle my-auto ".concat(0===t?"w-3/4 text-left":"w-1/4 text-center")},e)})))}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-4 mx-auto my-10 bg-white text-3xl text-red-500 font-sans font-light text-center rounded shadow-lg border-b-4 border-red-300 border-dashed"},Y?r.a.createElement("span",{className:"text-gray-600"},"Fetching results..."):r.a.createElement("span",null,"No files changes found in the repo."))),r.a.createElement(r.a.Fragment,null,M?function(){if(M&&M.length>0)return r.a.createElement("div",{className:"w-full mx-auto my-20 p-2 border border-gray-200 rounded"},r.a.createElement("div",{className:"flex items-center align-middle my-4"},r.a.createElement("div",{className:"text-5xl font-sans text-gray-800 mx-4"},"Staged Files"),r.a.createElement("div",{className:"p-2 rounded text-white bg-red-700 text-xl rounded shadow cursor-pointer hover:bg-red-800",onClick:function(e){!function(e){var n=S+1;G(),a(),e.target.innerHTML="Removing...",e.target.style.backgroundColor="gray",e.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeAllStagedItem(repoId: "'.concat(t,'")\n            }\n          ')}}).then((function(e){T(n+1),e.data.data&&!e.data.error&&"STAGE_ALL_REMOVE_SUCCESS"===e.data.data.removeAllStagedItem&&G([])})).catch((function(e){console.log(e),T(n+1)}))}(e),V(!1)}},"Remove All Items")),J?r.a.createElement("div",{className:"my-4 mx-auto text-center shadow-md rounded p-4 border border-red-200 text-red-400 font-sans font-semibold"},"Remove item failed. Note that deleted files cannot be removed as a single entity. Use",r.a.createElement("i",{className:"border-b border-gray-600 border-dashed mx-2"},"Remove All Items"),"to perform a complete git reset"):null,r.a.createElement("div",{className:"flex mx-auto p-2 text-center font-sans text-lg text-white bg-indigo-400 rounded"},r.a.createElement("div",{className:"w-3/4"},"Staged File"),r.a.createElement("div",{className:"w-1/2"},"Action")),r.a.createElement("div",{className:"block mx-auto overflow-auto",style:{height:"450px"}},M.map((function(e){return e?r.a.createElement("div",{className:"flex mx-auto my-4 border-b my-auto items-center align-middle py-4",key:e},r.a.createElement("div",{className:"w-3/4 break-all mx-4 text-xl text-gray-800 font-sans"},e),r.a.createElement("div",{className:"w-1/2 mx-auto"},r.a.createElement("div",{className:"mx-auto w-1/2 text-white cursor-pointer break-all text-center p-2 rounded bg-red-500 shadow hover:bg-red-600 hover:shadow-md",onClick:function(n){!function(e,n){var r=S+1;a(),n.target.innerHTML="removing...",n.target.style.backgroundColor="gray",n.target.disabled=!0,d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeStagedItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n            }\n          ')}}).then((function(t){if(T(r),t.data.data&&!t.data.error)if("STAGE_REMOVE_SUCCESS"===t.data.data.removeStagedItem){var a=M;a=a.filter((function(t){return t!==e})),G(Object(I.a)(a))}else V(!0)})).catch((function(e){console.log(e),T(r),V(!0)}))}(e,n),V(!1)},key:"remove-btn-".concat(e)},"Remove"))):null}))))}():null))}function B(e){f.b.add(k.a);var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)([]),c=Object(i.a)(l,2),m=c[0],p=c[1],b=Object(n.useState)("File View"),x=Object(i.a)(b,2),v=x[0],j=x[1],E=["File View","Git Difference","Git Operations"],y=Object(n.useState)(!1),w=Object(i.a)(y,2),N=w[0],O=w[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),T=S[0],R=S[1],F=Object(n.useState)(!1),A=Object(i.a)(F,2),P=A[0],L=A[1],D=Object(n.useContext)(u).dispatch,B=function(){R(!0)},M=Object(n.useMemo)((function(){return r.a.createElement(_,{repoId:e.repoId})}),[e]),G=Object(n.useMemo)((function(){return r.a.createElement(q,{repoId:e.repoId,stateChange:B})}),[e]);return Object(n.useEffect)((function(){var t=g;R(!1),L(!0),O(!1);var a=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(a,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                  gitStagedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges,a=t.gitChangedFiles,n=t.gitUntrackedFiles,r=t.gitStagedFiles;(a||n)&&(a.length>0||n.length>0)?(s(Object(I.a)(a)),p(Object(I.a)(n)),O(!1),L(!1),D({type:"GIT_TRACKED_FILES",payload:a}),D({type:"GIT_ACTION_TRACKED_FILES",payload:Object(I.a)(a)}),D({type:"GIT_ACTION_UNTRACKED_FILES",payload:Object(I.a)(n)})):0===r.length&&(O(!0),L(!1))}})).catch((function(e){console.log(e),O(!0)}))}),[e,D,v,T]),r.a.createElement(r.a.Fragment,null,N?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"},G),r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-pink-200 text-xl text-pink-600"},"No changes found in the selected git repo"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(h.a,{icon:["fab","creative-commons-zero"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block text-6xl text-gray-200 mx-auto text-center align-middle"},'"0" changes in repo'))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 mx-auto w-11/12 justify-around font-sans font-semibold rounded-sm shadow-md cursor-pointer"},E.map((function(e){var t="w-full py-3 px-1 text-center border-r border-blue-400 ";return t+=e===v?"bg-blue-100 text-blue-800 border-b border-blue-700":"bg-blue-600 text-white",r.a.createElement("div",{className:"w-full py-3 px-1 text-center border-r border-blue-400 hover:bg-blue-200 hover:text-blue-900 ".concat(t),key:e,onClick:function(t){j(e)}},e)})))),r.a.createElement("div",{className:"w-11/12 block mx-auto my-6"}," ",function(){switch(v){case"File View":if(!N)return r.a.createElement("div",{className:"shadow-sm rounded-sm my-2 block justify-center mx-auto border border-gray-300"},o?function(){var e=[],t=[];return o&&o.length>0?(o.forEach((function(a,n){var o=a.split(","),s=o[0],i=o[1],l="p-1 ";switch(s){case"M":l+="text-yellow-900 bg-yellow-200",t.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:i},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},i),r.a.createElement("div",{className:"rounded-lg shadow-sm border border-gray-300 p-2 text-center w-1/6 my-auto"},"Modified")));break;case"D":l+="text-red-900 bg-red-200",e.push(r.a.createElement("div",{className:"flex mx-auto justify-between",key:i},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},i),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6 my-auto"},"Deleted")));break;default:l+="text-indigo-900 bg-indigo-200"}})),r.a.createElement(r.a.Fragment,null,t," ",e)):r.a.createElement("div",{className:"mx-auto w-3/4 my-4 p-2 border-b-4 border-dashed border-pink-300 rounded-md mx-auto text-center font-sans font-semibold text-xl"},P?r.a.createElement("span",{className:"text-gray-400"},"Fetching results from the server..."):r.a.createElement("span",null,"No changes in the repo!"))}():r.a.createElement("div",{className:"rounded-lg shadow-md text-center p-4 font-sans"},"Getting file based status..."),m?m.map((function(e){var t=e.split(",");return t?("NO_DIR"===t[0]?"":t[0])+t[1]:""})).filter((function(e){return!!e})).map((function(e,t){return r.a.createElement("div",{className:"flex",key:"".concat(e,"-").concat(t)},r.a.createElement("div",{className:"bg-indigo-100 text-indigo-800 flex p-2 block w-11/12 break-all"},e),r.a.createElement("div",{className:"rounded-sm shadow-sm border border-gray-300 p-2 text-center w-1/6 text-sm my-auto"},"New / Untracked"))})):null);break;case"Git Difference":if(!N)return M;break;case"Git Operations":return G;default:return r.a.createElement("div",{className:"text-xl text-center"}," Invalid Menu Selector! ")}}()," ")))}function M(){f.b.add(x.a);var e=Object(n.useContext)(u),t=e.state,a=e.dispatch,o=t.presentRepo,s=Object(n.useState)(!1),l=Object(i.a)(s,2),c=l[0],m=l[1],p=Object(n.useState)({}),b=Object(i.a)(p,2),v=b[0],j=b[1],w=Object(n.useState)([]),N=Object(i.a)(w,2),O=N[0],k=N[1],C=Object(n.useState)(""),S=Object(i.a)(C,2),T=S[0],R=S[1],F=Object(n.useState)({gitBranchList:"",gitCurrentBranch:"",gitTotalCommits:0,gitTotalTrackedFiles:0}),A=Object(i.a)(F,2),_=A[0],P=A[1],L=Object(n.useState)(!1),D=Object(i.a)(L,2),q=D[0],M=D[1],G=Object(n.useMemo)((function(){if(v&&v.id)return r.a.createElement(B,{repoId:v.id})}),[v]);function H(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex p-2 border-b-2 border-indigo-400 border-dashed justify-between mx-2 font-sans text-lg text-gray-700"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(h.a,{icon:["fas",e]})),r.a.createElement("div",{className:"mx-2"},t)))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();function t(){var t=v&&v.id;if(t){var a=JSON.stringify(JSON.stringify({repoId:t}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},cancelToken:e.token,data:{query:'\n              query GitConvexApi\n              {\n                gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                  gitRepoStatus {\n                    gitBranchList\n                    gitCurrentBranch\n                    gitTotalCommits\n                    gitTotalTrackedFiles \n                  }\n                }\n              }\n            ")}}).then((function(e){P(e.data.data.gitConvexApi.gitRepoStatus),R(e.data.data.gitConvexApi.gitRepoStatus.gitCurrentBranch)})).catch((function(e){e&&console.log("API GitStatus error occurred : "+e)}))}}function n(){return(n=Object(y.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n                  fetchRepo{\n                    repoId\n                    repoName\n                    repoPath\n                  }\n                }\n              }\n          ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var n=t.repoId.map((function(e,a){return{id:t.repoId[a],repoName:t.repoName[a],repoPath:t.repoPath[a]}}));return a({type:"PRESENT_REPO",payload:Object(I.a)(n)}),j(n[0]),k(n),n}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return o&&o[0]?(k(o[0]),t()):(!function(){n.apply(this,arguments)}(),t()),function(){e.cancel()}}),[v,T,o,a,q]),r.a.createElement("div",{className:"w-full mx-auto block justify-center overflow-x-hidden"},O?r.a.createElement("div",null,r.a.createElement("div",{className:"mx-auto my-6 w-11/12 rounded shadow border border-gray-200"},r.a.createElement("div",{className:"flex justify-around mx-auto align-middle items-around my-4"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1"},"Choose saved repository"),r.a.createElement("select",{className:"p-2 bg-green-100 text-green-700 rounded-lg shadow mx-4 font-sans font-light text-xl outline-none border-dashed border-b-2 border-green-400",defaultValue:"checked",onChange:function(e){m(!0),O.length&&O.forEach((function(t){e.target.value===t.repoName&&(j(t),a({type:"GIT_GLOBAL_REPOID",payload:t.id}))}))}},r.a.createElement("option",{defaultChecked:!0,value:"checked",hidden:!0,disabled:!0},"Select a repo"),O.length&&O.map((function(e){return r.a.createElement("option",{value:e.repoName,key:e.repoName},e.repoName)})))),c?r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"font-sans font-semibold text-gray-900 my-1"},"Branch"),r.a.createElement("select",{className:"p-2 bg-indigo-100 text-indigo-700 rounded-lg shadow mx-4 font-sans font-light text-xl outline-none border-dashed border-b-2 border-indigo-400",value:T,disabled:!T,onChange:function(e){e.persist(),R(""),function(e,t){d()({url:g,method:"POST",data:{query:'\n          mutation{\n            setBranch(repoId: "'.concat(v.id,'", branch: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&R(e)})).catch((function(e){e&&(M(!0),t.target.selectedIndex=0)}))}(e.target.value,e)},onClick:function(){M(!1)}},function(){if(_&&_.gitBranchList)return _.gitBranchList.map((function(e,t){return"NO_BRANCH"!==e?r.a.createElement("option",{key:e,value:e},e):null}))}())):null),_&&c?r.a.createElement("div",{className:"my-auto flex justify-around p-3 mx-auto"},H("code-branch",_.gitBranchList&&_.gitBranchList.length>0&&!_.gitBranchList[0].match(/NO_BRANCH/gi)?r.a.createElement(r.a.Fragment,null,1===_.gitBranchList.length?"1 branch":_.gitBranchList.length+" branches"):"No Branches"),H("sort-amount-up",_.gitTotalCommits+" Commits"),H("archive",_.gitTotalTrackedFiles+" Tracked Files")):null),c?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mt-10 w-11/12 rounded-sm shadow-sm h-full my-auto bock mx-auto text-center align-middle p-6 bg-orange-200 text-xl text-orange-900"},"Select a configured repo from the dropdown to perform git related operations"),r.a.createElement("div",{className:"p-6 rounded-lg border-2 border-gray-100 w-3/4 block mx-auto my-20"},r.a.createElement("div",null,r.a.createElement(h.a,{icon:["fas","mouse-pointer"],className:"flex text-6xl mt-20 text-center text-gray-300 font-bold mx-auto my-auto h-full w-full"})),r.a.createElement("div",{className:"block xl:text-6xl lg:text-3xl md:text-2xl my-4 text-gray-200 mx-auto text-center align-middle"},"No repositories selected"))),r.a.createElement("div",null,q?r.a.createElement("div",{className:"p-2 rounded my-2 mx-auto text-center font-sand bg-red-200 text-red-800"},"Branch switching failed.Commit your changes and try again"):null,_&&c&&v.id?G:null)):null)}function G(e){return r.a.createElement("div",{className:"flex mx-auto my-auto w-1/2 h-full bg-white"},r.a.createElement("div",{className:"flex w-full mx-auto my-auto justify-center"},r.a.createElement("div",{className:"block justify-center w-full h-full mx-auto my-auto"},r.a.createElement("div",{className:"p-6 my-auto mx-auto font-sans font-light text-3xl shadow-lg rounded-lg border-b-4 border-dashed border-gray-300 text-center"},e.message),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:e.loading})))))}function H(e){var t=Object(n.useState)(""),o=Object(i.a)(t,2),s=o[0],l=o[1],c=Object(n.useState)(0),m=Object(i.a)(c,2),u=m[0],p=m[1],f=Object(n.useState)(""),b=Object(i.a)(f,2),x=b[0],h=b[1],v=Object(n.useState)(""),j=Object(i.a)(v,2),w=j[0],N=j[1],O=Object(n.useState)([]),k=Object(i.a)(O,2),C=k[0],S=k[1],T=Object(n.useState)([]),R=Object(i.a)(T,2),A=R[0],_=R[1],P=Object(n.useState)(!1),L=Object(i.a)(P,2),D=L[0],q=L[1],B=e.repoId,M=e.fileItem;function G(e,t,a){var n="bg-".concat(a,"-100"),o="text-".concat(a,"-500");return r.a.createElement("div",{className:"flex justify-between w-1/2 gap-10 items-center align-middle"},r.a.createElement("div",{className:"text-center w-1/4 font-light font-sans text-xl border-b-4 border-dashed text-gray-700"},e),r.a.createElement("div",{className:'"w-11/12 mx-auto rounded p-2 text-center '.concat(n," ").concat(o," ").concat(t.length>10?"text-sm":"",' font-semibold"')},t))}return Object(n.useEffect)((function(){var e=JSON.stringify(JSON.stringify({repoId:B,fileItem:M}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("CODE_FILE_VIEW",'", payload:').concat(e,")\n            {\n              codeFileDetails{\n                language\n                fileCommit\n                fileData\n                prism\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(y.a)(E.a.mark((function e(t){var n,r,o,s,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.data){e.next=10;break}if(n=t.data.data.gitConvexApi.codeFileDetails,r=n.language,o=n.fileCommit,s=n.fileData,i=n.prism,0===s.length&&q(!0),l(r),h(o),p(s.length),_(s),!i){e.next=10;break}return e.next=10,a(44)("./prism-"+i+".js").then((function(){N(i);var e=s.map((function(e){return F.highlight(e,F.languages[i],i)}));S(Object(I.a)(e))})).catch((function(e){console.log(e),N("markdown")}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){q(!0)}))}),[B,M]),r.a.createElement("div",{className:"p-6 rounded-md shadow-sm flex justify-center mx-auto my-auto mb-6 w-full h-full"},D?r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded bg-red-200 text-red-600 font-sans text-2xl font-light text-center border-b-8 border-red-400 border-dashed"},s||D?"File cannot be opened!":"Loading..."):r.a.createElement("div",{className:"mx-auto mb-4 w-11/12 h-auto p-6"},r.a.createElement("div",{className:"bg-white p-4 rounded-lg shadow block"},r.a.createElement("div",{className:"flex w-11/12 mx-auto justify-between gap-4"},s?G("Language",s,"pink"):null,u?G("Lines",u,"orange"):null),x?r.a.createElement("div",{className:"block mx-auto my-10 w-11/12"},r.a.createElement("div",{className:"flex gap-8 items-center align-middle"},r.a.createElement("div",{className:"text-center w-1/6 font-light font-sans text-xl border-b-4 border-dashed text-gray-700"},"Latest Commit"),r.a.createElement("div",{className:"w-full mx-auto rounded p-2 text-center bg-indigo-100 text-indigo-500 text-sm font-semibold"},x))):null),A&&w?r.a.createElement("div",{className:"mt-10 mb-10 my-auto mx-auto bg-gray-100 mx-auto p-10 rounded shadow overflow-auto"},r.a.createElement("pre",{className:"px-10 py-10 border rounded overflow-x-auto shadow bg-gray-900 text-gray-300 selection:bg-gray-500"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:C.join("\n")}}))):null))}function U(e){f.b.add(k.a,x.a);var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],u=c[1],p=Object(n.useState)([]),b=Object(i.a)(p,2),v=b[0],j=b[1],E=Object(n.useState)([]),y=Object(i.a)(E,2),w=y[0],O=y[1],C=Object(n.useState)(""),S=Object(i.a)(C,2),T=S[0],R=S[1],F=Object(n.useState)(""),_=Object(i.a)(F,2),P=_[0],L=_[1],D=e.repoIdState,q=Object(n.useMemo)((function(){return r.a.createElement(H,{repoId:D,fileItem:T})}),[D,T]);function B(e,t){var a=t,n=e.filter((function(e,t){return!!e||(a[t]="",!1)}));a=a.filter((function(e){return e})),s(Object(I.a)(n)),j(Object(I.a)(a))}function M(e){return e.match(/.\/./gi)?e=e.split("/")[e.split("/").length-1]:e.match(/[^\\]\\[^\\]/gi)?e=e.split("\\")[e.split("\\").length-1]:e.match(/.\\\\./gi)&&(e=e.split("\\\\")[e.split("\\\\").length-1]),e}Object(n.useEffect)((function(){B(e.gitRepoFiles,e.gitFileBasedCommits)}),[e]);var G=function(e,t,a,n){if(D){s([]),j([]);var r=w;if(a){var o=r.slice(0,t);o.length>0&&(e=o.join("/")+"/"+e)}L(e);var i=JSON.stringify(JSON.stringify({repoId:D,directoryName:e}));d()({url:g,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_FOLDER_CONTENT",'", payload: ').concat(i,"){\n              gitFolderContent{\n                gitTrackedFiles\n                gitFileBasedCommit\n              }\n            }\n          }\n        ")}}).then((function(o){if(o.data.data&&!o.data.error){var s=o.data.data.gitConvexApi.gitFolderContent;if(B(s.gitTrackedFiles,s.gitFileBasedCommit),e=M(e),n)return void O([]);if(0===w.length)O([e]);else if(a&&t<w.length-1){for(var i=w.length-(t+1),l=0;l<i;l++)r.pop();O(Object(I.a)(r))}else O([].concat(Object(I.a)(w),[e]))}else console.log("ERROR: Error occurred while fetching the folder content!")})).catch((function(e){e&&console.log("ERROR: Error occurred while fetching the folder content!")}))}};return r.a.createElement(r.a.Fragment,null,m?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"code-view__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"code-view__backdrop"===e.target.id&&u(!1)}},r.a.createElement("div",{className:"fixed top-0 right-0 mx-3 font-semibold bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){u(!1)}},"X"),r.a.createElement("div",{id:"code-view-area",className:"w-full h-full block mx-auto my-auto mt-4 mb-10"},q)):null,r.a.createElement("div",null,w&&o&&"NO_TRACKED_FILES"!==o[0]?r.a.createElement("div",{className:"mx-6 p-3 font-sans flex gap-4 items-center justify-start"},r.a.createElement("div",{className:"w-1/6 text-gray-700 border-b-2 border-dashed cursor-pointer justify-center p-3 text-center rounded flex gap-4 my-auto items-center mx-6 text-xl hover:text-black hover:border-black hover:scale-110 transition duration-500 ease-in-out",onClick:function(){G("",0,!1,!0)}},r.a.createElement("div",null,r.a.createElement(h.a,{icon:["fas","home"]})),r.a.createElement("div",null,"Home"),r.a.createElement("div",{className:"text-2xl font-sans text-blue-400"},"./")),r.a.createElement("div",{className:"flex p-4 gap-4 items-center w-3/4 break-words overflow-x-auto",id:"repoFolderNavigator"},w.map((function(e,t){return r.a.createElement("div",{className:"flex gap-2 justify-start items-center",key:e+"-"+t},r.a.createElement("div",{className:"".concat(t!==w.length-1?"text-blue-600 font-semibold hover:underline hover:text-blue-700 cursor-pointer":""," text-xl"),onClick:function(){t!==w.length-1&&G(e,t,!0)}},e),r.a.createElement("div",null,"/"))})))):null,r.a.createElement("div",{className:"block w-11/12 my-6 mx-auto justify-center p-6 rounded-lg bg-white p-2 shadow-md overflow-auto border"},function(){if(o&&o.length>0&&"NO_TRACKED_FILES"!==o[0]){var e=[],t=[],a=[];return o.forEach((function(e,n){var o=e.split(":");if(o[1].includes("directory")){var s=M(o[0]);t.push(r.a.createElement("div",{className:"block w-full p-2 border-b border-gray-300",key:"directory-key-".concat(Object(A.a)())},r.a.createElement("div",{className:"flex cursor-pointer"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(h.a,{icon:["fas","folder"],className:"font-sans text-xl text-blue-600"})),r.a.createElement("div",{className:"w-2/4 text-gray-800 text-lg mx-3 font-sans hover:text-indigo-400 hover:font-semibold",onClick:function(e){G(o[0],0,!1)}},s),r.a.createElement("div",{className:"w-2/4 p-2 bg-green-200 text-green-900 truncate rounded-lg text-left mx-auto w-3/5"},v[n]?v[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))}else o[1].includes("File")&&a.push(r.a.createElement("div",{className:"block w-full p-2 border-b border-gray-300",key:"file-key-".concat(Object(A.a)())},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(h.a,{icon:["fas","file"],className:"font-sans text-xl text-gray-700"})),r.a.createElement("div",{className:"w-2/4 text-gray-800 text-lg mx-3 font-sans hover:text-indigo-400 hover:font-semibold cursor-pointer",onClick:function(){R(P+"/"+o[0]),u(!0)}},o[0]),r.a.createElement("div",{className:"w-2/4 p-2 bg-indigo-200 truncate text-indigo-900 rounded-lg text-left mx-auto w-3/5"},v[n]?v[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))})),e.push(t),e.push(a),r.a.createElement("div",{className:"block mx-auto justify-center p-2 text-blue-600 hover:text-blue-700",key:"repo-key"},r.a.createElement("div",{className:"flex justify-around w-full p-2 mx-auto pb-6 border-b border-blue-400"},r.a.createElement("div",{className:"w-1/6"}),r.a.createElement("div",{className:"w-2/4"},"File / Directory"),r.a.createElement("div",{className:"w-2/4"},"Latest commit")),e)}return o&&"NO_TRACKED_FILES"===o[0]?r.a.createElement("div",{className:"flex gap-4 w-3/4 mx-auto items-center justify-center rounded-lg text-gray-600 text-2xl text-center border-b-4 border-dashed border-gray-400 p-1"},r.a.createElement("div",null,r.a.createElement(h.a,{icon:["fas","unlink"]})),r.a.createElement("div",null,"No Tracked Files in the repo!")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex justify-center mx-auto my-2 w-3/4"},r.a.createElement("div",{className:"w-full mx-auto text-2xl text-center font-sans font-semibold text-gray-800 border-b-2 border-dashed border-gray-500 p-1"},"Loading tracked files...")),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:!o.length})))}())))}function J(e){var t=e.repoId,a=Object(n.useState)(""),o=Object(i.a)(a,2),s=o[0],l=o[1],c=Object(n.useState)(""),m=Object(i.a)(c,2),u=m[0],p=m[1],f=Object(n.useRef)();function b(){f.current.value="",l("")}return r.a.createElement("div",{className:"w-3/4 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"my-auto"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("input",{type:"text",ref:f,id:"branchName",placeholder:"Branch Name",className:"p-3 rounded bg-white text-xl text-gray-700 font-sans font-mono w-full border border-gray-200 shadow",onChange:function(e){var t=e.target.value;"branchName"===e.target.id&&t.match(/[^a-zA-Z0-9_.:^\\/]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_.:^\\/]/gi,"-")),l(e.target.value)},onClick:function(){p("")}})),r.a.createElement("div",{className:"bg-indigo-500 p-3 rounded mt-6 mx-auto text-xl font-sans text-white hover:bg-indigo-600 text-center mx-auto cursor-pointer",onClick:function(e){s?(console.log(s),d()({url:g,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              addBranch(repoId: "'.concat(t,'", branchName: "').concat(s,'")\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.addBranch;p(t),b()}else p("BRANCH_ADD_FAILED"),b()})).catch((function(e){p("BRANCH_ADD_FAILED"),b()}))):p("BRANCH_ADD_FAILED")}},"Add Branch"),"BRANCH_CREATION_SUCCESS"===u?r.a.createElement("div",{className:"w-full bg-green-200 p-1 rounded my-6 mx-auto text-md font-sans text-center mx-auto cursor-pointer"},"New branch has been added to your repo successfully"):null,"BRANCH_ADD_FAILED"===u?r.a.createElement("div",{className:"w-full bg-red-200 p-1 rounded my-6 mx-auto text-md font-sans text-center mx-auto cursor-pointer"},"New branch addition failed!"):null))}function V(e){var t=e.repoId,a=Object(n.useRef)(),o=Object(n.useRef)(),s=Object(n.useState)(!1),l=Object(i.a)(s,2),c=l[0],m=l[1],u=Object(n.useState)(""),p=Object(i.a)(u,2),f=p[0],b=p[1],x=function(e,t,n){return r.a.createElement("div",{className:"flex justify-between around my-4 align-middle items-center"},r.a.createElement("label",{htmlFor:e,className:"text-gray-700 text-lg font-sans w-1/3"},t),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{id:e,onClick:function(){m(!1),b("")},className:"w-3/4 p-3 rounded shadow-md bg-white text-gray-900 text-lg font-sans outline-none",placeholder:n,ref:"remoteName"===e?a:o,onChange:function(e){var t=e.target.value;"remoteName"===e.target.id&&t.match(/[^a-zA-Z0-9_]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_]/gi,"-"))}})))};var h=function(e,t){return r.a.createElement("div",{className:"my-6 w-1/2 text-center mx-auto p-2 rounded-lg border-".concat(e,"-900 bg-").concat(e,"-200 font-sans text-xl font-semibold border")},t)};return r.a.createElement("div",{className:"xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 mx-auto my-auto bg-gray-200 pt-6 rounded-md rounded-b-lg"},r.a.createElement("div",{className:"mx-6 my-6 text-4xl font-semibold font-sans text-gray-800"},"Enter new remote details"),r.a.createElement("div",{className:"my-4 mx-6"},x("remoteName","Enter Remote Name","Give a name for your new remote"),x("remoteUrl","Enter Remote URL","Provide the URL for your remote repo")),c?h("orange","One or more required parameters are empty!"):null,"success"===f?h("green","Remote repo has been added successfully!"):null,"failed"===f?h("red","Failed to add new repo!"):null,r.a.createElement("div",{className:"w-full mt-10 p-3 text-center rounded-b-lg text-xl cursor-pointer shadow bg-green-200 border border-green-700 hover:bg-green-600 hover:text-white",onClick:function(){!function(){var e=a.current.value,n=o.current.value;t&&e&&n?d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRemoteRepo(repoId: "'.concat(t,'", remoteName: "').concat(e,'", remoteUrl: "').concat(n,'")\n              }\n            ')}}).then((function(e){e.data.data&&!e.data.error?"REMOTE_ADD_SUCCESS"===e.data.data.addRemoteRepo?(b("success"),a.current.value="",o.current.value=""):b("failed"):b("failed")})).catch((function(e){console.log(e),b("failed")})):m(!0)}()}},"Add New Remote"))}function z(e){var t=e.repoId,a=e.currentBranch;f.b.add(x.a);var o=JSON.stringify(JSON.stringify({repoId:t})),s=Object(n.useState)([]),l=Object(i.a)(s,2),c=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(i.a)(u,2),b=p[0],v=p[1],j=Object(n.useState)(!1),E=Object(i.a)(j,2),y=E[0],w=E[1],N=Object(n.useState)(!1),O=Object(i.a)(N,2),k=O[0],C=O[1],S=Object(n.useState)(""),T=Object(i.a)(S,2),R=T[0],F=T[1],A=Object(n.useState)(""),_=Object(i.a)(A,2),P=_[0],L=_[1],D=Object(n.useState)(!1),q=Object(i.a)(D,2),B=q[0],M=q[1],G=Object(n.useState)(!1),H=Object(i.a)(G,2),U=H[0],J=H[1];function V(){v(!1),w(!1),C(!1),F(""),L(""),J(!1),M(!1)}function z(e,a){V(),d()({url:g,method:"POST",data:{query:'\n            mutation{\n              deleteBranch(repoId: "'.concat(t,'", branchName: "').concat(e,'", forceFlag: ').concat(a,"){\n                status\n              }\n            }\n          ")}}).then((function(t){t.data.data&&!t.data.error&&("BRANCH_DELETE_SUCCESS"===t.data.data.deleteBranch.status?(M(!0),F(e)):(J(!0),L(e)))})).catch((function(t){t&&(J(!0),L(e))}))}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement("div",{className:"text-center p-4 rounded bg-red-300 text-xl font-sans mt-10"},e,t?r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},P):null)}function Y(e){return r.a.createElement("div",{className:"text-center p-4 rounded bg-green-300 text-xl font-sans mt-10"},e,r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},R))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();return m([]),d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(o,"){\n              gitRepoStatus {\n                gitAllBranchList  \n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus.gitAllBranchList;m(Object(I.a)(t))}else v(!0)})).catch((function(e){e&&(console.log("API error occurred : "+e),v(!0))})),function(){return e.cancel}}),[t,o,R]),r.a.createElement("div",{className:"bg-gray-200 p-6 w-11/12 xl:w-3/4 mx-auto my-auto items-center align-middle lg:w-3/4 md:w-11/12 sm:w-11/12 rounded-md shadow"},r.a.createElement("div",{className:"font-sans mx-4 p-2 text-4xl font-semibold border-b-2 border-dashed text-gray-800"},"Available Branches"),r.a.createElement("div",{className:"flex my-auto p-3 mx-auto border-b-2 border-dashed text-red-600 border-red-800 items-center align-middle"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(h.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",{className:"font-sans font-semibold"},"Note that this section also lets you delete the branches, so be cautious!")),r.a.createElement("div",{className:"font-sans mx-4 p-2 font-light italic font-semibold border-b-2 border-dashed text-gray-500"},"Click on a branch to checkout to that branch"),r.a.createElement("div",{className:"pr-6 mx-auto w-full my-4 mx-10 overflow-auto overflow-x-hidden",style:{height:"400px"}},0===c.length?r.a.createElement("div",{className:"p-2 rounded border-gray-500 shadow text-center my-4 mx-auto font-sans font-semibold text-xl"},"Collecting branch list..."):null,!b&&c&&c.map((function(e){var n=function(e,a,n){var o="",s=!1;return n.includes("*")&&(s=!0,n=n.replace("*","")),s&&(o="border-dashed border-b-2 text-indigo-700 text-2xl"),r.a.createElement("div",{className:"flex my-2 border-b border-dashed py-4 my-auto items-center justify-center",key:a+n},r.a.createElement("div",{className:"w-1/8 mx-2 text-2xl text-blue-500 text-center"},r.a.createElement(h.a,{icon:["fas",e]})),r.a.createElement("div",{className:"w-1/3 hidden xl:block lg:block md:block sm:hidden text-lg font-sans font-semibold text-center text-indigo-500"},a),r.a.createElement("div",{className:"w-1/2 text-lg font-sans font-semibold text-left text-gray-700 hover:text-blue-700 cursor-pointer truncate ".concat(o),title:n,onClick:function(){s||function(e){V(),d()({url:g,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(e,'")\n            }\n          ')}}).then((function(t){t.data.data&&!t.data.error?(w(!0),F(e)):C(!0)})).catch((function(t){t&&(C(!0),L(e))}))}(n)}},n),s||"Local Branch"!==a?r.a.createElement(r.a.Fragment,null,s?r.a.createElement("div",{className:"w-1/4 font-sans mx-4 text-sm px-2 font-light bg-blue-200 border border-dashed border-blue-800 rounded-full p-1 my-auto items-center text-center align-middle"},"Active"):r.a.createElement("div",{className:"w-1/4 font-sans mx-4 text-sm px-2 font-light bg-orange-200 border border-dashed border-orange-800 rounded-full p-1 my-auto items-center text-center align-middle"},"Remote")):r.a.createElement("div",{className:"flex mx-4 justify-between my-auto text-center items-center align-middle w-1/4 px-2 p-1"},r.a.createElement("div",{className:"w-1/2 block mx-auto text-center my-auto justify-center cursor-pointer px-2",title:"Will delete only if the branch is clean and safe",onClick:function(){s||z(n,!1)}},r.a.createElement("div",{className:"bg-red-600 cursor-pointer rounded text-center text-white text-xl align-middle items-center hover:bg-red-700 px-2 py-1"},r.a.createElement(h.a,{icon:["fas","trash-alt"]})),r.a.createElement("div",{className:"font-light text-sm my-2 font-sans text-red-500 border-b border-dashed border-red-700"},"Normal")),r.a.createElement("div",{className:"w-1/2 block mx-auto text-center my-auto justify-center cursor-pointer px-2",title:"Will delete the branch forcefully.Be careful!",onClick:function(){s||z(n,!0)}},r.a.createElement("div",{className:"bg-red-600 cursor-pointer rounded text-center text-white text-xl align-middle items-center hover:bg-red-700 px-2 py-1"},r.a.createElement(h.a,{icon:["fas","minus-square"]})),r.a.createElement("div",{className:"font-light text-sm my-2 font-sans text-red-500 border-b border-dashed border-red-700"},"Force"))))};if((e=e.replace(/\s/gi,"")).includes("->")||e===a)return null;if(e.includes("remotes/")){var o=e.split("/");return n("wifi",o[1],o.slice(2,o.length).join("/"))}return n("code-branch","Local Branch",e)}))),b?K("Error occurred while listing branches!"):null,k?K("Error occurred while switching to",!0):null,R&&y?Y("Active branch has been switched to"):null,B?Y("Selected branch has been removed"):null,U?K("Branch deletion failed for",!0):null)}var K=a(46),Y=a.n(K),W=a(47),Z=a.n(W);function X(e){var t=e.repoId,a=e.commitHash,o=e.unmountHandler;f.b.add(b.a,x.a);var s=Object(n.useState)([]),l=Object(i.a)(s,2),c=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(i.a)(u,2),v=p[0],j=p[1];return Object(n.useEffect)((function(){j(!0);var e=d.a.CancelToken.source(),n=JSON.stringify(JSON.stringify({repoId:t,commitHash:a}));d()({url:g,method:"POST",cancelToken:e.token,data:{query:'\n                query GitConvexApi\n                {\n                    gitConvexApi(route: "'.concat("COMMIT_FILES",'", payload: ').concat(n,"){\n                        gitCommitFiles {\n                            type\n                            fileName\n                        }\n                    }\n                }\n            ")}}).then((function(e){j(!1),e.data.data&&!e.data.err&&m(Object(I.a)(e.data.data.gitConvexApi.gitCommitFiles))})).catch((function(e){console.log(e),j(!1)}))}),[t,a]),r.a.createElement("div",{className:"w-11/12 p-6 rounded-lg shadow-sm block justify-center mx-auto my-6 bg-blue-100"},r.a.createElement("div",{className:"font-sans right-0 float-right font-light cursor-pointer mx-auto text-blue-400 text-2xl my-0",style:{marginTop:"-20px"},onClick:function(){m([]),o()}},"x"),v?r.a.createElement("div",{className:"mx-4 text-2xl text-gray-700 font-sans font-light text-center"},"Fetching changed files..."):null,!v&&c?r.a.createElement("div",{className:"mx-4 text-2xl text-gray-700 font-sans font-light"},"".concat(c.length," Files changed")):null,r.a.createElement("div",{className:"block w-3/4 my-4 mx-10"},c&&c.map((function(e){var t=e.type,n=e.fileName,o="",s="";switch(t){case"M":o="plus-square",s="text-yellow-600";break;case"A":o="plus-square",s="text-green-500";break;case"D":o="minus-square",s="text-red-500";break;default:o="plus-square",s="text-gray-500"}return r.a.createElement("div",{className:"flex justify-evenly items-center my-auto align-middle",key:n+a},r.a.createElement("div",{className:"w-1/4 text-2xl ".concat(s)},r.a.createElement(h.a,{icon:["far",o]})),r.a.createElement("div",{className:"w-3/4 text-sm font-sans font-medium text-gray-700 truncate"},n))}))))}function $(e){f.b.add(k.a,x.a,b.a);var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(!1),m=Object(i.a)(c,2),u=m[0],p=m[1],v=Object(n.useState)(0),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)(0),O=Object(i.a)(w,2),C=O[0],S=O[1],T=Object(n.useState)(!1),R=Object(i.a)(T,2),F=R[0],A=R[1],_=Object(n.useState)(!1),P=Object(i.a)(_,2),L=P[0],D=P[1],q=Object(n.useState)(""),B=Object(i.a)(q,2),M=B[0],G=B[1],H=Object(n.useState)(0),U=Object(i.a)(H,2),J=U[0],V=U[1],z=Object(n.useState)(!1),K=Object(i.a)(z,2),W=K[0],$=K[1],Q=Object(n.useRef)(),ee=Object(n.useRef)(),te=Object(n.useRef)(Z()(ne,1500,{maxWait:2e3})).current,ae=["Commit Hash","Commit Message","User"];function ne(){A(!0),S(0),l([]);var t=Q.current.value,a="";switch(ee.current.value){case"Commit Hash":a="hash";break;case"Commit Message":a="message";break;case"User":a="user";break;default:a="message"}t?d()({url:g,method:"POST",data:{query:'\n            mutation{\n              searchCommitLogs(repoId:"'.concat(e.repoId,'",searchType:"').concat(a,'",searchKey:"').concat(t,'"){\n                hash\n                author\n                commitTime\n                commitMessage\n                commitRelativeTime\n                commitFilesCount\n              }\n            }\n          ')}}).then((function(e){if(e.data.data){var t=e.data.data.searchCommitLogs;t&&t.length>0?(p(!1),D(!1),l(Object(I.a)(t)),S(t.length),A(!1)):(p(!0),l([]),S(0),A(!1),$(!0))}})).catch((function(e){console.log(e),A(!1),l([])})):(V(J+1),A(!1))}function re(e){return r.a.createElement("div",{className:"p-6 rounded-md shadow-sm block justify-center mx-auto my-auto w-3/4 h-full text-center text-2xl text-indigo-500"},r.a.createElement("div",{className:"flex w-full h-full mx-auto my-auto"},r.a.createElement("div",{className:"block my-auto mx-auto bg-white w-full p-6 rounded-lg shadow"},r.a.createElement("div",{className:"text-2xl text-center font-sans font-semibold text-indigo-800 border-b-2 border-dashed border-indigo-500 p-1"},e),W?r.a.createElement("div",{className:"my-4 mx-auto rounded shadow p-4 text-center font-sans text-orange-900 font-light bg-orange-100 border-b-4  border-dashed border-orange-300 text-md"},"If you are looking for some newly added commits or if this is a freshly added repo, then please wait for a few minutes and search again"):null,F?r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:F})):null)))}return Object(n.useEffect)((function(){A(!0),$(!1);var t=JSON.stringify(JSON.stringify({repoId:e.repoId,skipLimit:0}));d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n              gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(t,"){\n                  gitCommitLogs {\n                      totalCommits\n                      commits{\n                          commitTime\n                          hash\n                          author\n                          commitMessage\n                          commitRelativeTime\n                          commitFilesCount\n                      }  \n                  }\n              }\n          }\n          ")}}).then((function(e){if(A(!1),e.data.data){var t=e.data.data.gitConvexApi.gitCommitLogs,a=t.commits,n=t.totalCommits;D(!(n<=10)),S(n),a&&a.length>0?l(Object(I.a)(a)):p(!0)}})).catch((function(e){A(!1),e&&(p(!0),console.log(e))}))}),[e,J]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-4 w-full rounded-lg bg-white shadow-inner flex gap-4 justify-between items-center"},r.a.createElement("select",{defaultValue:"default-search",id:"searchOption",ref:ee,className:"w-1/4 flex p-4 items-center bg-indigo-500 text-white cursor-pointer rounded-l-md text-lg font-sans font-semibold outline-none"},r.a.createElement("option",{value:"default-search",hidden:!0,disabled:!0},"Search for..."),ae.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"w-3/4 rounded-r-md"},r.a.createElement("input",{ref:Q,type:"text",className:"w-5/6 outline-none text-lg font-light font-sans",placeholder:"What are you looking for?",value:M,onChange:function(e){G(e.target.value),te()}})),r.a.createElement("div",{className:"w-20 bg-gray-200 p-3 mx-auto my-auto text-center rounded-r-lg hover:bg-gray-400 cursor-pointer",onClick:function(){ne()}},r.a.createElement(h.a,{icon:["fas","search"],className:"text-3xl text-gray-600"}))),!u&&o&&C||F?null:re("No Commit Logs found"),o&&o.map((function(t){var a=t.hash,n=t.author,o=t.commitTime,i=t.commitMessage,l=t.commitRelativeTime,c=t.commitFilesCount,m=Y()(new Date(o)).format("MMM DD, YYYY");return r.a.createElement("div",{id:"commitLogCard-".concat(a),className:"p-6 pb-6 rounded-lg shadow-sm block justify-center mx-auto my-4 bg-white w-full border-b-8 border-indigo-400",key:a},r.a.createElement("div",{className:"flex justify-between text-indigo-500"},r.a.createElement("div",{className:"text-2xl font-sans mx-auto"},r.a.createElement(h.a,{icon:["fas","calendar-alt"]}),r.a.createElement("span",{className:"mx-2 border-b-2 border-dashed"},m)),r.a.createElement("div",{className:"p-1 h-auto border-r"}),r.a.createElement("div",{className:"text-2xl font-sans mx-auto"},r.a.createElement(h.a,{icon:["fab","slack-hash"]}),r.a.createElement("span",{className:"mx-2 border-b-2 border-dashed"},a)),r.a.createElement("div",{className:"p-1 h-auto border-r"}),r.a.createElement("div",{className:"text-2xl font-sans mx-auto"},r.a.createElement(h.a,{icon:["fas","user-ninja"]}),r.a.createElement("span",{className:"mx-2 border-b-2 border-dashed truncate"},n))),r.a.createElement("div",{className:"p-3 my-4 text-2xl font-semibold text-gray-600 font-sans flex justify-evenly items-center"},r.a.createElement("div",{className:"w-1/8"},r.a.createElement(h.a,{icon:["fas","code"],className:"text-3xl"})),r.a.createElement("div",{className:"w-5/6 mx-3"},i)),r.a.createElement("div",{className:"w-11/12 flex justify-between mx-auto mt-4 text-xl text-gray-600"},r.a.createElement("div",{className:"w-1/3 flex justify-center my-auto items-center align-middle"},r.a.createElement("div",null,r.a.createElement(h.a,{icon:["far","clock"]})),r.a.createElement("div",{className:"mx-2 border-dashed border-b-4"},l)),r.a.createElement("div",{className:"w-1/3 flex justify-around my-auto text-3xl font-sans font-light text-gray-600 items-center align-middle cursor-pointer pt-10",onClick:function(t){c&&(t.currentTarget.classList.add("hidden"),function(t,a){var n="commitLogCard-".concat(t),o="commitFile-".concat(t),i=document.createElement("div");i.id=o;var l=document.getElementById(n);l.append(i);var c=function(){s.a.unmountComponentAtNode(document.getElementById("closeBtn-"+t)),s.a.unmountComponentAtNode(document.getElementById(o)),a.classList.remove("hidden")};s.a.render(r.a.createElement(X,{repoId:e.repoId,commitHash:t,unmountHandler:c}),document.getElementById(o));var m=r.a.createElement("div",{className:"text-center mx-auto text-3xl font-sans font-light text-gray-600 items-center align-middle cursor-pointer",onClick:function(e){c()}},r.a.createElement(h.a,{icon:["fas","angle-up"]})),d=document.createElement("div"),u="closeBtn-"+t;d.id=u,l.append(d),s.a.render(m,document.getElementById(u))}(a,t.currentTarget))}},c?r.a.createElement(h.a,{icon:["fas","angle-down"]}):r.a.createElement(h.a,{icon:["fas","dot-circle"],className:"text-xl text-gray-200"})),r.a.createElement("div",{className:"w-1/3 flex justify-center my-auto items-center align-middle"},r.a.createElement("div",null,r.a.createElement(h.a,{icon:["far","plus-square"]})),r.a.createElement("div",{className:"mx-2 border-dashed border-b-4"},c?"".concat(c," Files"):r.a.createElement("span",{className:"text-gray-500"},"No Changed Files")))))})),L?r.a.createElement("div",{className:"flex fixed bottom-0 right-0 w-16 h-16 mx-auto p-6 rounded-full shadow text-center bg-indigo-500 text-white text-2xl my-6 mr-6 cursor-pointer",title:"Click to load commits",onClick:function(){C-E>=10&&function(){var t;A(!0),$(!1),t=E+10;var a=JSON.stringify(JSON.stringify({repoId:e.repoId,skipLimit:t}));y(t),d()({url:g,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n              gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(a,"){\n                  gitCommitLogs {\n                      totalCommits\n                      commits{\n                          commitTime\n                          hash\n                          author\n                          commitMessage\n                          commitRelativeTime\n                          commitFilesCount\n                      }  \n                  }\n              }\n          }\n          ")}}).then((function(e){if(A(!1),C-t<10&&D(!1),e.data.data){var a=e.data.data.gitConvexApi.gitCommitLogs,n=a.commits,r=a.totalCommits;S(r),n&&n.length>0?l([].concat(Object(I.a)(o),Object(I.a)(n))):p(!0)}})).catch((function(e){A(!1),e&&(p(!0),console.log(e))}))}()}},r.a.createElement(h.a,{icon:["fas","angle-double-down"]})):null,F&&C?r.a.createElement("div",{className:"my-4 rounded p-3 bg-gray-100 text-lf font-semibold text-gray-800 text-center mx-auto"},"Loading ",C-E," more commits...",r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:F}))):null,!u&&0===o.length&&F?re("Loading commits..."):null)}function Q(e){f.b.add(x.a);var t=e.repoId,a=e.actionType,o=Object(n.useState)(),s=Object(i.a)(o,2),l=s[0],c=s[1],m=Object(n.useState)(!1),u=Object(i.a)(m,2),p=u[0],b=u[1],v=Object(n.useState)(!1),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)([]),O=Object(i.a)(w,2),k=O[0],C=O[1],S=Object(n.useState)(!1),T=Object(i.a)(S,2),R=T[0],F=T[1],_=Object(n.useRef)(),P=Object(n.useRef)();function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";F(!0);var o=function(e,n){return"fetch"===a?'mutation GitConvexMutation{\n          fetchFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            fetchedItems\n          }\n        }\n      '):'mutation GitConvexMutation{\n          pullFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            pulledItems\n          }\n        }\n      ')};d()({url:g,method:"POST",data:{query:o(e,n)}}).then((function(e){if(F(!1),e.data.data&&!e.data.error){var t={};if((t="fetch"===a?e.data.data.fetchFromRemote:e.data.data.pullFromRemote).status.match(/ABSENT/gi))C([r.a.createElement("div",{className:"text-xl p-2 text-gray-900 font-semibold"},"No changes to ","fetch"===a?"Fetch":"Pull"," from remote")]);else if(t.status.match(/ERROR/gi))C([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," ","from remote!")]);else{var n=[];n="fetch"===a?t.fetchedItems:t.pulledItems,C(Object(I.a)(n))}}})).catch((function(e){F(!1),console.error(e),C([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," from remote!")])}))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:g,method:"POST",cancelToken:a.token,headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;c(t)})).catch((function(e){F(!1)})),function(){return a.cancel()}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded shadow bg-white block"},"fetch"===a?r.a.createElement("div",{className:"flex justify-center items-center w-11/12 xl:w-3/5 lg:w-3/4 md:w-3/4 sm:w-11/12 mx-auto my-4 p-1 text-center border-b-2 border-dashed border-gray-400 text-lg font-sans font-medium cursor-pointer text-indigo-400 hover:text-indigo-600 rounded-lg hover:border-gray-600",onClick:function(){L()}},r.a.createElement("div",{className:"text-2xl text-indigo-800 mx-4"},r.a.createElement(h.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",null,"Click to Fetch without branch selection")):null,r.a.createElement("div",{className:"m-3 text-2xl font-sans text-ghray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",disabled:!l,onChange:function(){b(!0)},onClick:function(){C([])},ref:_},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},l?"Select the remote repo":"Loading available remotes..."),l?function(){if(l){var e=l.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),p?r.a.createElement("div",null,r.a.createElement("select",{className:"border p-3 my-4 text-xl rounded shadow",defaultValue:"checked",onChange:function(){y(!0)},onClick:function(){C([])},ref:P},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),l?function(){if(l)return l.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,p&&E&&!R?r.a.createElement("div",{className:"my-4 text-center bg-indigo-400 rounded shadow text-white text-xl font-sans p-2 mx-auto hover:bg-indigo-600 cursor-pointer",onClick:function(e){var t=_.current.value,a=P.current.value;t&&a?L(t,a):e.target.style.display="none"}},"pull"===a?"Pull from Remote":null,"fetch"===a?"Fetch from Remote":null):null,r.a.createElement("div",null,R?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-4 text-center border-2 border-dashed border-gray-600 rounded shadow text-gray-700 bg-gray-100 rounded shadow text-white text-xl font-light font-sans p-2 mx-auto cursor-pointer"},"pull"===a?"Pulling changes":"Fetching"," from remote..."),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(N,{loadAnimation:R}))):null),!R&&k&&k.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-3 rounded shadow bg-indigo-100 text-md font-sans text-gray-700 truncate"},k.map((function(e){return r.a.createElement("div",{className:"my-1 mx-2 break-normal",key:e+"-".concat(Object(A.a)())},e)})))):null))}function ee(e){var t=e.repoId,a=e.branchName,o=e.closeBackdrop,s=Object(n.useState)(!1),l=Object(i.a)(s,2),c=l[0],m=l[1];return Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(a,'")\n            }\n          ')}}).then((function(e){e.data.data&&!e.data.error&&o(!0)})).catch((function(e){e&&m(!0)}))}),[a,o,t]),r.a.createElement("div",{className:"xl:w-3/4 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"bg-indigo-200 p-2 border-indigo-600 rounded shadow-md"},"Switching to branch -"," ",r.a.createElement("span",{className:"font-sans font-semibold text-xl"},a),"..."),c?r.a.createElement("div",{className:"bg-red-200 p-2 border-red-600 rounded shadow-md"},"Switching to branch -"," ",r.a.createElement("span",{className:"font-sans font-semibold text-xl"},a)," ","Failed!"):null)}function te(e){var t=e.gitRepoName,a=e.gitCurrentBranch;return r.a.createElement("div",{className:"align-middle items-center mx-auto w-full flex rounded-md shadow-md border-2 border-gray-100 p-4 justify-evenly"},r.a.createElement("div",{className:"text-md p-2 mx-2"},"Repo Name"),r.a.createElement("div",{className:"bg-blue-100 text-blue-900 p-3 rounded-sm border border-blue-200"},t),r.a.createElement("div",{className:"text-md p-2 mx-2"},"Active Branch"),r.a.createElement("div",{className:"bg-orange-200 rounded-sm text-orange-900 p-3 border border-orange-400"},a))}var ae="fetch",ne="pull",re="addBranch",oe="addRemoteRepo",se="switchbranch",ie="listBranch";function le(e){f.b.add(k.a,x.a);var t=e.gitRemoteHost,a=e.gitRemoteData,o=e.isMultiRemote,s=e.multiRemoteCount,i=e.showCommitLogsView,l=e.actionTrigger;Object(n.useEffect)((function(){}),[e]);return r.a.createElement(r.a.Fragment,null,e.received?r.a.createElement("div",{className:"block rounded-md xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 shadow-sm border-2 border-dotted border-gray-400 p-1 my-6 mx-auto"},r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"flex justify-evenly items-center"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"Remote Host"),r.a.createElement("div",{className:"flex justify-around items-center align-middle w-1/2"},r.a.createElement("div",{className:"w-3/4 flex cursor-pointer justify-center p-4 rounded-md shadow-md border border-dashed my-auto items-center align-middle"},t?r.a.createElement("div",{className:"mx-2"},t.match(/github/i)?r.a.createElement(h.a,{icon:["fab","github"],className:"text-4xl text-center text-pink-500"}):t.match(/gitlab/i)?r.a.createElement(h.a,{icon:["fab","gitlab"],className:"text-4xl text-center text-pink-400"}):t.match(/bitbucket/i)?r.a.createElement(h.a,{icon:["fab","bitbucket"],className:"text-4xl text-center text-pink-400"}):t.match(/codecommit/i)?r.a.createElement(h.a,{icon:["fab","aws"],className:"text-4xl text-center text-pink-400"}):r.a.createElement(h.a,{icon:["fab","git-square"],className:"text-4xl text-center text-pink-400"})):null,r.a.createElement("div",{className:"".concat("No Remote Host Set"!==t?"text-xl":""," text-gray-800 border-b border-dashed border-gray-400 w-3/4 text-center")},t)),r.a.createElement("div",{className:"w-1/4"},r.a.createElement("div",{id:"addRemote",className:"rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-indigo-400 text-center mx-auto shadow hover:bg-indigo-500 cursor-pointer",onMouseEnter:function(e){e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-32 text-center border border-gray-300 text-sm my-2 relative" style="margin-left:-40px;">Click to add a new remote repo</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){l(oe)}},"+")))),r.a.createElement("div",{className:"flex justify-evenly my-4"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"".concat(t," URL")),r.a.createElement("div",{className:"text-blue-400 hover:text-blue-500 cursor-pointer w-1/2 break-words"},a)),o?r.a.createElement("div",{className:"flex justify-evenly my-2"},r.a.createElement("div",{className:"font-sans text-gray-800 font-semibold w-1/4 border-dotted border-b-2 border-gray-200"},"Entry truncated!"),r.a.createElement("div",{className:"w-1/2 border-dotted border-b-2 border-gray-200"},"Remote repos : ".concat(s))):null),r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"flex justify-evenly my-3"},r.a.createElement("div",{className:"w-1/4 text-md text-gray-600"},"Commit Logs"),r.a.createElement("div",{className:"w-1/2 rounded-md shadow-md p-3 text-center bg-orange-300 cursor-pointer",onClick:function(e){i()}},"Show Commit Logs")))):null)}function ce(e){var t=e.gitBranchList,a=e.gitCurrentBranch,n=e.gitLatestCommit,o=e.gitTotalCommits,s=e.actionTrigger,i=e.switchBranchHandler;return r.a.createElement(r.a.Fragment,null,e.received?r.a.createElement("div",{className:"block rounded-md xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 shadow-sm border-2 border-dotted border-gray-400 p-1 my-6 mx-auto"},r.a.createElement("div",{className:"block mx-auto my-2"},r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Total Commits"),r.a.createElement("div",{className:"text-left text-md text-bold text-black-800 w-1/2"},"".concat(o," Commits"))),r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Latest Commit"),r.a.createElement("div",{className:"text-left text-sm text-bold text-black-900 w-1/2 truncate ..."},n)),r.a.createElement("div",{className:"flex justify-around mx-auto my-2 align-middle items-center"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Available Branches"),r.a.createElement("div",{className:"w-1/2 flex justify-evenly align-middle items-center"},r.a.createElement("div",{className:"w-3/4 my-auto"},t&&a&&t.slice(0,3).map((function(e){return e?e===a?r.a.createElement("div",{className:"text-lg font-semibold text-indigo-500 my-1 border-b border-dotted cursor-pointer hover:border-dashed hover:text-indigo-600",key:"".concat(e,"-").concat(Object(A.a)())},e):r.a.createElement("div",{className:"text-md my-1 font-sans font-semibold my-2 border-b border-dotted cursor-pointer hover:border-dashed hover:text-indigo-400",key:"entry-key-".concat(Object(A.a)()),onClick:function(){i(e),s(se)}},e):null})).filter((function(e){return e||!1})),r.a.createElement("div",{className:"border-b border-dashed font-sans text-blue-500 cursor-pointer hover:text-blue-800 my-2 text-center my-auto",onClick:function(){s(ie)}},"List all branches")),r.a.createElement("div",{id:"addBranch",className:"rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-green-400 text-center mx-auto shadow hover:bg-green-500 cursor-pointer",onMouseEnter:function(e){e.target.innerHTML+='<div class="p-2 rounded bg-white text-gray-700 w-32 text-center border border-gray-300 text-sm my-2 relative" style="margin-left:-40px;">Click to add a new branch</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){s(re)}},"+"))),r.a.createElement("div",{className:"flex justify-around mx-auto mt-4"},r.a.createElement("div",{className:"w-1/3 rounded text-center cursor-pointer p-2 bg-indigo-500 hover:bg-indigo-600 text-white font-sans nowrap",onClick:function(){s(ae)}},"Fetch from remote"),r.a.createElement("div",{className:"w-1/3 text-center cursor-pointer rounded text-white p-2 bg-blue-500 hover:bg-blue-600 font-sans",onClick:function(){s(ne)}},"Pull from remote")))):null)}function me(e){f.b.add(k.a,x.a);var t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],u=c[1],p=Object(n.useState)(""),b=Object(i.a)(p,2),h=b[0],v=b[1],j=Object(n.useState)(!1),E=Object(i.a)(j,2),y=E[0],w=E[1],N=Object(n.useState)(!1),O=Object(i.a)(N,2),C=O[0],S=O[1],T=Object(n.useState)(0),R=Object(i.a)(T,2),F=R[0],A=R[1],_=Object(n.useState)(!1),P=Object(i.a)(_,2),L=P[0],D=P[1],q=Object(n.useState)(!1),B=Object(i.a)(q,2),M=B[0],H=B[1],K=Object(n.useState)(""),Y=Object(i.a)(K,2),W=Y[0],Z=Y[1],X=Object(n.useState)(""),ae=Object(i.a)(X,2),ne=ae[0],re=ae[1],oe=Object(n.useState)([]),se=Object(i.a)(oe,2),ie=se[0],me=se[1],de=Object(n.useState)([]),ue=Object(i.a)(de,2),pe=ue[0],ge=ue[1],fe=Object(n.useState)(""),be=Object(i.a)(fe,2),xe=be[0],he=be[1],ve=Object(n.useState)(!1),je=Object(i.a)(ve,2),Ee=je[0],ye=je[1],we=function(e){D(!e)},Ne=function(e){he(e),D(!0)},Oe=Object(n.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,{repoId:h}))}),[h]),ke=Object(n.useMemo)((function(){return r.a.createElement(Q,{repoId:h,actionType:"fetch"})}),[h]),Ce=Object(n.useMemo)((function(){return r.a.createElement(Q,{repoId:h,actionType:"pull"})}),[h]),Se=Object(n.useMemo)((function(){return r.a.createElement(ee,{repoId:h,branchName:W,closeBackdrop:we})}),[h,W]),Te=Object(n.useMemo)((function(){return r.a.createElement(z,{repoId:h,currentBranch:ne})}),[h,ne]),Re=Object(n.useMemo)((function(){return r.a.createElement(V,{repoId:h})}),[h]);Object(n.useEffect)((function(){H(!1),ye(!0);var t=g;if(e.parentProps.location){var a=e.parentProps.location.pathname.split("/repository/")[1];v(a);var n=JSON.stringify(JSON.stringify({repoId:a}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n            query GitConvexApi\n            {\n              gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(n,"){\n                gitRepoStatus {\n                  gitRemoteData\n                  gitRepoName\n                  gitBranchList\n                  gitCurrentBranch\n                  gitRemoteHost\n                  gitTotalCommits\n                  gitLatestCommit\n                  gitTrackedFiles\n                  gitFileBasedCommit\n                  gitTotalTrackedFiles    \n                }\n              }\n            }\n          ")}}).then((function(e){if(ye(!1),e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus,a=t.gitRemoteData;re(t.gitCurrentBranch),a.includes("||")&&(S(!0),t.gitRemoteData=a.split("||")[0],S(!0),A(a.split("||").length)),s(t),me(Object(I.a)(t.gitTrackedFiles)),ge(Object(I.a)(t.gitFileBasedCommit))}else u(!0)})).catch((function(e){ye(!1),e&&(console.log("API GitStatus error occurred : "+e),u(!0))}))}}),[e.parentProps,L]);var Ie=o.gitRemoteData,Fe=o.gitRepoName,Ae=o.gitBranchList,_e=o.gitCurrentBranch,Pe=o.gitRemoteHost,Le=o.gitTotalCommits,De=o.gitLatestCommit;return r.a.createElement(r.a.Fragment,null,Ee?r.a.createElement(G,{message:"Fetching repo details...",loading:Ee}):null,y?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"commit-log__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"commit-log__backdrop"===e.target.id&&w(!1)}},r.a.createElement("div",{className:"fixed top-0 right-0 mx-3 font-semibold bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){w(!1)}},"X"),r.a.createElement("div",{id:"commit-log__cards",className:"w-full xl:w-3/4 lg:w-5/6 md:w-11/12 sm:w-11/12 h-full block mx-auto my-auto mt-10 mb-10"},Oe))):null,L||M?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"repo-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"repo-backdrop"===e.target.id&&(D(!1),he(""))}},r.a.createElement(r.a.Fragment,null,xe?function(){switch(xe){case"fetch":return ke;case"pull":return Ce;case"addRemoteRepo":return Re;case"addBranch":return r.a.createElement(J,{repoId:h});case"switchbranch":return Se;case"listBranch":return Te;default:return null}}():null),r.a.createElement("div",{className:"fixed top-0 right-0 mx-3 font-semibold bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){D(!1),H(!1),he("")}},"X")):null,r.a.createElement(r.a.Fragment,null,Ee||!o||m?null:r.a.createElement("div",{className:"xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none rp_repo-view w-full h-full p-6 mx-auto rounded-lg justify-evenly"},r.a.createElement("div",{className:"flex px-3 py-2"},o?r.a.createElement(te,{gitRepoName:Fe,gitCurrentBranch:_e}):null),r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:"xl:flex lg:block md:block sm:block my-4 mx-auto justify-around"},o?r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{received:!0,actionTrigger:Ne,showCommitLogsView:function(){w(!0)},gitRemoteHost:Pe,gitRemoteData:Ie,isMultiRemote:C,multiRemoteCount:F}),r.a.createElement(ce,{received:!0,switchBranchHandler:function(e){D(!0),he("switchbranch"),Z(e)},actionTrigger:Ne,gitBranchList:Ae,gitCurrentBranch:_e,gitLatestCommit:De,gitTotalCommits:Le})):null)),!Ee&&o&&h&&ie?r.a.createElement(U,{repoIdState:h,gitRepoFiles:ie,gitFileBasedCommits:pe}):null)))}function de(e){f.b.add(k.a,x.a);var t=Object(n.useRef)(),a=Object(n.useContext)(u),o=a.state,s=a.dispatch,l=o.presentRepo,c=Object(n.useState)(""),m=Object(i.a)(c,2),p=m[0],b=m[1],v=Object(n.useState)(0),j=Object(i.a)(v,2),E=j[0],y=j[1],w=Object(n.useState)([]),N=Object(i.a)(w,2),O=N[0],C=N[1],S=Object(n.useState)(!1),T=Object(i.a)(S,2),R=T[0],F=T[1],A=Object(n.useState)({}),_=Object(i.a)(A,2),P=_[0],L=_[1],D=Object(n.useState)(""),q=Object(i.a)(D,2),B=q[0],M=q[1],G=Object(n.useState)(0),H=Object(i.a)(G,2),U=H[0],J=H[1],V=Object(n.useState)(""),z=Object(i.a)(V,2),K=z[0],Y=z[1],W=Object(n.useState)(!1),Z=Object(i.a)(W,2),X=Z[0],$=Z[1],Q=Object(n.useState)(!1),ee=Object(i.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){d()({url:g,method:"POST",data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("SETTINGS_DBPATH",'"){\n              settingsDatabasePath\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.error){var a=e.data.data.gitConvexApi.settingsDatabasePath;b(a),Y(a),t.current.value=a}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_REPODETAILS",'"){\n                settingsRepoDetails{\n                  id\n                  repoPath\n                  repoName\n                  timeStamp\n                }\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsRepoDetails;C(Object(I.a)(t))}})).catch((function(e){console.log(e)})),d()({url:g,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_PORT",'"){\n                settingsPortDetails\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsPortDetails;y(t)}}))}),[e,U]);return r.a.createElement(r.a.Fragment,null,R?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none",id:"settings-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"settings-backdrop"===e.target.id&&(M(""),F(!1),J(U+1))}},P?function(){var e=["Repo ID","Repo Name","Repo Path","Timestamp"],t=[];return Object.keys(P).forEach((function(a,n){t.push({label:e[n],value:P[a]})})),r.a.createElement("div",{className:"w-3/4 p-6 mx-auto my-auto rounded shadow bg-white"},r.a.createElement("div",{className:"mx-4 my-2 text-3xl font-sans text-gray-900"},"The repo below will be removed from Gitconvex records."),r.a.createElement("div",{className:"mx-4 my-1 text-md font-light w-5/6 font-sans italic text-gray-800"},"This will not delete the actual git folder. Just the record from the gitconvex server will be removed"),r.a.createElement("div",{className:"my-2 mx-auto block justify-center w-3/4 p-2"},t.map((function(e){return r.a.createElement("div",{className:"mx-auto flex p-2 font-sans",key:e.label},r.a.createElement("div",{className:"w-2/4 font-semibold"},e.label),r.a.createElement("div",{className:"w-2/4"},e.value))}))),"lodaing"!==B&&"success"!==B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 rounded shadow bg-red-400 hover:bg-red-500 text-white text-xl",onClick:function(){!function(){M("loading");var e=P.id;d()({url:g,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            deleteRepo(repoId: "'.concat(e,'"){\n              status\n              repoId\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.eror){var t=e.data.data.deleteRepo,a=t.status,n=t.repoId;if("DELETE_SUCCESS"===a){if(l&&l.length>0){var r=l[0];r=r.map((function(e){return e.id.toString()===n.toString()?null:e})),s({action:"DELETE_PRESENT_REPO",payload:Object(I.a)(r)})}M("success")}else M("failed")}})).catch((function(e){console.log(e),M("failed")}))}()}},"Confirm Delete"):null,"loading"===B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 text-white rounded shadow bg-gray-400 hover:bg-gray-500 text-white text-xl"},"Deletion in progress"):null,"success"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-green-300 text-green-600 my-4"},"Repo has been deleted!"):null,"failed"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-red-300 my-4"},"Repo deletion failed!"):null)}():null,r.a.createElement("div",{className:"top-0 right-0 fixed float-right font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){M(""),F(!1),J(U+1)}},"X")):null,r.a.createElement("div",{className:"block w-full h-full pt-5 pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"font-sans text-6xl my-4 mx-10 text-gray-700 block items-center align-middle"},r.a.createElement(h.a,{className:"text-5xl",icon:["fas","cogs"]}),r.a.createElement("span",{className:"mx-10"},"Settings")),r.a.createElement("div",{className:"block my-10 justify-center mx-auto w-11/12"},p?r.a.createElement("div",{className:"settings-data"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Server data file (file which stores repo details)"),r.a.createElement("div",{className:"my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 w-2/3",ref:t,onChange:function(e){Y(e.target.value),$(!1)},onClick:function(){$(!1)}}),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"The data file can be updated. The data file must be an accessible JSON file with read / write permissions set to it. Also make sure you enter the full path for the file",r.a.createElement("pre",{className:"my-2"},"E.g: /opt/my_data/data-file.json")),p!==K?r.a.createElement("div",{className:"my-4 text-center p-2 font-sans text-white border-green-400 border-2 bg-green-500 rounded-md cursor-pointer shadow w-1/4 hover:bg-green-600",onClick:function(){!function(){if(K){var e=U+1;d()({url:g,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                updateRepoDataFile(newDbFile: "'.concat(K.toString(),'")\n              }\n            ')}}).then((function(t){t.data.data&&!t.data.error&&"DATAFILE_UPDATE_SUCCESS"===t.data.data.updateRepoDataFile?($(!1),J(e),window.location.reload()):($(!0),J(e))})).catch((function(t){console.log("Datafile update error",t),$(!0),J(e)}))}}(),$(!1)}},"Update Data file"):null,X?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-2/3 text-center"},"Data file update failed"):null)):null,O?r.a.createElement("div",{className:"repo-data my-10"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Saved Repos"),r.a.createElement(r.a.Fragment,null,O&&O.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 bg-indigo-500 my-1 w-full rounded text-white bg-white shadow p-3 font-sand text-xl font-semibold"},r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo ID"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Name"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Path"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Timestamp"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Action")),O.map((function(e){return r.a.createElement("div",{className:"flex my-1 w-full rounded bg-white shadow p-3 font-sans text-gray-800",key:e.id},r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},e.id),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-bold font-sans break-all"},e.repoName),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light text-blue-600"},e.repoPath),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light"},e.timeStamp),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},r.a.createElement("div",{className:"bg-red-600 p-2 mx-auto my-auto rounded shadow text-center w-1/2 hover:bg-red-400 cursor-pointer",onClick:function(t){F(!0),L(e)}},r.a.createElement(h.a,{color:"white",icon:["fas","trash-alt"]}))))}))):r.a.createElement("div",{className:"my-4 mx-auto bg-gray-200 text-center p-3 rounded shadow w-3/4"},"No repos are being managed by Gitconvex. You can add one from the dashboard"))):null,r.a.createElement("div",{className:"my-2 mx-auto"},r.a.createElement("div",{className:"text-xl font-sans text-gray-800 my-2"},"Active Gitconvex port"),r.a.createElement("div",{className:"flex my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 xl:w-1/2 lg:w-1/3 md:w-1/2 sm:w-1/2 w-1/2",value:E,onChange:function(e){y(e.target.value)}}),r.a.createElement("div",{className:"p-2 text-center mx-4 rounded border text-white bg-indigo-500 xl:w-1/6 lg:w-1/6 md:w-1/5 sm:w-1/4 w-1/4 hover:bg-indigo-600 cursor-pointer",onClick:function(){E&&d()({url:g,method:"POST",data:{query:"\n              mutation GitConvexMutation{\n                settingsEditPort(newPort: ".concat(E,")\n              }\n            ")}}).then((function(e){e.data.data&&!e.data.error?console.log(e.data.data.settingsEditPort):te(!0)})).catch((function(e){console.log(e),ae(!0)}))}},"Update Port")),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"Make sure to restart the app and to change the port in the URL after updating it"),te?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-1/2 text-center"},"Port update failed"):null))))}function ue(e){var t=Object(n.useContext)(u).state,a=Object(n.useState)(""),o=Object(i.a)(a,2),s=o[0],m=o[1],p=Object(n.useState)(""),f=Object(i.a)(p,2),b=f[0],x=f[1],h=Object(n.useState)(""),j=Object(i.a)(h,2),E=j[0],y=j[1],w=Object(n.useMemo)((function(){return r.a.createElement(me,{parentProps:e})}),[e]),N=Object(n.useMemo)((function(){return r.a.createElement(de,null)}),[]),O=Object(n.useMemo)((function(){return r.a.createElement(R,null)}),[]);Object(n.useEffect)((function(){var e=t.hcParams,a=e.osCheck,n=e.gitCheck,r=e.nodeCheck,o=d.a.CancelToken.source();a&&n&&r?(m(a),x(n),y(r)):3===["OS_TYPE","NODE_VERSION","GIT_VERSION"].filter((function(e){return!!localStorage.getItem(e)})).length?(m(localStorage.getItem("OS_TYPE")),y(localStorage.getItem("NODE_VERSION")),x(localStorage.getItem("GIT_VERSION"))):d()({url:g,method:"POST",cancelToken:o.token,data:{query:'\n              query GitConvexAPI{\n                gitConvexApi(route:"HEALTH_CHECK"){\n                  healthCheck{\n                    osCheck\n                    gitCheck\n                    nodeCheck\n                  }\n                }\n              }\n            '}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;m(JSON.parse(a).message),x(JSON.parse(n).message),y(JSON.parse(r).message)}})).catch((function(e){console.log(e)}));return function(){o.cancel()}}),[t.hcParams]);var k={platform:s,gitVersion:b,nodeVersion:E};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"xl:flex lg:flex md:block w-full h-screen"},r.a.createElement(v,{parentProps:e}),function(){switch(e.location.pathname){case"/dashboard":return r.a.createElement(T,{params:k});case"/dashboard/repository":return r.a.createElement(M,null);case"/dashboard/settings":return N;case"/dashboard/help":return O;default:return r.a.createElement(c.a,null,r.a.createElement(l.a,{exact:!0,path:"/dashboard/repository/:repoId"},w))}}()))}a(80);function pe(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),o=a[0],s=a[1],l=Object(n.useState)(!1),c=Object(i.a)(l,2),m=c[0],p=c[1],f=Object(n.useContext)(u).dispatch;return Object(n.useEffect)((function(){var e=g;d()({url:e,method:"POST",data:{query:'\n          query GitConvexAPI{\n            gitConvexApi(route:"HEALTH_CHECK"){\n              healthCheck{\n                osCheck\n                gitCheck\n                nodeCheck\n              }\n            }\n          }\n        '}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;f({type:"HC_PARAM_ACTION",payload:{osCheck:a,gitCheck:n,nodeCheck:r}}),p(!0)}else s(!0)})).catch((function(e){console.log(e),s(!0)}))}),[f]),r.a.createElement(r.a.Fragment,null,m?e.history.push("/dashboard"):r.a.createElement("div",{className:"w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"splash-logo w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"p-5 shadow-md border-l-4 border-t-4 border-blue-100 rounded-lg block"},r.a.createElement("div",{className:"splash-logo__image"})),r.a.createElement("div",{className:"logo-label my-3 p-3 text-center block"},r.a.createElement("div",{className:"logo-label__title block text-6xl border-solid border-b-4 border-pink-200"},r.a.createElement("span",{className:"logo-label__title-first font-sans font-bold mx-3"},"Git"),r.a.createElement("span",null,"Convex")),r.a.createElement("div",{className:"block font-mono my-2"},"A visualizer for your git repo"))),o?r.a.createElement("div",{className:"fixed bottom-0 left-0 right-0 w-full p-3 rounded-lg text-center font-sans bg-red-200 border-red-900"},r.a.createElement("div",{className:"h1 text-3xl p-2 m-2 text-red-800"},"Server Unreachable"),r.a.createElement("p",null,"The server is not reachable.Please check if the server module is running.")):null))}var ge=a(10);function fe(e,t){switch(t.type){case"HC_DONE_SWITCH":return Object(ge.a)(Object(ge.a)({},e),{},{hcDone:t.payload});case"HC_PARAM_ACTION":var a=t.payload,n=a.osCheck,r=a.gitCheck,o=a.nodeCheck,s=function(e){return JSON.parse(JSON.parse(JSON.stringify(e))).message};return localStorage.setItem("OS_TYPE",s(n)),localStorage.setItem("GIT_VERSION",s(r)),localStorage.setItem("NODE_VERSION",s(o)),Object(ge.a)(Object(ge.a)({},e),{},{hcParams:{osCheck:s(n),gitCheck:s(r),nodeCheck:s(o)}});case"PRESENT_REPO":return Object(ge.a)(Object(ge.a)({},e),{},{presentRepo:[].concat(Object(I.a)(e.presentRepo),[t.payload])});case"ADD_FORM_CLOSE":return Object(ge.a)(Object(ge.a)({},e),{},{shouldAddFormClose:t.payload});case"DELETE_PRESENT_REPO":return Object(ge.a)(Object(ge.a)({},e),{},{presentRepo:Object(I.a)(t.payload)});case"GIT_TRACKED_FILES":return e.modifiedGitFiles=[],Object(ge.a)(Object(ge.a)({},e),{},{modifiedGitFiles:[].concat(Object(I.a)(e.modifiedGitFiles),[t.payload])});case"GIT_GLOBAL_REPOID":return e.globalRepoId="",Object(ge.a)(Object(ge.a)({},e),{},{globalRepoId:t.payload});case"GIT_ACTION_TRACKED_FILES":return e.gitTrackedFiles=[],Object(ge.a)(Object(ge.a)({},e),{},{gitTrackedFiles:[].concat(Object(I.a)(e.gitTrackedFiles),[t.payload])});case"GIT_ACTION_UNTRACKED_FILES":return e.gitUntrackedFiles=[],Object(ge.a)(Object(ge.a)({},e),{},{gitUntrackedFiles:[].concat(Object(I.a)(e.gitUntrackedFiles),[t.payload])});default:return Object(ge.a)({},e)}}function be(e){var t=Object(n.useReducer)(fe,{hcParams:{},presentRepo:[],modifiedGitFiles:[],globalRepoId:"",gitUntrackedFiles:[],gitTrackedFiles:[]}),a=Object(i.a)(t,2),o=a[0],s=a[1];return r.a.createElement("div",{className:"App w-full h-full"},r.a.createElement(u.Provider,{value:{state:o,dispatch:s}},r.a.createElement(c.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:pe}),r.a.createElement(l.a,{path:"/dashboard",component:ue}),r.a.createElement(l.a,{path:"/dashboard/repository",exact:!0,component:ue}),r.a.createElement(l.a,{path:"/dashboard/repository/*",component:ue})))))}a(81),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.31b7aa43.chunk.js.map