(this.webpackJsonpgitconvex=this.webpackJsonpgitconvex||[]).push([[0],{28:function(e,t,a){},32:function(e,t,a){},46:function(e,t,a){var n={"./prism-abap.js":[94,3],"./prism-abap.min.js":[95,4],"./prism-abnf.js":[96,5],"./prism-abnf.min.js":[97,6],"./prism-actionscript.js":[98,7],"./prism-actionscript.min.js":[99,8],"./prism-ada.js":[100,9],"./prism-ada.min.js":[101,10],"./prism-agda.js":[102,11],"./prism-agda.min.js":[103,12],"./prism-al.js":[104,13],"./prism-al.min.js":[105,14],"./prism-antlr4.js":[106,15],"./prism-antlr4.min.js":[107,16],"./prism-apacheconf.js":[108,17],"./prism-apacheconf.min.js":[109,18],"./prism-apl.js":[110,19],"./prism-apl.min.js":[111,20],"./prism-applescript.js":[112,21],"./prism-applescript.min.js":[113,22],"./prism-aql.js":[114,23],"./prism-aql.min.js":[115,24],"./prism-arduino.js":[116,25],"./prism-arduino.min.js":[117,26],"./prism-arff.js":[118,27],"./prism-arff.min.js":[119,28],"./prism-asciidoc.js":[120,29],"./prism-asciidoc.min.js":[121,30],"./prism-asm6502.js":[122,31],"./prism-asm6502.min.js":[123,32],"./prism-aspnet.js":[124,33],"./prism-aspnet.min.js":[125,34],"./prism-autohotkey.js":[126,35],"./prism-autohotkey.min.js":[127,36],"./prism-autoit.js":[128,37],"./prism-autoit.min.js":[129,38],"./prism-bash.js":[130,39],"./prism-bash.min.js":[131,40],"./prism-basic.js":[132,41],"./prism-basic.min.js":[133,42],"./prism-batch.js":[134,43],"./prism-batch.min.js":[135,44],"./prism-bbcode.js":[136,45],"./prism-bbcode.min.js":[137,46],"./prism-bison.js":[138,47],"./prism-bison.min.js":[139,48],"./prism-bnf.js":[140,49],"./prism-bnf.min.js":[141,50],"./prism-brainfuck.js":[142,51],"./prism-brainfuck.min.js":[143,52],"./prism-brightscript.js":[144,53],"./prism-brightscript.min.js":[145,54],"./prism-bro.js":[146,55],"./prism-bro.min.js":[147,56],"./prism-c.js":[148,57],"./prism-c.min.js":[149,58],"./prism-cil.js":[150,59],"./prism-cil.min.js":[151,60],"./prism-clike.js":[152,61],"./prism-clike.min.js":[153,62],"./prism-clojure.js":[154,63],"./prism-clojure.min.js":[155,64],"./prism-cmake.js":[156,65],"./prism-cmake.min.js":[157,66],"./prism-coffeescript.js":[158,67],"./prism-coffeescript.min.js":[159,68],"./prism-concurnas.js":[160,69],"./prism-concurnas.min.js":[161,70],"./prism-core.js":[162,71],"./prism-core.min.js":[163,72],"./prism-cpp.js":[164,73],"./prism-cpp.min.js":[165,74],"./prism-crystal.js":[166,75],"./prism-crystal.min.js":[167,76],"./prism-csharp.js":[168,77],"./prism-csharp.min.js":[169,78],"./prism-csp.js":[170,79],"./prism-csp.min.js":[171,80],"./prism-css-extras.js":[172,81],"./prism-css-extras.min.js":[173,82],"./prism-css.js":[174,83],"./prism-css.min.js":[175,84],"./prism-cypher.js":[176,85],"./prism-cypher.min.js":[177,86],"./prism-d.js":[178,87],"./prism-d.min.js":[179,88],"./prism-dart.js":[180,89],"./prism-dart.min.js":[181,90],"./prism-dax.js":[182,91],"./prism-dax.min.js":[183,92],"./prism-dhall.js":[184,93],"./prism-dhall.min.js":[185,94],"./prism-diff.js":[186,95],"./prism-diff.min.js":[187,96],"./prism-django.js":[188,97],"./prism-django.min.js":[189,98],"./prism-dns-zone-file.js":[190,99],"./prism-dns-zone-file.min.js":[191,100],"./prism-docker.js":[192,101],"./prism-docker.min.js":[193,102],"./prism-ebnf.js":[194,103],"./prism-ebnf.min.js":[195,104],"./prism-editorconfig.js":[196,105],"./prism-editorconfig.min.js":[197,106],"./prism-eiffel.js":[198,107],"./prism-eiffel.min.js":[199,108],"./prism-ejs.js":[200,109],"./prism-ejs.min.js":[201,110],"./prism-elixir.js":[202,111],"./prism-elixir.min.js":[203,112],"./prism-elm.js":[204,113],"./prism-elm.min.js":[205,114],"./prism-erb.js":[206,115],"./prism-erb.min.js":[207,116],"./prism-erlang.js":[208,117],"./prism-erlang.min.js":[209,118],"./prism-etlua.js":[210,119],"./prism-etlua.min.js":[211,120],"./prism-excel-formula.js":[212,121],"./prism-excel-formula.min.js":[213,122],"./prism-factor.js":[214,123],"./prism-factor.min.js":[215,124],"./prism-firestore-security-rules.js":[216,125],"./prism-firestore-security-rules.min.js":[217,126],"./prism-flow.js":[218,127],"./prism-flow.min.js":[219,128],"./prism-fortran.js":[220,129],"./prism-fortran.min.js":[221,130],"./prism-fsharp.js":[222,131],"./prism-fsharp.min.js":[223,132],"./prism-ftl.js":[224,133],"./prism-ftl.min.js":[225,134],"./prism-gcode.js":[226,135],"./prism-gcode.min.js":[227,136],"./prism-gdscript.js":[228,137],"./prism-gdscript.min.js":[229,138],"./prism-gedcom.js":[230,139],"./prism-gedcom.min.js":[231,140],"./prism-gherkin.js":[232,141],"./prism-gherkin.min.js":[233,142],"./prism-git.js":[234,143],"./prism-git.min.js":[235,144],"./prism-glsl.js":[236,145],"./prism-glsl.min.js":[237,146],"./prism-gml.js":[238,147],"./prism-gml.min.js":[239,148],"./prism-go.js":[240,149],"./prism-go.min.js":[241,150],"./prism-graphql.js":[242,151],"./prism-graphql.min.js":[243,152],"./prism-groovy.js":[244,153],"./prism-groovy.min.js":[245,154],"./prism-haml.js":[246,155],"./prism-haml.min.js":[247,156],"./prism-handlebars.js":[248,157],"./prism-handlebars.min.js":[249,158],"./prism-haskell.js":[250,159],"./prism-haskell.min.js":[251,160],"./prism-haxe.js":[252,161],"./prism-haxe.min.js":[253,162],"./prism-hcl.js":[254,163],"./prism-hcl.min.js":[255,164],"./prism-hlsl.js":[256,165],"./prism-hlsl.min.js":[257,166],"./prism-hpkp.js":[258,167],"./prism-hpkp.min.js":[259,168],"./prism-hsts.js":[260,169],"./prism-hsts.min.js":[261,170],"./prism-http.js":[262,171],"./prism-http.min.js":[263,172],"./prism-ichigojam.js":[264,173],"./prism-ichigojam.min.js":[265,174],"./prism-icon.js":[266,175],"./prism-icon.min.js":[267,176],"./prism-iecst.js":[268,177],"./prism-iecst.min.js":[269,178],"./prism-ignore.js":[270,179],"./prism-ignore.min.js":[271,180],"./prism-inform7.js":[272,181],"./prism-inform7.min.js":[273,182],"./prism-ini.js":[274,183],"./prism-ini.min.js":[275,184],"./prism-io.js":[276,185],"./prism-io.min.js":[277,186],"./prism-j.js":[278,187],"./prism-j.min.js":[279,188],"./prism-java.js":[280,189],"./prism-java.min.js":[281,190],"./prism-javadoc.js":[282,191],"./prism-javadoc.min.js":[283,192],"./prism-javadoclike.js":[284,193],"./prism-javadoclike.min.js":[285,194],"./prism-javascript.js":[286,195],"./prism-javascript.min.js":[287,196],"./prism-javastacktrace.js":[288,197],"./prism-javastacktrace.min.js":[289,198],"./prism-jolie.js":[290,199],"./prism-jolie.min.js":[291,200],"./prism-jq.js":[292,201],"./prism-jq.min.js":[293,202],"./prism-js-extras.js":[294,203],"./prism-js-extras.min.js":[295,204],"./prism-js-templates.js":[296,205],"./prism-js-templates.min.js":[297,206],"./prism-jsdoc.js":[298,207],"./prism-jsdoc.min.js":[299,208],"./prism-json.js":[300,209],"./prism-json.min.js":[301,210],"./prism-json5.js":[302,211],"./prism-json5.min.js":[303,212],"./prism-jsonp.js":[304,213],"./prism-jsonp.min.js":[305,214],"./prism-jsstacktrace.js":[306,215],"./prism-jsstacktrace.min.js":[307,216],"./prism-jsx.js":[308,217],"./prism-jsx.min.js":[309,218],"./prism-julia.js":[310,219],"./prism-julia.min.js":[311,220],"./prism-keyman.js":[312,221],"./prism-keyman.min.js":[313,222],"./prism-kotlin.js":[314,223],"./prism-kotlin.min.js":[315,224],"./prism-latex.js":[316,225],"./prism-latex.min.js":[317,226],"./prism-latte.js":[318,227],"./prism-latte.min.js":[319,228],"./prism-less.js":[320,229],"./prism-less.min.js":[321,230],"./prism-lilypond.js":[322,231],"./prism-lilypond.min.js":[323,232],"./prism-liquid.js":[324,233],"./prism-liquid.min.js":[325,234],"./prism-lisp.js":[326,235],"./prism-lisp.min.js":[327,236],"./prism-livescript.js":[328,237],"./prism-livescript.min.js":[329,238],"./prism-llvm.js":[330,239],"./prism-llvm.min.js":[331,240],"./prism-lolcode.js":[332,241],"./prism-lolcode.min.js":[333,242],"./prism-lua.js":[334,243],"./prism-lua.min.js":[335,244],"./prism-makefile.js":[336,245],"./prism-makefile.min.js":[337,246],"./prism-markdown.js":[338,247],"./prism-markdown.min.js":[339,248],"./prism-markup-templating.js":[340,249],"./prism-markup-templating.min.js":[341,250],"./prism-markup.js":[342,251],"./prism-markup.min.js":[343,252],"./prism-matlab.js":[344,253],"./prism-matlab.min.js":[345,254],"./prism-mel.js":[346,255],"./prism-mel.min.js":[347,256],"./prism-mizar.js":[348,257],"./prism-mizar.min.js":[349,258],"./prism-monkey.js":[350,259],"./prism-monkey.min.js":[351,260],"./prism-moonscript.js":[352,261],"./prism-moonscript.min.js":[353,262],"./prism-n1ql.js":[354,263],"./prism-n1ql.min.js":[355,264],"./prism-n4js.js":[356,265],"./prism-n4js.min.js":[357,266],"./prism-nand2tetris-hdl.js":[358,267],"./prism-nand2tetris-hdl.min.js":[359,268],"./prism-nasm.js":[360,269],"./prism-nasm.min.js":[361,270],"./prism-neon.js":[362,271],"./prism-neon.min.js":[363,272],"./prism-nginx.js":[364,273],"./prism-nginx.min.js":[365,274],"./prism-nim.js":[366,275],"./prism-nim.min.js":[367,276],"./prism-nix.js":[368,277],"./prism-nix.min.js":[369,278],"./prism-nsis.js":[370,279],"./prism-nsis.min.js":[371,280],"./prism-objectivec.js":[372,281],"./prism-objectivec.min.js":[373,282],"./prism-ocaml.js":[374,283],"./prism-ocaml.min.js":[375,284],"./prism-opencl.js":[376,285],"./prism-opencl.min.js":[377,286],"./prism-oz.js":[378,287],"./prism-oz.min.js":[379,288],"./prism-parigp.js":[380,289],"./prism-parigp.min.js":[381,290],"./prism-parser.js":[382,291],"./prism-parser.min.js":[383,292],"./prism-pascal.js":[384,293],"./prism-pascal.min.js":[385,294],"./prism-pascaligo.js":[386,295],"./prism-pascaligo.min.js":[387,296],"./prism-pcaxis.js":[388,297],"./prism-pcaxis.min.js":[389,298],"./prism-peoplecode.js":[390,299],"./prism-peoplecode.min.js":[391,300],"./prism-perl.js":[392,301],"./prism-perl.min.js":[393,302],"./prism-php-extras.js":[394,303],"./prism-php-extras.min.js":[395,304],"./prism-php.js":[396,305],"./prism-php.min.js":[397,306],"./prism-phpdoc.js":[398,307],"./prism-phpdoc.min.js":[399,308],"./prism-plsql.js":[400,309],"./prism-plsql.min.js":[401,310],"./prism-powerquery.js":[402,311],"./prism-powerquery.min.js":[403,312],"./prism-powershell.js":[404,313],"./prism-powershell.min.js":[405,314],"./prism-processing.js":[406,315],"./prism-processing.min.js":[407,316],"./prism-prolog.js":[408,317],"./prism-prolog.min.js":[409,318],"./prism-properties.js":[410,319],"./prism-properties.min.js":[411,320],"./prism-protobuf.js":[412,321],"./prism-protobuf.min.js":[413,322],"./prism-pug.js":[414,323],"./prism-pug.min.js":[415,324],"./prism-puppet.js":[416,325],"./prism-puppet.min.js":[417,326],"./prism-pure.js":[418,327],"./prism-pure.min.js":[419,328],"./prism-purebasic.js":[420,329],"./prism-purebasic.min.js":[421,330],"./prism-python.js":[422,331],"./prism-python.min.js":[423,332],"./prism-q.js":[424,333],"./prism-q.min.js":[425,334],"./prism-qml.js":[426,335],"./prism-qml.min.js":[427,336],"./prism-qore.js":[428,337],"./prism-qore.min.js":[429,338],"./prism-r.js":[430,339],"./prism-r.min.js":[431,340],"./prism-racket.js":[432,341],"./prism-racket.min.js":[433,342],"./prism-reason.js":[434,343],"./prism-reason.min.js":[435,344],"./prism-regex.js":[436,345],"./prism-regex.min.js":[437,346],"./prism-renpy.js":[438,347],"./prism-renpy.min.js":[439,348],"./prism-rest.js":[440,349],"./prism-rest.min.js":[441,350],"./prism-rip.js":[442,351],"./prism-rip.min.js":[443,352],"./prism-roboconf.js":[444,353],"./prism-roboconf.min.js":[445,354],"./prism-robotframework.js":[446,355],"./prism-robotframework.min.js":[447,356],"./prism-ruby.js":[448,357],"./prism-ruby.min.js":[449,358],"./prism-rust.js":[450,359],"./prism-rust.min.js":[451,360],"./prism-sas.js":[452,361],"./prism-sas.min.js":[453,362],"./prism-sass.js":[454,363],"./prism-sass.min.js":[455,364],"./prism-scala.js":[456,365],"./prism-scala.min.js":[457,366],"./prism-scheme.js":[458,367],"./prism-scheme.min.js":[459,368],"./prism-scss.js":[460,369],"./prism-scss.min.js":[461,370],"./prism-shell-session.js":[462,371],"./prism-shell-session.min.js":[463,372],"./prism-smali.js":[464,373],"./prism-smali.min.js":[465,374],"./prism-smalltalk.js":[466,375],"./prism-smalltalk.min.js":[467,376],"./prism-smarty.js":[468,377],"./prism-smarty.min.js":[469,378],"./prism-solidity.js":[470,379],"./prism-solidity.min.js":[471,380],"./prism-solution-file.js":[472,381],"./prism-solution-file.min.js":[473,382],"./prism-soy.js":[474,383],"./prism-soy.min.js":[475,384],"./prism-sparql.js":[476,385],"./prism-sparql.min.js":[477,386],"./prism-splunk-spl.js":[478,387],"./prism-splunk-spl.min.js":[479,388],"./prism-sqf.js":[480,389],"./prism-sqf.min.js":[481,390],"./prism-sql.js":[482,391],"./prism-sql.min.js":[483,392],"./prism-stylus.js":[484,393],"./prism-stylus.min.js":[485,394],"./prism-swift.js":[486,395],"./prism-swift.min.js":[487,396],"./prism-t4-cs.js":[488,397],"./prism-t4-cs.min.js":[489,398],"./prism-t4-templating.js":[490,399],"./prism-t4-templating.min.js":[491,400],"./prism-t4-vb.js":[492,401],"./prism-t4-vb.min.js":[493,402],"./prism-tap.js":[494,403],"./prism-tap.min.js":[495,404],"./prism-tcl.js":[496,405],"./prism-tcl.min.js":[497,406],"./prism-textile.js":[498,407],"./prism-textile.min.js":[499,408],"./prism-toml.js":[500,409],"./prism-toml.min.js":[501,410],"./prism-tsx.js":[502,411],"./prism-tsx.min.js":[503,412],"./prism-tt2.js":[504,413],"./prism-tt2.min.js":[505,414],"./prism-turtle.js":[506,415],"./prism-turtle.min.js":[507,416],"./prism-twig.js":[508,417],"./prism-twig.min.js":[509,418],"./prism-typescript.js":[510,419],"./prism-typescript.min.js":[511,420],"./prism-unrealscript.js":[512,421],"./prism-unrealscript.min.js":[513,422],"./prism-vala.js":[514,423],"./prism-vala.min.js":[515,424],"./prism-vbnet.js":[516,425],"./prism-vbnet.min.js":[517,426],"./prism-velocity.js":[518,427],"./prism-velocity.min.js":[519,428],"./prism-verilog.js":[520,429],"./prism-verilog.min.js":[521,430],"./prism-vhdl.js":[522,431],"./prism-vhdl.min.js":[523,432],"./prism-vim.js":[524,433],"./prism-vim.min.js":[525,434],"./prism-visual-basic.js":[526,435],"./prism-visual-basic.min.js":[527,436],"./prism-warpscript.js":[528,437],"./prism-warpscript.min.js":[529,438],"./prism-wasm.js":[530,439],"./prism-wasm.min.js":[531,440],"./prism-wiki.js":[532,441],"./prism-wiki.min.js":[533,442],"./prism-xeora.js":[534,443],"./prism-xeora.min.js":[535,444],"./prism-xml-doc.js":[536,445],"./prism-xml-doc.min.js":[537,446],"./prism-xojo.js":[538,447],"./prism-xojo.min.js":[539,448],"./prism-xquery.js":[540,449],"./prism-xquery.min.js":[541,450],"./prism-yaml.js":[542,451],"./prism-yaml.min.js":[543,452],"./prism-yang.js":[544,453],"./prism-yang.min.js":[545,454],"./prism-zig.js":[546,455],"./prism-zig.min.js":[547,456]};function r(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((function(){return a.t(r,7)}))}r.keys=function(){return Object.keys(n)},r.id=46,e.exports=r},47:function(e,t,a){},50:function(e,t,a){e.exports=a(93)},55:function(e,t,a){},76:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),i=a.n(s),c=a(1),l=a(9),o=a(21),m=(a(55),a(2)),d=a.n(m),u=r.a.createContext({hcDone:!1,platform:"",git:"",node:"",shouldAddFormClose:!1,globalRepoId:"",hcParams:{},presentRepo:[],modifiedGitFiles:[],gitUntrackedFiles:[],gitTrackedFiles:[]}),p=window.location.port,f="".concat("http","://").concat(window.location.hostname,":").concat(p,"/").concat("gitconvexapi"),g=a(6),b=a(18),h=a(7),v=a(3);a(76);function E(e){g.b.add(b.a,h.a);var t=Object(n.useContext)(u).dispatch,a=[{link:"/dashboard/repository",icon:r.a.createElement(v.a,{icon:["far","folder"],className:"text-3xl text-gray-600"}),label:"Repositories"},{link:"/dashboard/compare",icon:r.a.createElement(v.a,{icon:["fas","object-group"],className:"text-3xl text-gray-600"}),label:"Compare"},{link:"/dashboard/settings",icon:r.a.createElement(v.a,{icon:["fas","cog"],className:"text-3xl text-gray-600"}),label:"Settings"},{link:"/dashboard/help",icon:r.a.createElement(v.a,{icon:["far","question-circle"],className:"text-3xl text-gray-600"}),label:"Help"}];return r.a.createElement("div",{className:"dashboard--leftpane xl:block lg:block md:flex md:justify-between xl:w-1/4 lg:w-1/3 md:w-full"},r.a.createElement("div",{className:"leftpane--logo",onClick:function(a){t({type:"ADD_FORM_CLOSE",payload:!0}),e.parentProps.history.push("/dashboard")}},r.a.createElement("div",{className:"dashboard-leftpane__logo"}),r.a.createElement("div",{className:"font-mono xl:text-3xl lg:text-2xl md:text-3xl sm:text-2xl p-4"},r.a.createElement("span",{className:"font-bold mx-2 border-b-4 border-pink-400"},"Git"),"Convex")),r.a.createElement("div",{className:"menu xl:mt-32 lg:mt-24 cursor-pointer xl:block lg:block md:flex sm:block items-center align-middle"},a.map((function(e){return r.a.createElement(o.b,{to:"".concat(e.link),exact:!0,activeClassName:"bg-gray-300",className:"menu--link",key:e.label},r.a.createElement("div",{className:"menu--items"},r.a.createElement("div",{className:"menu--items__icon text-sm"},e.icon),r.a.createElement("div",{className:"menu--items__label xl:text-2xl lg:text-2xl md:text-xl"},e.label)))}))))}var j=a(16),x=a.n(j),N=a(22),y=a(20);function O(e){var t=e.loadAnimation,a=Object(y.b)({from:{marginLeft:"0px",opacity:0},to:function(){var e=Object(N.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=100;case 1:if(!--a){e.next=12;break}return e.next=4,t({marginLeft:"10px",opacity:.5});case 4:return e.next=6,t({marginLeft:"20px",opacity:.8});case 6:return e.next=8,t({marginLeft:"30px",opacity:1});case 8:return e.next=10,t({marginLeft:"0px",opacity:1});case 10:e.next=1;break;case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),config:{tension:"500"}});return r.a.createElement("div",{className:"flex gap-4 mx-auto text-center"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.div,{className:"bg-pink-200 w-8 h-8 rounded-full p-2",style:a}),r.a.createElement(y.a.div,{className:"bg-green-200 w-8 h-8 rounded-full p-2",style:a}),r.a.createElement(y.a.div,{className:"bg-blue-200 w-8 h-8 rounded-full p-2",style:a})):null)}a(80),a(81);function w(e){g.b.add(h.a);var t=Object(n.useContext)(u),a=t.state,s=t.dispatch,i=Object(n.useState)(""),l=Object(c.a)(i,2),o=l[0],m=l[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),E=b[0],j=b[1],x=Object(n.useState)(""),N=Object(c.a)(x,2),w=N[0],C=N[1],k=Object(n.useState)(!1),S=Object(c.a)(k,2),T=S[0],I=S[1],R=Object(n.useState)(!1),A=Object(c.a)(R,2),F=A[0],_=A[1],P=Object(n.useState)(!1),L=Object(c.a)(P,2),D=L[0],q=L[1],B=Object(n.useState)(!1),M=Object(c.a)(B,2),G=M[0],H=M[1],J=Object(n.useState)(!1),U=Object(c.a)(J,2),z=U[0],V=U[1],K=Object(n.useState)(!1),W=Object(c.a)(K,2),Y=W[0],Z=W[1],X=Object(y.b)({config:{duration:1500,tension:500},from:{transform:"translate(0em, 0em)"},to:{transform:"translate(2em, 0em)"}}),Q=Object(y.b)({config:{duration:500,tension:500},from:{transform:"translate(2em, 0em)"},to:{transform:"translate(0em, 0em)"}});function $(){I(!1),_(!1)}function ee(e){return r.a.createElement("div",{key:"switch-".concat(e),className:"toggle-switch ".concat("clone"===e&&z?"bg-green-400":"bg-gray-200","\n        ").concat("init"===e&&Y?"bg-blue-400":"bg-gray-200"),onClick:function(t){"clone"===e?z?V(!1):(V(!0),Z(!1)):Y?Z(!1):(Z(!0),V(!1))}},"clone"===e?r.a.createElement(y.a.div,{className:"toggle-switch--pill",id:"".concat(e,"-switch"),style:z?X:Q}):r.a.createElement(y.a.div,{className:"toggle-switch--pill",id:"".concat(e,"-switch"),style:Y?X:Q}))}return Object(n.useEffect)((function(){a.shouldAddFormClose&&e.formEnable(!1)}),[a,e]),r.a.createElement("div",{className:"repo-form--status xl:w-1/2 lg:w-2/3 md:w-3/4 sm:w-11/12 w-11/12 ".concat(G?"border-dashed border-2":"")},G?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"status--label"},"Repo setup in progress..."),r.a.createElement("div",{className:"animation-loader"},r.a.createElement(O,{loadAnimation:G}))):r.a.createElement("div",{className:"repo-form block"},F?r.a.createElement("div",{className:"alert-success"},"New repo added"):T?r.a.createElement("div",{className:"alert-failure"},"Process failed! Please try again",D?r.a.createElement("div",{className:"font-semibold"},"Invalid input paremeters!"):null):null,r.a.createElement("div",{className:"repo-form--header"},"Enter Repo Details"),r.a.createElement("div",null,r.a.createElement("input",{id:"repoNameText",type:"text",placeholder:"Enter a Repository Name",className:"repo-form--input",onChange:function(e){m(e.target.value)},value:o,onClick:function(){$()}})),r.a.createElement("div",null,r.a.createElement("input",{id:"repoPathText",type:"text",placeholder:z?"Enter base directory path":"Enter repository path",className:"repo-form--input",onChange:function(e){j(e.target.value)},value:E,onClick:function(){$()}})),z&&E&&o?r.a.createElement("div",{className:"repo-form--clone"},"The repo will be cloned to",r.a.createElement("span",{className:"mx-3 text-center font-sans font-semibold border-b-2 border-dashed"},E,r.a.createElement(r.a.Fragment,null,E.includes("\\")?"\\":"/"),o)):null,r.a.createElement("div",{className:"repo-form--options"},r.a.createElement("div",{className:"options--switch"},r.a.createElement("div",null,ee("clone")),r.a.createElement("div",{className:"options--label"},"Clone from remote")),r.a.createElement("div",{className:"options--switch"},r.a.createElement("div",null,ee("init")),r.a.createElement("div",{className:"options--label"},"Initialize a new repo"))),z?r.a.createElement("div",{className:"option--clone"},r.a.createElement("div",{className:"option--clone--icon"},r.a.createElement(v.a,{icon:["fas","link"]})),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{value:w,className:"border-0 outline-none w-full p-2",placeholder:"Enter the remote repo URL",onClick:function(){I(!1)},onChange:function(e){C(e.target.value)}}))):null,r.a.createElement("div",{className:"repo-form--action"},r.a.createElement("div",{className:"btn btn-danger",id:"addRepoClose",onClick:function(){e.formEnable(!1)}},"Close"),r.a.createElement("div",{className:"btn btn-success",id:"addRepoSubmit",onClick:function(){!function(e,t){if(e&&t){if(e.match(/[^a-zA-Z0-9-_.\s]/gi))return q(!0),void I(!0);var n=!1,r=!1,i=w;if(t=t.replace(/\\/gi,"\\\\"),z&&!w)return I(!0),!1;if(i.match(/[^a-zA-Z0-9-_.~@#$%:/]/gi))return q(!0),void I(!0);Y?n=!0:z&&i&&(r=!0),H(!0),d()({url:f,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRepo(repoName: "'.concat(e,'", repoPath: "').concat(t,'", initSwitch: ').concat(n,", cloneSwitch: ").concat(r,', cloneUrl: "').concat(i,'"){\n                  message\n                  repoId\n                }\n              }\n            ')}}).then((function(e){if(H(!1),q(!1),e.data.data&&!e.data.error){var t=e.data.data.addRepo.message;t&&!t.match(/FAIL/g)?(_(!0),I(!1),V(""),Z(""),m(""),j(""),C(""),s({action:"DELETE_PRESENT_REPO",payload:[]}),console.log(a.presentRepo)):(I(!0),_(!1))}else I(!0),_(!1)})).catch((function(e){H(!1),console.log(e),I(!0),_(!1)}))}else q(!1),I(!0)}(o,E)}},"Submit"))))}var C=a(11);a(82);function k(e){g.b.add(C.a,h.a);var t=e.repoData,a=Object(n.useState)(""),s=Object(c.a)(a,2),i=s[0],l=s[1],m=Object(n.useState)(!1),u=Object(c.a)(m,2),p=u[0],b=u[1];Object(n.useEffect)((function(){b(!0);var t=e.repoData.id,a=JSON.stringify(JSON.stringify({repoId:t})),n=d.a.CancelToken.source();return d()({url:f,method:"POST",headers:{"Content-type":"application/json"},cancelToken:n.token,data:{query:'\n    \n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                    gitRepoStatus {\n                      gitTotalCommits\n                      gitTotalTrackedFiles  \n                      gitCurrentBranch  \n                    }\n                  }\n                }\n              ")}}).then((function(e){b(!1),l(e.data.data.gitConvexApi.gitRepoStatus)})).catch((function(e){b(!1)})),function(){n.cancel()}}),[e]);var E=t.repoName,j="";if(E)if(E.split(" ").length>1){var x=E.split(" ");j=(j=x[0].substring(0,1)+x[1].substring(0,1)).toUpperCase()}else j=E.substring(0,1).toUpperCase();return r.a.createElement(o.b,{to:"/dashboard/repository/".concat(t.id),className:"xl:w-1/3 lg:w-2/4 md:w-1/2 repo-card",key:t.repoName},r.a.createElement("div",{className:"repo-card--avatar"},j),r.a.createElement("div",{className:"repo-card--name"},t.repoName),r.a.createElement("div",{className:"repo-card--footer"},p||!i?r.a.createElement("div",{className:"block mx-auto w-full bg-white rounded"},r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:p||!i}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"footer--items rounded-l-md"},r.a.createElement(v.a,{className:"my-auto",icon:["fas","grip-lines"]}),r.a.createElement("div",{className:"footer--items--label"},i?r.a.createElement(r.a.Fragment,null,i.gitTotalCommits," Commits"):"...")),r.a.createElement("div",{className:"footer--items"},r.a.createElement(v.a,{className:"my-auto",icon:["fas","file-alt"]}),r.a.createElement("div",{className:"footer--items--label"},i?r.a.createElement(r.a.Fragment,null,i.gitTotalTrackedFiles," Tracked Files"):"...")),r.a.createElement("div",{className:"footer--items rounded-r-md"},r.a.createElement(v.a,{className:"my-auto",icon:["fas","code-branch"]}),r.a.createElement("div",{className:"footer--items--label font-semibold"},i?r.a.createElement(r.a.Fragment,null,i.gitCurrentBranch):"...")))))}function S(e){g.b.add(h.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],p=o[1],b=Object(n.useState)(!1),E=Object(c.a)(b,2),j=E[0],x=E[1],N=Object(n.useContext)(u).dispatch;Object(n.useEffect)((function(){x(!0);var e=f,t=d.a.CancelToken.source();return d()({url:e,method:"POST",cancelToken:t.token,data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n              fetchRepo{\n                repoId\n                repoName\n                repoPath\n              }\n            }\n          }\n        ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(x(!1),t){var a=t.repoId,n=t.repoName,r=[];a.forEach((function(e,t){r.push({id:e,repoName:n[t]})})),i(r),N({type:"DELETE_PRESENT_REPO",payload:[]}),N({action:"PRESENT_REPO",payload:[].concat(r)})}})).catch((function(e){console.log(e),x(!1)})),function(){t.cancel()}}),[m,N]);return r.a.createElement("div",{className:"repo-component"},m?r.a.createElement(w,{formEnable:function(e){p(e)}}):function(){var e=s;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"repo-component--wrapper"},r.a.createElement(r.a.Fragment,null,e.length>0?r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(k,{key:e.id,repoData:e})})),e.length%2!==0&&1!==e.length?r.a.createElement("div",{className:"xl:w-1/3 lg:w-2/4 md:w-1/2 block p-6 my-6 text-center"}):null):r.a.createElement("div",{className:"repo-component--loadingview"},j?r.a.createElement("div",{className:"block loadingview--content"},r.a.createElement("div",{className:"flex loadingview--content"},r.a.createElement(O,{loadAnimation:j})),r.a.createElement("div",null,"Loading available repos...")):r.a.createElement("div",null,"No repos present. Press + to add a new repo")))),r.a.createElement("div",{className:"fixed bottom-0 right-0 mb-10 mr-16 cursor-pointer justify-center"},r.a.createElement("div",{id:"addRepoButton",className:"border-8 border-indigo-100 shadow-lg bg-indigo-300 hover:bg-indigo-400 rounded-full h-20 w-20 flex justify-center text-white font-sans font-black",onClick:function(){p(!0),N({type:"ADD_FORM_CLOSE",payload:!1})},onMouseEnter:function(e){e.stopPropagation(),e.preventDefault(),document.getElementById("pop-up").classList.remove("hidden")},onMouseLeave:function(e){document.getElementById("pop-up").classList.add("hidden")}},r.a.createElement("div",{className:"flex w-full h-full justify-center items-center text-center"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","plus"],size:"2x",className:"text-indigo-100"}))),r.a.createElement("div",{id:"pop-up",className:"addrepo--button--tooltip hidden",style:{marginTop:"-75px",width:"130px"}},"Click to add a new repo"))))}())}a(83);function T(e){var t=e.params,a=t.platform,n=t.gitVersion,s=t.nodeVersion,i=[{label:"Platform",value:a},{label:"Git",value:n},{label:"Node",value:s}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dashboard--rightpane xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"rightpane--toparea xl:flex lg:flex md:block sm:block"},i.map((function(e){return r.a.createElement("div",{key:e.label,className:"rightpane--toparea--hc"},r.a.createElement("div",{className:"rightpane--toparea--hclabel xl:font-bold lg:font-semibold md:font-medium xl:text-2xl lg:text-xl md:text-md"},e.label),""!==e.value?r.a.createElement("div",{className:"rightpane--toparea--hcpills",id:"hc-param__".concat(e.label)},e.value):r.a.createElement("div",{className:"rounded-md bg-red-200 text-red-900 font-bold p-2"},"Invalid"))}))),function(){if(a&&n&&s)return r.a.createElement(S,{parentProps:e})}()))}function I(){return g.b.add(h.a,C.a),r.a.createElement("div",{className:"w-full h-full pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"flex text-5xl text-gray-700 mx-6 my-auto align-middle items-center"},r.a.createElement(v.a,{icon:["fas","question-circle"]}),r.a.createElement("div",{className:"my-5 mx-5 font-sans"},"Help and Support")),r.a.createElement("div",{className:"my-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans text-gray-900"},"Facing an issue or need any help?"),r.a.createElement("span",{className:"text-xl font-medium my-2"},"Before raising an issue, make sure you have gone through the"),r.a.createElement("span",{className:"font-mono text-xl mx-2 text-indigo-500 hover:text-indigo-600 hover:font-semibold cursor-pointer"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex/blob/master/DOCUMENTATION.md",target:"_blank",rel:"noopener noreferrer"},"Documentation"))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-indigo-800"},"Have any queries or want to share your feedback?"),r.a.createElement("div",{className:"flex mx-auto my-2 items-center align-middle"},r.a.createElement("div",{className:"text-gray-800 text-2xl font-sans"},"Lets have a discussion on"),r.a.createElement("a",{href:"https://discord.gg/PSd2Cq9",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex mx-2 justify-around align-middle items-center bg-indigo-400 text-white p-2 rounded shadow-sm text-2xl cursor-pointer hover:bg-indigo-500"},r.a.createElement(v.a,{icon:["fab","discord"]}),r.a.createElement("div",{className:"mx-3 font-sans font-black"},"discord"))))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600"},"You can also use the github issue reporting feature to report any issue you find in the platform"),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-package/issues",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"flex w-1/3 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 w-3/4 cursor-pointer hover:shadow-lg align-middle my-3 items-center p-3 bg-white shadow-md rounded border border-gray-500"},r.a.createElement(v.a,{icon:["fab","github"]}),r.a.createElement("div",{className:"mx-2"},"Report an issue")))),r.a.createElement("div",{className:"my-10 border rounded shadow-sm p-4 mx-10"},r.a.createElement("div",{className:"text-2xl font-sans font-semibold text-gray-600 my-5 break-normal"},"gitconvex is open source and please visit the repo if you are interested in contributing to the platform"),r.a.createElement("div",{className:"xl:flex lg:block md:block justify-center items-center align-middle"},r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-ui",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-blue-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(v.a,{icon:["fab","react"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex UI")),r.a.createElement("a",{href:"https://github.com/neel1996/gitconvex-server",target:"_blank",rel:"noopener noreferrer",className:"mx-auto h-full flex w-3/4 xl:w-1/3 lg:w-1/3 md:w-1/2 sm:w-3/4 cursor-pointer hover:shadow-lg align-middle my-4 items-center bg-white shadow-md rounded border border-gray-500"},r.a.createElement("div",{className:"bg-green-500 text-white p-1 text-5xl w-1/4 align-middle my-auto items-center text-center rounded-l"},r.a.createElement(v.a,{icon:["fab","node-js"]})),r.a.createElement("div",{className:"text-md mx-2 text-gray-700"},"gitconvex server")))))}var R=a(4),A=(a(84),a(19)),F=a(548);a(32),a(85);function _(){var e=Object(n.useContext)(u),t=e.state,s=e.dispatch,i=t.globalRepoId,l=Object(n.useState)([]),o=Object(c.a)(l,2),m=o[0],p=o[1],g=Object(n.useState)("Click on a file item to see the difference"),b=Object(c.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)([]),j=Object(c.a)(E,2),y=j[0],O=j[1],w=Object(n.useState)(""),C=Object(c.a)(w,2),k=C[0],S=C[1],T=Object(n.useState)(!1),I=Object(c.a)(T,2),_=I[0],P=I[1],L=Object(n.useState)(""),D=Object(c.a)(L,2),q=D[0],B=D[1],M=Object(n.useState)(""),G=Object(c.a)(M,2),H=G[0],J=G[1];return Object(n.useEffect)((function(){var e=t.globalRepoId;S(""),O("Click on a file item to see the difference"),v("Click on a file item to see the difference");var a=f;if(e){var n=JSON.stringify(JSON.stringify({repoId:e}));d()({url:a,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(n,")\n              {\n                gitChanges{\n                  gitChangedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){if(e&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitChanges.gitChangedFiles;(t=t.filter((function(e){return"D"!==e.split(",")[0]}))).length>=1?p(Object(R.a)(t)):B("No modified or new files found in the repo. All the files are either removed or not present in the repo!"),P(!0),s({type:"GIT_TRACKED_FILES",payload:t})}})).catch((function(e){return e}))}}),[t.globalRepoId,s]),r.a.createElement(r.a.Fragment,null,m&&m.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-diff--wrapper"},r.a.createElement("div",{className:"git-diff--files",style:{height:"880px"}},r.a.createElement(r.a.Fragment,null,m.length>=1&&m.map((function(e){if(e&&"M"===e.split(",")[0]){var t=e.split(",")[1];return r.a.createElement("div",{className:"p-2 text-sm break-words hover:bg-indigo-100 cursor-pointer ".concat(t===k?" bg-indigo-100 border-b border-indigo-400":""),onClick:function(){S(t),function(e,t){var n=f;B("");var r=JSON.stringify(JSON.stringify({repoId:e,fileName:t}));d()({url:n,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("REPO_FILE_DIFF",'", payload:').concat(r,")\n            {\n              gitFileLineChanges{\n                diffStat\n                fileDiff\n                language\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(N.a)(x.a.mark((function e(t){var n,r,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.data||t.data.error){e.next=14;break}if(n=t.data.data.gitConvexApi.gitFileLineChanges,r=n.diffStat,s=n.fileDiff,i=n.language,"NO_STAT"!==r[0]&&"NO_DIFF"!==s[0]){e.next=6;break}B("No difference could be found. Please check if the file is present in the repo!"),e.next=12;break;case 6:if(v(r[1]),O(s),!i){e.next=12;break}return e.next=11,a(46)("./prism-"+i+".js").then((function(){})).catch((function(e){console.log(e),J("markdown")}));case 11:J(i);case 12:e.next=15;break;case 14:B("Error while fetching the file difference. Please try reloading the view!");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),B("Error while fetching the file difference. Please try reloading the view!")}))}(i,t)},key:t},function(e){if(e.includes("/")){var t=e.split("/"),a=t.map((function(e,a){return a===t.length-1?null:e})).join("/"),n=t[t.length-1];return r.a.createElement("div",{className:"git-diff--files--list",title:e},r.a.createElement("div",{className:"bg-gray-100 p-1 rounded"},r.a.createElement("div",{className:"git-diff--files--label"},"Directory:"),r.a.createElement("div",{className:"git-diff--files--directory"},a)),r.a.createElement("div",{className:"git-diff--files--filename_sm"},n))}return r.a.createElement("span",{className:"git-diff--files--filename_lg"},e)}(t))}return null})))),k?"":r.a.createElement("div",{className:"git-diff--msg"},"Click on a file to see difference information"),q?r.a.createElement("div",{className:"git-diff--warn"},q):null,h&&"Click on a file item to see the difference"!==h&&!q?r.a.createElement("div",{className:"git-diff--codeview"},h?function(){if(h&&h.includes(",")){var e=h.split(",");return r.a.createElement("div",{className:"text-xl text-center w-3/4 mx-auto block p-2 border border-gray-500 rounded-md shadow-md border-dotted"},r.a.createElement("span",{className:"font-sans font-bold px-1"},e[0]),e.slice(1,e.length).map((function(e){return e.match(/insert/i)?r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-green-700 font-sans font-semibold"},"insertions (+)")):r.a.createElement("span",{key:"".concat(e,"-").concat((new Date).getTime())},r.a.createElement("span",{className:"px-2"},e.toString().split(" ")[1]),r.a.createElement("span",{className:"text-red-700 font-sans font-semibold"},"deletions (-)"))})))}}():"",y&&"Click on a file item to see the difference"!==y?r.a.createElement("div",{className:"git-diff--codeview--content",style:{height:"800px"}},function(){var e=[],t=0;return y&&y.join("").split(/@@.*@@/gi)&&H&&(e=y.join("|__HASH_SEPARATOR__|").split(/@@.*@@/gi)[1].split("|__HASH_SEPARATOR__|").map((function(e){return e.match(/\\ No newline at end of file/gi)?"":e[0]&&"+"===e[0]?r.a.createElement("div",{className:"git-diff--codeview--change bg-green-200",key:"".concat(e,"-").concat(Object(F.a)())},r.a.createElement("div",{className:"git-diff--codeview--linenumber border-green-500 text-green-500"},++t),r.a.createElement("pre",{className:"w-5/6 mx-2"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:A.highlight(e.replace("+",""),A.languages[H],H)}}))):e[0]&&"-"===e[0]?r.a.createElement("div",{className:"git-diff--codeview--change bg-red-200",key:"".concat(e,"-").concat(Object(F.a)())},r.a.createElement("div",{className:"git-diff--codeview--linenumber border-red-500 text-red-500"},"-"),r.a.createElement("pre",{className:"w-5/6 mx-2"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:A.highlight(e.replace("-",""),A.languages[H],H)}}))):e[0]?r.a.createElement("div",{className:"git-diff--codeview--change bg-white-200 ",key:"".concat(e,"-").concat(Object(F.a)())},r.a.createElement("div",{className:"git-diff--codeview--linenumber"},++t),r.a.createElement("pre",{className:"w-5/6"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:A.highlight(e,A.languages[H],H)}}))):""}))),r.a.createElement("div",{className:"break-all my-6 mx-auto"},r.a.createElement("code",null,e))}()):""):"")):r.a.createElement(r.a.Fragment,null,_?r.a.createElement("div",{className:"git-diff--error"},"No File changes in the repo"):r.a.createElement("div",{className:"git-diff--loader"},r.a.createElement("span",{className:"text-gray-400"},"Fetching changed files from the server..."))))}a(28);function P(e){var t=e.repoId,a=Object(n.useState)(!0),s=Object(c.a)(a,2),i=s[0],l=s[1],o=Object(n.useState)([]),m=Object(c.a)(o,2),u=m[0],p=m[1],g=Object(n.useState)(!1),b=Object(c.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)(!1),j=Object(c.a)(E,2),x=j[0],N=j[1],y=Object(n.useState)(!1),O=Object(c.a)(y,2),w=O[0],C=O[1],k=Object(n.useRef)();return Object(n.useEffect)((function(){l(!0);var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:f,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(t,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;l(!1),t&&t.length>0&&p(Object(R.a)(t))})).catch((function(e){l(!1)})),function(){a.cancel()}}),[e]),r.a.createElement("div",{className:"git-ops--commit"},u&&u.length>0?function(){if(u&&u.length>0){var e=u.length;return r.a.createElement(r.a.Fragment,null,h?r.a.createElement("div",{className:"git-ops--commit--alert--success"},"All changes have been committed!"):r.a.createElement("div",{className:"git-ops--commit--wrapper"},r.a.createElement("div",{className:"git-ops--commit--header"},e," Changes to commit..."),r.a.createElement("div",{className:"overflow-auto",style:{height:"300px"}},u.map((function(e){return r.a.createElement("div",{className:"git-ops--commit--stagedfiles",key:e},e)}))),r.a.createElement("div",{className:"text-xl my-4"},"Commit Message"),r.a.createElement("textarea",{className:"git-ops--commit--message",placeholder:"Enter commit message",cols:"20",rows:"5",ref:k}),x?r.a.createElement("div",{className:"git-ops--commit--alert--failed"},"Commit Failed!"):null,w?r.a.createElement("div",{className:"git-ops--commit--alert--progress"},"Committing Changes..."):r.a.createElement("div",{className:"git-ops--commit--btn",onClick:function(e){var a=k.current.value;a?function(e){C(!0),(e=e.replace(/"/gi,'\\"')).split("\n")&&e.split("\n").length>0&&(e=e.toString().split("\n").join("||")),d()({url:f,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            commitChanges(repoId: "'.concat(t,'", commitMessage: "').concat(e,'")\n          }\n        ')}}).then((function(e){C(!1),e.data.data&&!e.data.error&&"COMMIT_DONE"===e.data.data.commitChanges?v(!0):N(!0)})).catch((function(e){C(!1),N(!0)}))}(a):alert("Commit message can't be empty")}},"Commit Changes")))}}():r.a.createElement("div",{className:"git-ops--commit--alert"},i?r.a.createElement("span",null,"Loading staged files to commit..."):0===u.length?r.a.createElement("span",null,"No Staged files to commit"):r.a.createElement("span",null,"Loading...")))}function L(e){var t=e.repoId,a=Object(n.useState)(),s=Object(c.a)(a,2),i=s[0],l=s[1],o=Object(n.useState)(!1),m=Object(c.a)(o,2),u=m[0],p=m[1],g=Object(n.useState)(!1),b=Object(c.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)([]),j=Object(c.a)(E,2),x=j[0],N=j[1],y=Object(n.useState)(!1),w=Object(c.a)(y,2),C=w[0],k=w[1],S=Object(n.useState)(!1),T=Object(c.a)(S,2),I=T[0],A=T[1],F=Object(n.useState)(!1),_=Object(c.a)(F,2),P=_[0],L=_[1],D=Object(n.useState)(!1),q=Object(c.a)(D,2),B=q[0],M=q[1],G=Object(n.useRef)(),H=Object(n.useRef)();function J(e){var t=e.split("||");return r.a.createElement("div",{className:"block justify-evenly border shadow rounded p-2"},["Commit Hash","Commit Author","Commit Timestamp","Commit Message"].map((function(e,a){return n=e,s=t[a],r.a.createElement("div",{className:"flex justify-evenly",key:n},r.a.createElement("div",{className:"font-sans text-gray-900 font-bold mx-2 w-1/4 break-words"},n),r.a.createElement("div",{className:"font-sans text-gray-800 mx-2 w-1/2 break-words"},s));var n,s})))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:f,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;l(t)})).catch((function(e){console.log(e)}))}),[e]),r.a.createElement(r.a.Fragment,null,I?r.a.createElement("div",{className:"git-ops--push--success"},r.a.createElement("div",{className:"git-ops--push--alert--success"},"Changes have been pushed to remote")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--push"},r.a.createElement("div",{className:"git-ops--push--header"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"git-ops--push--select",defaultValue:"checked",onChange:function(){p(!0)},ref:G,disabled:!i},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},i?"Select the remote repo":"Loading available remotes..."),i?function(){if(i){var e=i.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),u?r.a.createElement("div",null,r.a.createElement("select",{className:"git-ops--push--select",defaultValue:"checked",onChange:function(){v(!0),function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:f,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_UNPUSHED_COMMITS",'", payload: ').concat(t,"){\n              gitUnpushedCommits{\n                commits\n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitUnpushedCommits.commits;0===t.length&&k(!0),N(Object(R.a)(t))}})).catch((function(e){console.log(e)}))}()},ref:H},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),i?function(){if(i)return i.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,x&&x.length>0?r.a.createElement("div",{className:"git-ops--push--unpushed"},r.a.createElement("div",{className:"git-ops--push--unpushed--label"},"Commits to be pushed"),r.a.createElement("div",{className:"overflow-auto",style:{height:"200px"}},x.map((function(e,t){return r.a.createElement("div",{key:"unpushed-commit-".concat(t),className:"git-ops--push--commits"},J(e))})))):r.a.createElement("div",null),P?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--push--nochange"},"Failed to push changes!")):null,u&&h&&x.length>0&&!B?r.a.createElement("div",{className:"git-ops--push--btn",onClick:function(){var e,a,n=G.current.value.trim(),r=H.current.value.trim();n&&r&&(e=n,a=r,M(!0),d()({url:f,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            pushToRemote(repoId: "'.concat(t,'", remoteHost: "').concat(e,'", branch: "').concat(a,'")\n          }\n        ')}}).then((function(e){e.data.data&&!e.data.error&&"PUSH_FAILED"!==e.data.data.pushToRemote?(A(!0),M(!1)):(L(!0),M(!1))})).catch((function(e){L(!0),M(!1)})))}},"Push changes"):r.a.createElement(r.a.Fragment,null,C?r.a.createElement("div",{className:"git-ops--push--nocommits"},"No Commits to Push"):null),r.a.createElement(r.a.Fragment,null,B?r.a.createElement("div",{className:"git-ops--push--loader"},r.a.createElement("div",{className:"text-green-500 text-2xl"},"Pushing to remote..."),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:B}))):null))))}function D(e){var t=e.stageComponents,a=e.repoId,s=Object(n.useState)(!1),i=Object(c.a)(s,2),l=i[0],o=i[1],m=Object(n.useState)(!1),u=Object(c.a)(m,2),p=u[0],g=u[1],b=Object(n.useState)(!1),h=Object(c.a)(b,2),v=h[0],E=h[1];return Object(n.useEffect)((function(){}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--stage"},r.a.createElement(r.a.Fragment,null,t.length>0&&!l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--stage--header"},"All these changes will be staged:"),r.a.createElement("div",{className:"overflow-y-auto",style:{height:"400px"}},t&&t.map((function(e){return r.a.createElement("div",{className:"git-ops--stage--item",key:e},e)}))),v?r.a.createElement("div",{className:"git-ops--stage--alert--failure"},"Staging Failed!"):null,p?r.a.createElement("div",{className:"git-ops--stage--alert--progress"},"Staging in prgoress..."):r.a.createElement("div",{className:"git-ops--stage--btn",onClick:function(){g(!0),d()({url:f,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageAllItems(repoId: "'.concat(a,'")\n          }\n        ')}}).then((function(e){g(!1),e.data.data&&!e.data.error&&"ALL_STAGED"===e.data.data.stageAllItems&&o(!0)})).catch((function(e){console.log(e),g(!1),E(!0)}))}},"Confirm Staging")):r.a.createElement("div",{className:"git-ops--stage--alert--nochange"},"No Changes for staging..."),l?r.a.createElement("div",{className:"git-ops--stage--alert--success"},"All changes Staged!"):null)))}function q(e){g.b.add(C.a);var t=e.repoId,a=e.stateChange,s=Object(n.useState)([]),i=Object(c.a)(s,2),l=i[0],o=i[1],m=Object(n.useState)([]),u=Object(c.a)(m,2),p=u[0],b=u[1],h=Object(n.useState)(""),v=Object(c.a)(h,2),E=v[0],j=v[1],x=Object(n.useState)([]),N=Object(c.a)(x,2),y=N[0],O=N[1],w=Object(n.useState)(0),k=Object(c.a)(w,2),S=k[0],T=k[1],I=Object(n.useState)(""),A=Object(c.a)(I,2),F=A[0],_=A[1],q=Object(n.useState)([]),B=Object(c.a)(q,2),M=B[0],G=B[1],H=Object(n.useState)(!1),J=Object(c.a)(H,2),U=J[0],z=J[1],V=Object(n.useState)(!1),K=Object(c.a)(V,2),W=K[0],Y=K[1];Object(n.useEffect)((function(){Y(!0),G([]),_("");var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:f,method:"POST",headers:{"Content-type":"application/json"},cancelToken:a.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(t,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                  gitStagedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.gitChanges;o(Object(R.a)(t.gitChangedFiles)),b(Object(R.a)(t.gitUntrackedFiles));var a=Object(R.a)(t.gitChangedFiles),n=Object(R.a)(t.gitUntrackedFiles),r=[];a&&a.forEach((function(e){if(e.split(",").length>0){var t=e.split(",")[1];r.push(t)}})),n&&n.forEach((function(e){e&&((e=e.replace("NO_DIR","")).split(",")?r.push(e.split(",").join("")):r.push(e))})),O([].concat(r)),Y(!1)}})).catch((function(e){Y(!1)})),function(){a.cancel()}}),[e,S,F]),Object(n.useEffect)((function(){var t=d.a.CancelToken.source(),a=JSON.stringify(JSON.stringify({repoId:e.repoId}));return d()({url:f,method:"POST",headers:{"Content-type":"application/json"},cancelToken:t.token,data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("GIT_STAGED_FILES",'", payload:').concat(a,")\n              {\n                gitStagedFiles{\n                    stagedFiles\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitStagedFiles.stagedFiles;t&&t.length>0&&G(Object(R.a)(t))})).catch((function(e){})),function(){return t.cancel()}}),[y,e.repoId,S]);function Z(){var e=[],a=function(e){return"M"===e?r.a.createElement("div",{className:"git-ops--file--status text-yellow-700 border-yellow-500 "},"Modified"):"D"===e?r.a.createElement("div",{className:"git-ops--file--status text-red-700 bg-red-200 border-red-500 "},"Removed"):r.a.createElement("div",{className:"git-ops--file--status text-indigo-700 border-indigo-500 "},"Untracked")},n=function(e){return r.a.createElement("div",{className:"git-ops--stageitem--add",onClick:function(a){!function(e,a){var n=S+1;a.target.innerHTML="Staging...",a.target.style.backgroundColor="gray",a.target.disabled=!0,d()({url:f,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            stageItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n          }\n        ')}}).then((function(t){T(n),t.data.data&&!t.data.error&&"ADD_ITEM_SUCCES"===t.data.data.stageItem&&_(e)})).catch((function(e){console.log(e),T(n)}))}(e,a),z(!1)},key:"add-btn-".concat(e)},"Add")};return l&&l.forEach((function(t){if(t.split(",").length>0){var r=t.split(",")[1];e.push([r,a(t.split(",")[0]),n(r)])}})),p&&p.forEach((function(t){t&&((t=t.replace("NO_DIR","")).split(",")?e.push([t.split(",").join(""),a("N"),n(t.split(",").join(""))]):e.push([t,a("N"),n(t)]))})),e}return r.a.createElement(r.a.Fragment,null,E?r.a.createElement("div",{className:"git-ops--backdrop",id:"operation-backdrop",style:{background:"rgba(0,0,0,0.6)"},onClick:function(e){"operation-backdrop"===e.target.id&&(j(""),T(S+1),G([]),o([]),b([]),O([]))}},function(e){switch(e){case"stage":return y&&y.length>0?r.a.createElement(D,{repoId:t,stageComponents:y}):r.a.createElement("div",{className:"w-1/2 mx-auto my-auto bg-gray-200 p-6 rounded-md"},r.a.createElement("div",{className:"bg-white p-6 font-sans text-3xl font-light text-gray-500 border-b-4 border-dashed rounded-lg shadow-lg border-gray-500 text-center"},"No Changes for staging..."));case"commit":return r.a.createElement(P,{repoId:t});case"push":return r.a.createElement(L,{repoId:t});default:return null}}(E),r.a.createElement("div",{className:"git-ops--backdrop--close",onClick:function(){j("")}},"X")):null,r.a.createElement("div",{className:"git-ops--actions"},[{label:"Stage all changes",color:"blue",key:"stage"},{label:"Commit Changes",color:"green",key:"commit"},{label:"Push to remote",color:"pink",key:"push"}].map((function(e){var t=e.label,a=e.color,n=e.key;return r.a.createElement("div",{className:"git-ops--actions--btn border-".concat(a,"-500 text-").concat(a,"-700 hover:bg-").concat(a,"-500"),key:n,onClick:function(){return j(n)}},t)}))),Z()&&Z().length>0?r.a.createElement("div",{className:"git-ops--file-table"},r.a.createElement("div",{className:"git-ops--file-table--header"},["Changes","File Status","Action"].map((function(e,t){return r.a.createElement("div",{key:e,className:"git-ops--file-table--cols ".concat(0===t?"w-3/4":"w-1/4")},e)}))),r.a.createElement("div",{className:"git-ops--file-table--data",style:{height:"400px"}},r.a.createElement("div",null,Z()&&Z().map((function(e,t){return r.a.createElement("div",{className:"git-ops--file-table--items",key:"tableItem-".concat(t)},e.map((function(e,t){return r.a.createElement("div",{key:"".concat(e,"-").concat(t),className:"break-all items-center align-middle my-auto ".concat(0===t?"w-3/4 text-left":"w-1/4 text-center")},e)})))}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-ops--nochange"},W?r.a.createElement("span",{className:"text-gray-600"},"Fetching results..."):r.a.createElement("span",null,"No files changes found in the repo."))),r.a.createElement(r.a.Fragment,null,M?function(){if(M&&M.length>0)return r.a.createElement("div",{className:"git-ops--stagearea"},r.a.createElement("div",{className:"git-ops--stagearea--top"},r.a.createElement("div",{className:"text-5xl font-sans text-gray-800 mx-4"},"Staged Files"),r.a.createElement("div",{className:"git-ops--unstage--btn",onClick:function(e){!function(e){var n=S+1;G(),a(),e.target.innerHTML="Removing...",e.target.style.backgroundColor="gray",e.target.disabled=!0,d()({url:f,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeAllStagedItem(repoId: "'.concat(t,'")\n            }\n          ')}}).then((function(e){T(n+1),e.data.data&&!e.data.error&&"STAGE_ALL_REMOVE_SUCCESS"===e.data.data.removeAllStagedItem&&G([])})).catch((function(e){console.log(e),T(n+1)}))}(e),z(!1)}},"Remove All Items")),U?r.a.createElement("div",{className:"my-4 mx-auto text-center shadow-md rounded p-4 border border-red-200 text-red-400 font-sans font-semibold"},"Remove item failed. Note that deleted files cannot be removed as a single entity. Use",r.a.createElement("i",{className:"border-b border-gray-600 border-dashed mx-2"},"Remove All Items"),"to perform a complete git reset"):null,r.a.createElement("div",{className:"git-ops--unstage--header"},r.a.createElement("div",{className:"w-3/4"},"Staged File"),r.a.createElement("div",{className:"w-1/2"},"Action")),r.a.createElement("div",{className:"git-ops--unstage--table",style:{height:"450px"}},M.map((function(e){return e?r.a.createElement("div",{className:"git-ops--unstage--table--data",key:e},r.a.createElement("div",{className:"git-ops--unstage--table--item"},e),r.a.createElement("div",{className:"w-1/2 mx-auto"},r.a.createElement("div",{className:"git-ops--unstage--remove--btn",onClick:function(n){!function(e,n){var r=S+1;a(),n.target.innerHTML="removing...",n.target.style.backgroundColor="gray",n.target.disabled=!0,d()({url:f,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              removeStagedItem(repoId: "'.concat(t,'", item: "').concat(e,'")\n            }\n          ')}}).then((function(t){if(T(r),t.data.data&&!t.data.error)if("STAGE_REMOVE_SUCCESS"===t.data.data.removeStagedItem){var a=M;a=a.filter((function(t){return t!==e})),G(Object(R.a)(a))}else z(!0)})).catch((function(e){console.log(e),T(r),z(!0)}))}(e,n),z(!1)},key:"remove-btn-".concat(e)},"Remove"))):null}))))}():null))}function B(e){g.b.add(C.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)([]),o=Object(c.a)(l,2),m=o[0],p=o[1],b=Object(n.useState)("File View"),h=Object(c.a)(b,2),E=h[0],j=h[1],x=["File View","Git Difference","Git Operations"],N=Object(n.useState)(!1),y=Object(c.a)(N,2),O=y[0],w=y[1],k=Object(n.useState)(!1),S=Object(c.a)(k,2),T=S[0],I=S[1],A=Object(n.useState)(!1),F=Object(c.a)(A,2),P=F[0],L=F[1],D=Object(n.useContext)(u).dispatch,B=function(){I(!0)},M=Object(n.useMemo)((function(){return r.a.createElement(_,{repoId:e.repoId})}),[e]),G=Object(n.useMemo)((function(){return r.a.createElement(q,{repoId:e.repoId,stateChange:B})}),[e]);return Object(n.useEffect)((function(){var t=f;I(!1),L(!0),w(!1);var a=JSON.stringify(JSON.stringify({repoId:e.repoId}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n            query GitConvexApi{\n              gitConvexApi(route: "'.concat("REPO_TRACKED_DIFF",'", payload:').concat(a,")\n              {\n                gitChanges{\n                  gitUntrackedFiles\n                  gitChangedFiles\n                  gitStagedFiles\n                }\n              }\n            }\n        ")}}).then((function(e){if(e){var t=e.data.data.gitConvexApi.gitChanges,a=t.gitChangedFiles,n=t.gitUntrackedFiles,r=t.gitStagedFiles;(a||n)&&(a.length>0||n.length>0)?(i(Object(R.a)(a)),p(Object(R.a)(n)),w(!1),L(!1),D({type:"GIT_TRACKED_FILES",payload:a}),D({type:"GIT_ACTION_TRACKED_FILES",payload:Object(R.a)(a)}),D({type:"GIT_ACTION_UNTRACKED_FILES",payload:Object(R.a)(n)})):0===r.length&&(w(!0),L(!1))}})).catch((function(e){console.log(e),w(!0)}))}),[e,D,E,T]),r.a.createElement(r.a.Fragment,null,O?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-tracked--wrapper"},G),r.a.createElement("div",{className:"git-tracked--nochange"},"No changes found in the selected git repo"),r.a.createElement("div",{className:"git-tracked--alert"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fab","creative-commons-zero"],className:"git-tracked--alert--icon"})),r.a.createElement("div",{className:"git-tracked--alert--msg"},'"0" changes in repo'))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"git-tracked--topmenu"},x.map((function(e){var t="git-tracked--menu-default ";return t+=e===E?"bg-blue-100 text-blue-800 border-b border-blue-700":"bg-blue-600 text-white",r.a.createElement("div",{className:"git-tracked--menu-default ".concat(t),key:e,onClick:function(t){j(e)}},e)})))),r.a.createElement("div",{className:"git-tracked--wrapper"}," ",function(){switch(E){case"File View":if(!O)return r.a.createElement("div",{className:"git-tracked--diff"},s?function(){var e=[],t=[];return s&&s.length>0?(s.forEach((function(a,n){var s=a.split(","),i=s[0],c=s[1],l="p-1 ";switch(i){case"M":l+="text-yellow-900 bg-yellow-200",t.push(r.a.createElement("div",{className:"git-tracked--changes",key:c},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},c),r.a.createElement("div",{className:"git-tracked--changes--status"},"Modified")));break;case"D":l+="text-red-900 bg-red-200",e.push(r.a.createElement("div",{className:"git-tracked--changes",key:c},r.a.createElement("div",{className:"".concat(l," w-11/12 break-all")},c),r.a.createElement("div",{className:"git-tracked--changes--status"},"Deleted")));break;default:l+="text-indigo-900 bg-indigo-200"}})),r.a.createElement(r.a.Fragment,null,t," ",e)):r.a.createElement("div",{className:"mx-auto w-3/4 my-4 p-2 border-b-4 border-dashed border-pink-300 rounded-md mx-auto text-center font-sans font-semibold text-xl"},P?r.a.createElement("span",{className:"text-gray-400"},"Fetching results from the server..."):r.a.createElement("span",null,"No changes in the repo!"))}():r.a.createElement("div",{className:"rounded-lg shadow-md text-center p-4 font-sans"},"Getting file based status..."),m?m.map((function(e){var t=e.split(",");return t?("NO_DIR"===t[0]?"":t[0])+t[1]:""})).filter((function(e){return!!e})).map((function(e,t){return r.a.createElement("div",{className:"flex git-tracked--untracked",key:"".concat(e,"-").concat(t)},r.a.createElement("div",{className:"git-tracked--untracked--label"},e),r.a.createElement("div",{className:"git-tracked--untracked--status"},"New / Untracked"))})):null);break;case"Git Difference":if(!O)return M;break;case"Git Operations":return G;default:return r.a.createElement("div",{className:"text-xl text-center"}," Invalid Menu Selector! ")}}()," ")))}a(86);function M(){g.b.add(h.a);var e=Object(n.useContext)(u),t=e.state,a=e.dispatch,s=t.presentRepo,i=Object(n.useState)(!1),l=Object(c.a)(i,2),o=l[0],m=l[1],p=Object(n.useState)({}),b=Object(c.a)(p,2),E=b[0],j=b[1],y=Object(n.useState)([]),O=Object(c.a)(y,2),w=O[0],C=O[1],k=Object(n.useState)(""),S=Object(c.a)(k,2),T=S[0],I=S[1],A=Object(n.useState)({gitBranchList:"",gitCurrentBranch:"",gitTotalCommits:0,gitTotalTrackedFiles:0}),F=Object(c.a)(A,2),_=F[0],P=F[1],L=Object(n.useState)(!1),D=Object(c.a)(L,2),q=D[0],M=D[1],G=Object(n.useMemo)((function(){if(E&&E.id)return r.a.createElement(B,{repoId:E.id})}),[E]);function H(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"top-pane--component"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(v.a,{icon:["fas",e]})),r.a.createElement("div",{className:"mx-2"},t)))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();function t(){var t=E&&E.id;if(t){var a=JSON.stringify(JSON.stringify({repoId:t}));d()({url:f,method:"POST",headers:{"Content-type":"application/json"},cancelToken:e.token,data:{query:'\n              query GitConvexApi\n              {\n                gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                  gitRepoStatus {\n                    gitBranchList\n                    gitCurrentBranch\n                    gitTotalCommits\n                    gitTotalTrackedFiles \n                  }\n                }\n              }\n            ")}}).then((function(e){P(e.data.data.gitConvexApi.gitRepoStatus),I(e.data.data.gitConvexApi.gitRepoStatus.gitCurrentBranch)})).catch((function(e){e&&console.log("API GitStatus error occurred : "+e)}))}}function n(){return(n=Object(N.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d()({url:f,method:"POST",cancelToken:e.token,data:{query:'\n              query GitConvexApi{\n                gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n                  fetchRepo{\n                    repoId\n                    repoName\n                    repoPath\n                  }\n                }\n              }\n          ')}}).then((function(e){var t=e.data.data.gitConvexApi.fetchRepo;if(t){var n=t.repoId.map((function(e,a){return{id:t.repoId[a],repoName:t.repoName[a],repoPath:t.repoPath[a]}}));return a({type:"PRESENT_REPO",payload:Object(R.a)(n)}),j(n[0]),C(n),n}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return s&&s[0]?(C(s[0]),t()):(!function(){n.apply(this,arguments)}(),t()),function(){e.cancel()}}),[E,T,s,a,q]),r.a.createElement("div",{className:"repository-action"},w?r.a.createElement("div",null,r.a.createElement("div",{className:"active-repo"},r.a.createElement("div",{className:"top-pane"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"select--label"},"Choose saved repository"),r.a.createElement("select",{className:"top-pane--select bg-green-100 text-green-700 border-green-400",defaultValue:"checked",onChange:function(e){m(!0),w.length&&w.forEach((function(t){e.target.value===t.repoName&&(j(t),a({type:"GIT_GLOBAL_REPOID",payload:t.id}))}))}},r.a.createElement("option",{defaultChecked:!0,value:"checked",hidden:!0,disabled:!0},"Select a repo"),w.length&&w.map((function(e){return r.a.createElement("option",{value:e.repoName,key:e.repoName},e.repoName)})))),o?r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"select--label"},"Branch"),r.a.createElement("select",{className:"top-pane--select bg-indigo-100 border-indigo-400 text-indigo-700 ",value:T,disabled:!T,onChange:function(e){e.persist(),I(""),function(e,t){d()({url:f,method:"POST",data:{query:'\n          mutation{\n            setBranch(repoId: "'.concat(E.id,'", branch: "').concat(e,'")\n          }\n        ')}}).then((function(t){t.data.data&&!t.data.error&&I(e)})).catch((function(e){e&&(M(!0),t.target.selectedIndex=0)}))}(e.target.value,e)},onClick:function(){M(!1)}},function(){if(_&&_.gitBranchList)return _.gitBranchList.map((function(e,t){return"NO_BRANCH"!==e?r.a.createElement("option",{key:e,value:e},e):null}))}())):null),_&&o?r.a.createElement("div",{className:"my-auto flex justify-around p-3 mx-auto"},H("code-branch",_.gitBranchList&&_.gitBranchList.length>0&&!_.gitBranchList[0].match(/NO_BRANCH/gi)?r.a.createElement(r.a.Fragment,null,1===_.gitBranchList.length?"1 branch":_.gitBranchList.length+" branches"):"No Branches"),H("sort-amount-up",_.gitTotalCommits+" Commits"),H("archive",_.gitTotalTrackedFiles+" Tracked Files")):null),o?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"alert--jumbotron"},"Select a configured repo from the dropdown to perform git related operations"),r.a.createElement("div",{className:"alert--message"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","mouse-pointer"],className:"alert--message--icon"})),r.a.createElement("div",{className:"alert--message--label xl:text-6xl lg:text-3xl md:text-2xl"},"No repositories selected"))),r.a.createElement("div",null,q?r.a.createElement("div",{className:"alert--failure"},"Branch switching failed.Commit your changes and try again"):null,_&&o&&E.id?G:null)):null)}function G(e){return r.a.createElement("div",{className:"flex mx-auto my-auto w-1/2 h-full bg-white"},r.a.createElement("div",{className:"flex w-full mx-auto my-auto justify-center"},r.a.createElement("div",{className:"block justify-center w-full h-full mx-auto my-auto"},r.a.createElement("div",{className:"p-6 my-auto mx-auto font-sans font-light text-3xl shadow-lg rounded-lg border-b-4 border-dashed border-gray-300 text-center"},e.message),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:e.loading})))))}a(47);function H(e){var t=Object(n.useState)(""),s=Object(c.a)(t,2),i=s[0],l=s[1],o=Object(n.useState)(0),m=Object(c.a)(o,2),u=m[0],p=m[1],g=Object(n.useState)(""),b=Object(c.a)(g,2),h=b[0],v=b[1],E=Object(n.useState)(""),j=Object(c.a)(E,2),y=j[0],O=j[1],w=Object(n.useState)([]),C=Object(c.a)(w,2),k=C[0],S=C[1],T=Object(n.useState)([]),I=Object(c.a)(T,2),F=I[0],_=I[1],P=Object(n.useState)(!1),L=Object(c.a)(P,2),D=L[0],q=L[1],B=e.repoId,M=e.fileItem;function G(e,t,a){var n="bg-".concat(a,"-100"),s="text-".concat(a,"-500");return r.a.createElement("div",{className:"flex justify-between w-1/2 gap-10 items-center align-middle"},r.a.createElement("div",{className:"text-center w-1/4 font-light font-sans text-xl border-b-4 border-dashed text-gray-700"},e),r.a.createElement("div",{className:'"w-11/12 mx-auto rounded p-2 text-center '.concat(n," ").concat(s," ").concat(t.length>10?"text-sm":"",' font-semibold"')},t))}return Object(n.useEffect)((function(){var e=JSON.stringify(JSON.stringify({repoId:B,fileItem:M}));d()({url:f,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n          query GitConvexApi{\n            gitConvexApi(route: "'.concat("CODE_FILE_VIEW",'", payload:').concat(e,")\n            {\n              codeFileDetails{\n                language\n                fileCommit\n                fileData\n                prism\n              }\n            }\n          }\n        ")}}).then(function(){var e=Object(N.a)(x.a.mark((function e(t){var n,r,s,i,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.data.data){e.next=10;break}if(n=t.data.data.gitConvexApi.codeFileDetails,r=n.language,s=n.fileCommit,i=n.fileData,c=n.prism,0===i.length&&q(!0),l(r),v(s),p(i.length),_(i),!c){e.next=10;break}return e.next=10,a(46)("./prism-"+c+".js").then((function(){O(c);var e=i.map((function(e){return A.highlight(e,A.languages[c],c)}));S(Object(R.a)(e))})).catch((function(e){console.log(e),O("markdown")}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){q(!0)}))}),[B,M]),r.a.createElement("div",{className:"repo-backdrop--codeview"},D?r.a.createElement("div",{className:"w-3/4 mx-auto my-auto p-6 rounded bg-red-200 text-red-600 font-sans text-2xl font-light text-center border-b-8 border-red-400 border-dashed"},i||D?"File cannot be opened!":"Loading..."):r.a.createElement("div",{className:"codeview"},r.a.createElement("div",{className:"codeview--toppane"},r.a.createElement("div",{className:"codeview--language"},i?G("Language",i,"pink"):null,u?G("Lines",u,"orange"):null),h?r.a.createElement("div",{className:"codeview--commits"},r.a.createElement("div",{className:"codeview--commits--latest"},r.a.createElement("div",{className:"codeview--commits--latest--label"},"Latest Commit"),r.a.createElement("div",{className:"codeview--commits--latest--data"},h))):null),F&&y?r.a.createElement("div",{className:"codeview--prismview"},r.a.createElement("pre",{className:"codeview--prismview--pre"},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:k.join("\n")}}))):null))}a(87);function J(e){g.b.add(C.a,h.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)([]),b=Object(c.a)(p,2),E=b[0],j=b[1],x=Object(n.useState)([]),N=Object(c.a)(x,2),y=N[0],w=N[1],k=Object(n.useState)(""),S=Object(c.a)(k,2),T=S[0],I=S[1],A=Object(n.useState)(""),_=Object(c.a)(A,2),P=_[0],L=_[1],D=e.repoIdState,q=Object(n.useMemo)((function(){return r.a.createElement(H,{repoId:D,fileItem:T})}),[D,T]);function B(e,t){var a=t,n=e.filter((function(e,t){return!!e||(a[t]="",!1)}));a=a.filter((function(e){return e})),i(Object(R.a)(n)),j(Object(R.a)(a))}function M(e){return e.match(/.\/./gi)?e=e.split("/")[e.split("/").length-1]:e.match(/[^\\]\\[^\\]/gi)?e=e.split("\\")[e.split("\\").length-1]:e.match(/.\\\\./gi)&&(e=e.split("\\\\")[e.split("\\\\").length-1]),e}Object(n.useEffect)((function(){B(e.gitRepoFiles,e.gitFileBasedCommits)}),[e]);var G=function(e,t,a,n){if(D){i([]),j([]);var r=y;if(a){var s=r.slice(0,t);s.length>0&&(e=s.join("/")+"/"+e)}L(e);var c=JSON.stringify(JSON.stringify({repoId:D,directoryName:e}));d()({url:f,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("GIT_FOLDER_CONTENT",'", payload: ').concat(c,"){\n              gitFolderContent{\n                gitTrackedFiles\n                gitFileBasedCommit\n              }\n            }\n          }\n        ")}}).then((function(s){if(s.data.data&&!s.data.error){var i=s.data.data.gitConvexApi.gitFolderContent;if(B(i.gitTrackedFiles,i.gitFileBasedCommit),e=M(e),n)return void w([]);if(0===y.length)w([e]);else if(a&&t<y.length-1){for(var c=y.length-(t+1),l=0;l<c;l++)r.pop();w(Object(R.a)(r))}else w([].concat(Object(R.a)(y),[e]))}else console.log("ERROR: Error occurred while fetching the folder content!")})).catch((function(e){e&&console.log("ERROR: Error occurred while fetching the folder content!")}))}};return r.a.createElement(r.a.Fragment,null,m?r.a.createElement("div",{className:"code-view",id:"code-view__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"code-view__backdrop"===e.target.id&&u(!1)}},r.a.createElement("div",{className:"close-btn-round",onClick:function(){u(!1)}},"X"),r.a.createElement("div",{className:"code-view-area"},q)):null,r.a.createElement("div",null,y&&s&&"NO_TRACKED_FILES"!==s[0]?r.a.createElement("div",{className:"folder-view"},r.a.createElement("div",{className:"folder-view--homebtn",onClick:function(){G("",0,!1,!0)}},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","home"]})),r.a.createElement("div",null,"Home"),r.a.createElement("div",{className:"text-2xl font-sans text-blue-400"},"./")),r.a.createElement("div",{className:"folder-view--navigator",id:"repoFolderNavigator"},y.map((function(e,t){return r.a.createElement("div",{className:"folder-view--navigator--label",key:e+"-"+t},r.a.createElement("div",{className:"".concat(t!==y.length-1?"folder-view--navigator--label__active":""," text-xl"),onClick:function(){t!==y.length-1&&G(e,t,!0)}},e),r.a.createElement("div",null,"/"))})))):null,r.a.createElement("div",{className:"folder-view--tracked-content"},function(){if(s&&s.length>0&&"NO_TRACKED_FILES"!==s[0]){var e=[],t=[],a=[];return s.forEach((function(e,n){var s=e.split(":");if(s[1].includes("directory")){var i=M(s[0]);t.push(r.a.createElement("div",{className:"folder-view--content",key:"directory-key-".concat(Object(F.a)())},r.a.createElement("div",{className:"flex cursor-pointer"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(v.a,{icon:["fas","folder"],className:"font-sans text-xl text-blue-600"})),r.a.createElement("div",{className:"folder-view--content--path",onClick:function(e){G(s[0],0,!1)}},i),r.a.createElement("div",{className:"folder-view--content--commit bg-green-200 text-green-900"},E[n]?E[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))}else s[1].includes("File")&&a.push(r.a.createElement("div",{className:"folder-view--content",key:"file-key-".concat(Object(F.a)())},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/6"},r.a.createElement(v.a,{icon:["fas","file"],className:"font-sans text-xl text-gray-700"})),r.a.createElement("div",{className:"folder-view--content--path",onClick:function(){I(P+"/"+s[0]),u(!0)}},s[0]),r.a.createElement("div",{className:"folder-view--content--commit bg-indigo-200 text-indigo-900"},E[n]?E[n].split(" ").filter((function(e,t){return 0!==t?e:null})).join(" "):null))))})),e.push(t),e.push(a),r.a.createElement("div",{className:"folder-view--tracked--entries",key:"repo-key"},r.a.createElement("div",{className:"tracked--entries--header"},r.a.createElement("div",{className:"w-1/6"}),r.a.createElement("div",{className:"w-2/4"},"File / Directory"),r.a.createElement("div",{className:"w-2/4"},"Latest commit")),e)}return s&&"NO_TRACKED_FILES"===s[0]?r.a.createElement("div",{className:"folder-view--nofiles"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","unlink"]})),r.a.createElement("div",null,"No Tracked Files in the repo!")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"folder-view--loader"},r.a.createElement("div",{className:"folder-view--loader--label"},"Loading tracked files...")),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:!s.length})))}())))}a(88);function U(e){var t=e.repoId,a=Object(n.useState)(""),s=Object(c.a)(a,2),i=s[0],l=s[1],o=Object(n.useState)(""),m=Object(c.a)(o,2),u=m[0],p=m[1],g=Object(n.useRef)();function b(){g.current.value="",l("")}return r.a.createElement("div",{className:"repo-backdrop--addbranch"},r.a.createElement("div",{className:"my-auto"},r.a.createElement("div",{className:"mx-auto"},r.a.createElement("input",{type:"text",ref:g,id:"branchName",placeholder:"Branch Name",className:"addbranch--input",onChange:function(e){var t=e.target.value;"branchName"===e.target.id&&t.match(/[^a-zA-Z0-9_.:^\\/]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_.:^\\/]/gi,"-")),l(e.target.value)},onClick:function(){p("")}})),r.a.createElement("div",{className:"addbranch--btn",onClick:function(e){i?(console.log(i),d()({url:f,method:"POST",data:{query:'\n            mutation GitConvexMutation{\n              addBranch(repoId: "'.concat(t,'", branchName: "').concat(i,'")\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.addBranch;p(t),b()}else p("BRANCH_ADD_FAILED"),b()})).catch((function(e){p("BRANCH_ADD_FAILED"),b()}))):p("BRANCH_ADD_FAILED")}},"Add Branch"),"BRANCH_CREATION_SUCCESS"===u?r.a.createElement("div",{className:"backdrop--alert bg-green-200 text-green border-green-500"},"New branch has been added to your repo successfully"):null,"BRANCH_ADD_FAILED"===u?r.a.createElement("div",{className:"backdrop--alert bg-red-200 text-red-600 border-red-400"},"New branch addition failed!"):null))}function z(e){var t=e.repoId,a=Object(n.useRef)(),s=Object(n.useRef)(),i=Object(n.useState)(!1),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(""),p=Object(c.a)(u,2),g=p[0],b=p[1],h=function(e,t,n){return r.a.createElement("div",{className:"addremote--form"},r.a.createElement("label",{htmlFor:e,className:"addremote--form--label"},t),r.a.createElement("div",{className:"w-5/6"},r.a.createElement("input",{id:e,onClick:function(){m(!1),b("")},className:"backdrop--input",placeholder:n,ref:"remoteName"===e?a:s,onChange:function(e){var t=e.target.value;"remoteName"===e.target.id&&t.match(/[^a-zA-Z0-9_]/gi)&&(e.target.value=t.replace(/[^a-zA-Z0-9_]/gi,"-"))}})))};var v=function(e,t){return r.a.createElement("div",{className:"addremote--alert border-".concat(e,"-900 bg-").concat(e,"-200")},t)};return r.a.createElement("div",{className:"xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 repo-backdrop--addremote"},r.a.createElement("div",{className:"addremote--header"},"Enter new remote details"),r.a.createElement("div",{className:"my-4 mx-6"},h("remoteName","Enter Remote Name","Give a name for your new remote"),h("remoteUrl","Enter Remote URL","Provide the URL for your remote repo")),o?v("orange","One or more required parameters are empty!"):null,"success"===g?v("green","Remote repo has been added successfully!"):null,"failed"===g?v("red","Failed to add new repo!"):null,r.a.createElement("div",{className:"addremote--btn",onClick:function(){!function(){var e=a.current.value,n=s.current.value;t&&e&&n?d()({url:f,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                addRemoteRepo(repoId: "'.concat(t,'", remoteName: "').concat(e,'", remoteUrl: "').concat(n,'")\n              }\n            ')}}).then((function(e){e.data.data&&!e.data.error?"REMOTE_ADD_SUCCESS"===e.data.data.addRemoteRepo?(b("success"),a.current.value="",s.current.value=""):b("failed"):b("failed")})).catch((function(e){console.log(e),b("failed")})):m(!0)}()}},"Add New Remote"))}function V(e){var t=e.repoId,a=e.currentBranch;g.b.add(h.a);var s=JSON.stringify(JSON.stringify({repoId:t})),i=Object(n.useState)([]),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(c.a)(u,2),b=p[0],E=p[1],j=Object(n.useState)(!1),x=Object(c.a)(j,2),N=x[0],y=x[1],O=Object(n.useState)(!1),w=Object(c.a)(O,2),C=w[0],k=w[1],S=Object(n.useState)(""),T=Object(c.a)(S,2),I=T[0],A=T[1],F=Object(n.useState)(""),_=Object(c.a)(F,2),P=_[0],L=_[1],D=Object(n.useState)(!1),q=Object(c.a)(D,2),B=q[0],M=q[1],G=Object(n.useState)(!1),H=Object(c.a)(G,2),J=H[0],U=H[1];function z(){E(!1),y(!1),k(!1),A(""),L(""),U(!1),M(!1)}function V(e,a){z(),d()({url:f,method:"POST",data:{query:'\n            mutation{\n              deleteBranch(repoId: "'.concat(t,'", branchName: "').concat(e,'", forceFlag: ').concat(a,"){\n                status\n              }\n            }\n          ")}}).then((function(t){t.data.data&&!t.data.error&&("BRANCH_DELETE_SUCCESS"===t.data.data.deleteBranch.status?(M(!0),A(e)):(U(!0),L(e)))})).catch((function(t){t&&(U(!0),L(e))}))}function K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.a.createElement("div",{className:"text-center p-4 rounded bg-red-300 text-xl font-sans mt-10"},e,t?r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},P):null)}function W(e){return r.a.createElement("div",{className:"text-center p-4 rounded bg-green-300 text-xl font-sans mt-10"},e,r.a.createElement("span",{className:"font-semibold border-b border-dashed mx-2"},I))}return Object(n.useEffect)((function(){var e=d.a.CancelToken.source();return m([]),d()({url:f,method:"POST",cancelToken:e.token,data:{query:'\n\n          query GitConvexApi\n          {\n            gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(s,"){\n              gitRepoStatus {\n                gitAllBranchList  \n              }\n            }\n          }\n        ")}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus.gitAllBranchList;m(Object(R.a)(t))}else E(!0)})).catch((function(e){e&&(console.log("API error occurred : "+e),E(!0))})),function(){return e.cancel}}),[t,s,I]),r.a.createElement("div",{className:"repo-backdrop--branchlist xl:w-3/4 lg:w-3/4 md:w-11/12 sm:w-11/12"},r.a.createElement("div",{className:"branchlist--header"},"Available Branches"),r.a.createElement("div",{className:"branchlist--warn"},r.a.createElement("div",{className:"mx-2"},r.a.createElement(v.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",{className:"font-sans font-semibold"},"Note that this section also lets you delete the branches, so be cautious!")),r.a.createElement("div",{className:"branchlist--infotext"},"Click on a branch to checkout to that branch"),r.a.createElement("div",{className:"branchlist--list-area",style:{height:"400px"}},0===o.length?r.a.createElement("div",{className:"list-area--message"},"Collecting branch list..."):null,!b&&o&&o.map((function(e){var n=function(e,a,n){var s="",i=!1;return n.includes("*")&&(i=!0,n=n.replace("*","")),i&&(s="border-dashed border-b-2 text-indigo-700 text-2xl"),r.a.createElement("div",{className:"list-area--branches",key:a+n},r.a.createElement("div",{className:"list-area--branches--icon"},r.a.createElement(v.a,{icon:["fas",e]})),r.a.createElement("div",{className:"xl:block lg:block md:block sm:hidden list-area--branches--type"},a),r.a.createElement("div",{className:"list-area--branches--name ".concat(s),title:n,onClick:function(){i||function(e){z(),d()({url:f,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(e,'")\n            }\n          ')}}).then((function(t){t.data.data&&!t.data.error?(y(!0),A(e)):k(!0)})).catch((function(t){t&&(k(!0),L(e))}))}(n)}},n),i||"Local Branch"!==a?r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:"list-area--branches--pill bg-blue-200 border-blue-800"},"Active"):r.a.createElement("div",{className:"list-area--branches--pill bg-orange-200 border-orange-800"},"Remote")):r.a.createElement("div",{className:"list-area--branches--active"},r.a.createElement("div",{className:"list-area--branches--delete",title:"Will delete only if the branch is clean and safe",onClick:function(){i||V(n,!1)}},r.a.createElement("div",{className:"list-area--branches--delete--btn"},r.a.createElement(v.a,{icon:["fas","trash-alt"]})),r.a.createElement("div",{className:"list-area--branches--delete--type"},"Normal")),r.a.createElement("div",{className:"list-area--branches--delete",title:"Will delete the branch forcefully.Be careful!",onClick:function(){i||V(n,!0)}},r.a.createElement("div",{className:"list-area--branches--delete--btn"},r.a.createElement(v.a,{icon:["fas","minus-square"]})),r.a.createElement("div",{className:"list-area--branches--delete--type"},"Force"))))};if((e=e.replace(/\s/gi,"")).includes("->")||e===a)return null;if(e.includes("remotes/")){var s=e.split("/");return n("wifi",s[1],s.slice(2,s.length).join("/"))}return n("code-branch","Local Branch",e)}))),b?K("Error occurred while listing branches!"):null,C?K("Error occurred while switching to",!0):null,I&&N?W("Active branch has been switched to"):null,B?W("Selected branch has been removed"):null,J?K("Branch deletion failed for",!0):null)}var K=a(49),W=a.n(K),Y=a(29),Z=a.n(Y);function X(e){var t=e.repoId,a=e.commitHash,s=e.unmountHandler;g.b.add(b.a,h.a);var i=Object(n.useState)([]),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(c.a)(u,2),E=p[0],j=p[1];return Object(n.useEffect)((function(){j(!0);var e=d.a.CancelToken.source(),n=JSON.stringify(JSON.stringify({repoId:t,commitHash:a}));d()({url:f,method:"POST",cancelToken:e.token,data:{query:'\n                query GitConvexApi\n                {\n                    gitConvexApi(route: "'.concat("COMMIT_FILES",'", payload: ').concat(n,"){\n                        gitCommitFiles {\n                            type\n                            fileName\n                        }\n                    }\n                }\n            ")}}).then((function(e){j(!1),e.data.data&&!e.data.err&&m(Object(R.a)(e.data.data.gitConvexApi.gitCommitFiles))})).catch((function(e){console.log(e),j(!1)}))}),[t,a]),r.a.createElement("div",{className:"commitlogs--files"},r.a.createElement("div",{className:"commitlogs--files--close",style:{marginTop:"-20px"},onClick:function(){m([]),s()}},"x"),E?r.a.createElement("div",{className:"commitlogs--files--header text-center"},"Fetching changed files..."):null,!E&&o?r.a.createElement("div",{className:"commitlogs--files--header"},"".concat(o.length," Files changed")):null,r.a.createElement("div",{className:"commitlogs--files--list"},o&&o.map((function(e){var t=e.type,n=e.fileName,s="",i="";switch(t){case"M":s="plus-square",i="text-yellow-600";break;case"A":s="plus-square",i="text-green-500";break;case"D":s="minus-square",i="text-red-500";break;default:s="plus-square",i="text-gray-500"}return r.a.createElement("div",{className:"commitlogs--files--list--item",key:n+a},r.a.createElement("div",{className:"w-1/4 text-2xl ".concat(i)},r.a.createElement(v.a,{icon:["far",s]})),r.a.createElement("div",{className:"commitlogs--files--list--filename"},n))}))))}function Q(e){g.b.add(C.a,h.a,b.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],l=a[1],o=Object(n.useState)(!1),m=Object(c.a)(o,2),u=m[0],p=m[1],E=Object(n.useState)(0),j=Object(c.a)(E,2),x=j[0],N=j[1],y=Object(n.useState)(0),w=Object(c.a)(y,2),k=w[0],S=w[1],T=Object(n.useState)(!1),I=Object(c.a)(T,2),A=I[0],F=I[1],_=Object(n.useState)(!1),P=Object(c.a)(_,2),L=P[0],D=P[1],q=Object(n.useState)(""),B=Object(c.a)(q,2),M=B[0],G=B[1],H=Object(n.useState)(0),J=Object(c.a)(H,2),U=J[0],z=J[1],V=Object(n.useState)(!1),K=Object(c.a)(V,2),Y=K[0],Q=K[1],$=Object(n.useRef)(),ee=Object(n.useRef)(),te=Object(n.useRef)(Z()(ne,1500,{maxWait:2e3})).current,ae=["Commit Hash","Commit Message","User"];function ne(){F(!0),S(0),l([]);var t=$.current.value,a="";switch(ee.current.value){case"Commit Hash":a="hash";break;case"Commit Message":a="message";break;case"User":a="user";break;default:a="message"}t?d()({url:f,method:"POST",data:{query:'\n            mutation{\n              searchCommitLogs(repoId:"'.concat(e.repoId,'",searchType:"').concat(a,'",searchKey:"').concat(t,'"){\n                hash\n                author\n                commitTime\n                commitMessage\n                commitRelativeTime\n                commitFilesCount\n              }\n            }\n          ')}}).then((function(e){if(e.data.data){var t=e.data.data.searchCommitLogs;t&&t.length>0?(p(!1),D(!1),l(Object(R.a)(t)),S(t.length),F(!1)):(p(!0),l([]),S(0),F(!1),Q(!0))}})).catch((function(e){console.log(e),F(!1),l([])})):(z(U+1),F(!1))}function re(e){return r.a.createElement("div",{className:"p-6 rounded-md shadow-sm block justify-center mx-auto my-auto w-3/4 h-full text-center text-2xl text-indigo-500"},r.a.createElement("div",{className:"flex w-full h-full mx-auto my-auto"},r.a.createElement("div",{className:"block my-auto mx-auto bg-white w-full p-6 rounded-lg shadow"},r.a.createElement("div",{className:"text-2xl text-center font-sans font-semibold text-indigo-800 border-b-2 border-dashed border-indigo-500 p-1"},e),Y?r.a.createElement("div",{className:"my-4 mx-auto rounded shadow p-4 text-center font-sans text-orange-900 font-light bg-orange-100 border-b-4  border-dashed border-orange-300 text-md"},"If you are looking for some newly added commits or if this is a freshly added repo, then please wait for a few minutes and search again"):null,A?r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:A})):null)))}return Object(n.useEffect)((function(){F(!0),Q(!1);var t=JSON.stringify(JSON.stringify({repoId:e.repoId,skipLimit:0}));d()({url:f,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n              gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(t,"){\n                  gitCommitLogs {\n                      totalCommits\n                      commits{\n                          commitTime\n                          hash\n                          author\n                          commitMessage\n                          commitRelativeTime\n                          commitFilesCount\n                      }  \n                  }\n              }\n          }\n          ")}}).then((function(e){if(F(!1),e.data.data){var t=e.data.data.gitConvexApi.gitCommitLogs,a=t.commits,n=t.totalCommits;D(!(n<=10)),S(n),a&&a.length>0?l(Object(R.a)(a)):p(!0)}})).catch((function(e){F(!1),e&&(p(!0),console.log(e))}))}),[e,U]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-4 w-full rounded-lg bg-white shadow-inner flex gap-4 justify-between items-center"},r.a.createElement("select",{defaultValue:"default-search",id:"searchOption",ref:ee,className:"w-1/4 flex p-4 items-center bg-indigo-500 text-white cursor-pointer rounded-l-md text-lg font-sans font-semibold outline-none"},r.a.createElement("option",{value:"default-search",hidden:!0,disabled:!0},"Search for..."),ae.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",{className:"w-3/4 rounded-r-md"},r.a.createElement("input",{ref:$,type:"text",className:"w-5/6 outline-none text-lg font-light font-sans",placeholder:"What are you looking for?",value:M,onChange:function(e){G(e.target.value),te()}})),r.a.createElement("div",{className:"w-20 bg-gray-200 p-3 mx-auto my-auto text-center rounded-r-lg hover:bg-gray-400 cursor-pointer",onClick:function(){ne()}},r.a.createElement(v.a,{icon:["fas","search"],className:"text-3xl text-gray-600"}))),!u&&s&&k||A?null:re("No Commit Logs found"),s&&s.map((function(t){var a=t.hash,n=t.author,s=t.commitTime,c=t.commitMessage,l=t.commitRelativeTime,o=t.commitFilesCount,m=W()(new Date(s)).format("MMM DD, YYYY");return r.a.createElement("div",{id:"commitLogCard-".concat(a),className:"repo-backdrop--commitlogs",key:a},r.a.createElement("div",{className:"commitlogs--toppane"},r.a.createElement("div",{className:"commitlogs--toppane--label"},r.a.createElement(v.a,{icon:["fas","calendar-alt"]}),r.a.createElement("span",{className:"commitlogs--toppane--data"},m)),r.a.createElement("div",{className:"commitlogs--toppane--divider"}),r.a.createElement("div",{className:"commitlogs--toppane--label"},r.a.createElement(v.a,{icon:["fab","slack-hash"]}),r.a.createElement("span",{className:"commitlogs--toppane--data"},a)),r.a.createElement("div",{className:"commitlogs--toppane--divider"}),r.a.createElement("div",{className:"commitlogs--toppane--label"},r.a.createElement(v.a,{icon:["fas","user-ninja"]}),r.a.createElement("span",{className:"commitlogs--toppane--data truncate"},n))),r.a.createElement("div",{className:"commitlogs--message"},r.a.createElement("div",{className:"w-1/8"},r.a.createElement(v.a,{icon:["fas","code"],className:"text-3xl"})),r.a.createElement("div",{className:"w-5/6 mx-3"},c)),r.a.createElement("div",{className:"commitlogs--bottompane"},r.a.createElement("div",{className:"commitlogs--bottompane--label"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["far","clock"]})),r.a.createElement("div",{className:"commitlogs--bottompane--data"},l)),r.a.createElement("div",{className:"commitlogs--expand",onClick:function(t){o&&(t.currentTarget.classList.add("hidden"),function(t,a){var n="commitLogCard-".concat(t),s="commitFile-".concat(t),c=document.createElement("div");c.id=s;var l=document.getElementById(n);l.append(c);var o=function(){i.a.unmountComponentAtNode(document.getElementById("closeBtn-"+t)),i.a.unmountComponentAtNode(document.getElementById(s)),a.classList.remove("hidden")};i.a.render(r.a.createElement(X,{repoId:e.repoId,commitHash:t,unmountHandler:o}),document.getElementById(s));var m=r.a.createElement("div",{className:"text-center mx-auto text-3xl font-sans font-light text-gray-600 items-center align-middle cursor-pointer",onClick:function(e){o()}},r.a.createElement(v.a,{icon:["fas","angle-up"]})),d=document.createElement("div"),u="closeBtn-"+t;d.id=u,l.append(d),i.a.render(m,document.getElementById(u))}(a,t.currentTarget))}},o?r.a.createElement(v.a,{icon:["fas","angle-down"]}):r.a.createElement(v.a,{icon:["fas","dot-circle"],className:"text-xl text-gray-200"})),r.a.createElement("div",{className:"commitlogs--bottompane--label"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["far","plus-square"]})),r.a.createElement("div",{className:"commitlogs--bottompane--data"},o?"".concat(o," Files"):r.a.createElement("span",{className:"text-gray-500"},"No Changed Files")))))})),L?r.a.createElement("div",{className:"commitlogs--load-btn",title:"Click to load commits",onClick:function(){k-x>=10&&function(){var t;F(!0),Q(!1),t=x+10;var a=JSON.stringify(JSON.stringify({repoId:e.repoId,skipLimit:t}));N(t),d()({url:f,method:"POST",data:{query:'\n          query GitConvexApi\n          {\n              gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(a,"){\n                  gitCommitLogs {\n                      totalCommits\n                      commits{\n                          commitTime\n                          hash\n                          author\n                          commitMessage\n                          commitRelativeTime\n                          commitFilesCount\n                      }  \n                  }\n              }\n          }\n          ")}}).then((function(e){if(F(!1),k-t<10&&D(!1),e.data.data){var a=e.data.data.gitConvexApi.gitCommitLogs,n=a.commits,r=a.totalCommits;S(r),n&&n.length>0?l([].concat(Object(R.a)(s),Object(R.a)(n))):p(!0)}})).catch((function(e){F(!1),e&&(p(!0),console.log(e))}))}()}},r.a.createElement(v.a,{icon:["fas","angle-double-down"]})):null,A&&k?r.a.createElement("div",{className:"commitlogs--loading"},"Loading ",k-x," more commits...",r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:A}))):null,!u&&0===s.length&&A?re("Loading commits..."):null)}function $(e){g.b.add(h.a);var t=e.repoId,a=e.actionType,s=Object(n.useState)(),i=Object(c.a)(s,2),l=i[0],o=i[1],m=Object(n.useState)(!1),u=Object(c.a)(m,2),p=u[0],b=u[1],E=Object(n.useState)(!1),j=Object(c.a)(E,2),x=j[0],N=j[1],y=Object(n.useState)([]),w=Object(c.a)(y,2),C=w[0],k=w[1],S=Object(n.useState)(!1),T=Object(c.a)(S,2),I=T[0],A=T[1],_=Object(n.useRef)(),P=Object(n.useRef)();function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";A(!0);var s=function(e,n){return"fetch"===a?'mutation GitConvexMutation{\n          fetchFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            fetchedItems\n          }\n        }\n      '):'mutation GitConvexMutation{\n          pullFromRemote(repoId: "'.concat(t,'", remoteUrl: "').concat(e,'", remoteBranch: "').concat(n,'"){\n            status\n            pulledItems\n          }\n        }\n      ')};d()({url:f,method:"POST",data:{query:s(e,n)}}).then((function(e){if(A(!1),e.data.data&&!e.data.error){var t={};if((t="fetch"===a?e.data.data.fetchFromRemote:e.data.data.pullFromRemote).status.match(/ABSENT/gi))k([r.a.createElement("div",{className:"text-xl p-2 text-gray-900 font-semibold"},"No changes to ","fetch"===a?"Fetch":"Pull"," from remote")]);else if(t.status.match(/ERROR/gi))k([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," ","from remote!")]);else{var n=[];n="fetch"===a?t.fetchedItems:t.pulledItems,k(Object(R.a)(n))}}})).catch((function(e){A(!1),console.error(e),k([r.a.createElement("div",{className:"text-xl p-2 text-pink-800 border border-pink-200 shadow rounded font-semibold"},"Error while ","fetch"===a?"Fetching":"Pulling"," from remote!")])}))}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId})),a=d.a.CancelToken.source();return d()({url:f,method:"POST",cancelToken:a.token,headers:{"Content-type":"application/json"},data:{query:'\n                query GitConvexApi\n                {\n                  gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(t,"){\n                    gitRepoStatus {\n                      gitRemoteData\n                      gitCurrentBranch\n                      gitRemoteHost\n                      gitBranchList \n                    }\n                  }\n                }\n              ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus;o(t)})).catch((function(e){A(!1)})),function(){return a.cancel()}}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"repo-backdrop--fetchpull"},"fetch"===a?r.a.createElement("div",{className:"fetchpull--fetch-global xl:w-3/5 lg:w-3/4 md:w-3/4 sm:w-11/12",onClick:function(){L()}},r.a.createElement("div",{className:"text-2xl text-indigo-800 mx-4"},r.a.createElement(v.a,{icon:["fas","exclamation-circle"]})),r.a.createElement("div",null,"Click to Fetch without branch selection")):null,r.a.createElement("div",{className:"m-3 text-2xl font-sans text-gray-800"},"Available remote repos"),r.a.createElement("div",null,r.a.createElement("select",{className:"fetchpull--select",defaultValue:"checked",disabled:!l,onChange:function(){b(!0)},onClick:function(){k([])},ref:_},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},l?"Select the remote repo":"Loading available remotes..."),l?function(){if(l){var e=l.gitRemoteData;return e.includes("||")?e.split("||").map((function(e){return r.a.createElement("option",{value:e,key:e},e)})):r.a.createElement("option",null,e)}}():null)),p?r.a.createElement("div",null,r.a.createElement("select",{className:"fetchpull--select",defaultValue:"checked",onChange:function(){N(!0)},onClick:function(){k([])},ref:P},r.a.createElement("option",{disabled:!0,hidden:!0,value:"checked"},"Select upstream branch"),l?function(){if(l)return l.gitBranchList.map((function(e){return"NO_BRANCH"!==e?r.a.createElement("option",{value:e,key:e},e):null}))}():null)):null,p&&x&&!I?r.a.createElement("div",{className:"fetchpull--btn",onClick:function(e){var t=_.current.value,a=P.current.value;t&&a?L(t,a):e.target.style.display="none"}},"pull"===a?"Pull from Remote":null,"fetch"===a?"Fetch from Remote":null):null,r.a.createElement("div",null,I?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fetchpull--loader"},"pull"===a?"Pulling changes":"Fetching"," from remote..."),r.a.createElement("div",{className:"flex mx-auto my-6 text-center justify-center"},r.a.createElement(O,{loadAnimation:I}))):null),!I&&C&&C.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fetchpull--result"},C.map((function(e){return r.a.createElement("div",{className:"my-1 mx-2 break-normal",key:e+"-".concat(Object(F.a)())},e)})))):null))}function ee(e){var t=e.repoId,a=e.branchName,s=e.closeBackdrop,i=Object(n.useState)(!1),l=Object(c.a)(i,2),o=l[0],m=l[1];return Object(n.useEffect)((function(){d()({url:f,method:"POST",data:{query:'\n            mutation{\n              setBranch(repoId: "'.concat(t,'", branch: "').concat(a,'")\n            }\n          ')}}).then((function(e){e.data.data&&!e.data.error&&s(!0)})).catch((function(e){e&&m(!0)}))}),[a,s,t]),r.a.createElement("div",{className:"xl:w-3/4 lg:w-3/4 md:w-11/12 sm:w-11/12 repo-backdrop--switchbranch"},r.a.createElement("div",{className:"switchbranch--alert--success"},"Switching to branch -"," ",r.a.createElement("span",{className:"switchbranch--name"},a),"..."),o?r.a.createElement("div",{className:"switchbranch--alert--failed"},"Switching to branch -"," ",r.a.createElement("span",{className:"switchbranch--name"},a)," Failed!"):null)}function te(e){var t=e.gitRepoName,a=e.gitCurrentBranch;return r.a.createElement("div",{className:"repo-info"},r.a.createElement("div",{className:"repo-info--label"},"Repo Name"),r.a.createElement("div",{className:"bg-blue-100 text-blue-900 border-blue-200 repo-info--data"},t),r.a.createElement("div",{className:"repo-info--label"},"Active Branch"),r.a.createElement("div",{className:"bg-orange-200 text-orange-900 border-orange-400 repo-info--data"},a))}var ae="fetch",ne="pull",re="addBranch",se="addRemoteRepo",ie="switchbranch",ce="listBranch";function le(e){g.b.add(C.a,h.a);var t=e.gitRemoteHost,a=e.gitRemoteData,s=e.isMultiRemote,i=e.multiRemoteCount,c=e.showCommitLogsView,l=e.actionTrigger;Object(n.useEffect)((function(){}),[e]);return r.a.createElement(r.a.Fragment,null,e.received?r.a.createElement("div",{className:"repo-leftpane xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12"},r.a.createElement("div",{className:"block mx-auto my-6"},r.a.createElement("div",{className:"repo-leftpane--remote"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"Remote Host"),r.a.createElement("div",{className:"flex justify-around items-center align-middle w-1/2"},r.a.createElement("div",{className:"repo-leftpane--remote--host"},t?r.a.createElement("div",{className:"mx-2"},t.match(/github/i)?r.a.createElement(v.a,{icon:["fab","github"],className:"text-4xl text-center text-pink-500"}):t.match(/gitlab/i)?r.a.createElement(v.a,{icon:["fab","gitlab"],className:"text-4xl text-center text-pink-400"}):t.match(/bitbucket/i)?r.a.createElement(v.a,{icon:["fab","bitbucket"],className:"text-4xl text-center text-pink-400"}):t.match(/codecommit/i)?r.a.createElement(v.a,{icon:["fab","aws"],className:"text-4xl text-center text-pink-400"}):r.a.createElement(v.a,{icon:["fab","git-square"],className:"text-4xl text-center text-pink-400"})):null,r.a.createElement("div",{className:"".concat("No Remote Host Set"!==t?"text-xl":""," repo-leftpane--remote--name")},t)),r.a.createElement("div",{className:"w-1/4"},r.a.createElement("div",{id:"addRemote",className:"add-btn bg-indigo-400 hover:bg-indigo-500",onMouseEnter:function(e){e.target.innerHTML+='<div class="tooltip" style="margin-left:-40px;">Click to add a new remote repo</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){l(se)}},"+")))),r.a.createElement("div",{className:"remote flex-even my-4"},r.a.createElement("div",{className:"text-lg text-gray-600 w-1/4"},"".concat(t," URL")),r.a.createElement("div",{className:"remote--url"},a)),s?r.a.createElement("div",{className:"flex-even my-2"},r.a.createElement("div",{className:"font-sans text-gray-800 font-semibold w-1/4 border-dotted border-b-2 border-gray-200"},"Entry truncated!"),r.a.createElement("div",{className:"w-1/2 border-dotted border-b-2 border-gray-200"},"Remote repos : ".concat(i))):null),r.a.createElement("div",{className:"commitlogs"},r.a.createElement("div",{className:"flex-even my-3"},r.a.createElement("div",{className:"commitlogs--label"},"Commit Logs"),r.a.createElement("div",{className:"commitlogs--content",onClick:function(e){c()}},"Show Commit Logs")))):null)}function oe(e){var t=e.gitBranchList,a=e.gitCurrentBranch,n=e.gitLatestCommit,s=e.gitTotalCommits,i=e.actionTrigger,c=e.switchBranchHandler;return r.a.createElement(r.a.Fragment,null,e.received?r.a.createElement("div",{className:"repo-rightpane xl:w-1/2 lg:w-3/4 md:w-11/12 sm:w-11/12 w-11/12 "},r.a.createElement("div",{className:"block mx-auto my-2"},r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Total Commits"),r.a.createElement("div",{className:"total-commits"},"".concat(s," Commits"))),r.a.createElement("div",{className:"flex justify-around my-3"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Latest Commit"),r.a.createElement("div",{className:"latest-commit",title:n},n)),r.a.createElement("div",{className:"flex justify-around mx-auto my-2 align-middle items-center"},r.a.createElement("div",{className:"text-lg text-gray-500 w-1/4"},"Available Branches"),r.a.createElement("div",{className:"branch-list"},r.a.createElement("div",{className:"w-3/4 my-auto"},t&&a&&t.slice(0,3).map((function(e){return e?e===a?r.a.createElement("div",{className:"branch-list--current",key:"".concat(e,"-").concat(Object(F.a)())},e):r.a.createElement("div",{className:"branch-list--branches",key:"entry-key-".concat(Object(F.a)()),onClick:function(){c(e),i(ie)}},e):null})).filter((function(e){return e||!1})),r.a.createElement("div",{className:"branch-list__listbranch",onClick:function(){i(ce)}},"List all branches")),r.a.createElement("div",{id:"addBranch",className:"rounded-full items-center align-middle w-10 h-10 text-white text-2xl bg-green-400 text-center mx-auto shadow hover:bg-green-500 cursor-pointer",onMouseEnter:function(e){e.target.innerHTML+='<div class="tooltip" style="margin-left:-40px;">Click to add a new branch</div>'},onMouseLeave:function(e){e.target.innerHTML="+"},onClick:function(){i(re)}},"+"))),r.a.createElement("div",{className:"flex justify-around mx-auto mt-4"},r.a.createElement("div",{className:"w-1/3 rounded text-center cursor-pointer p-2 bg-indigo-500 hover:bg-indigo-600 text-white font-sans nowrap",onClick:function(){i(ae)}},"Fetch from remote"),r.a.createElement("div",{className:"w-1/3 text-center cursor-pointer rounded text-white p-2 bg-blue-500 hover:bg-blue-600 font-sans",onClick:function(){i(ne)}},"Pull from remote")))):null)}function me(e){g.b.add(C.a,h.a);var t=Object(n.useState)({}),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),v=b[0],E=b[1],j=Object(n.useState)(!1),x=Object(c.a)(j,2),N=x[0],y=x[1],O=Object(n.useState)(!1),w=Object(c.a)(O,2),k=w[0],S=w[1],T=Object(n.useState)(0),I=Object(c.a)(T,2),A=I[0],F=I[1],_=Object(n.useState)(!1),P=Object(c.a)(_,2),L=P[0],D=P[1],q=Object(n.useState)(!1),B=Object(c.a)(q,2),M=B[0],H=B[1],K=Object(n.useState)(""),W=Object(c.a)(K,2),Y=W[0],Z=W[1],X=Object(n.useState)(""),ae=Object(c.a)(X,2),ne=ae[0],re=ae[1],se=Object(n.useState)([]),ie=Object(c.a)(se,2),ce=ie[0],me=ie[1],de=Object(n.useState)([]),ue=Object(c.a)(de,2),pe=ue[0],fe=ue[1],ge=Object(n.useState)(""),be=Object(c.a)(ge,2),he=be[0],ve=be[1],Ee=Object(n.useState)(!1),je=Object(c.a)(Ee,2),xe=je[0],Ne=je[1],ye=function(e){D(!e)},Oe=function(e){ve(e),D(!0)},we=Object(n.useMemo)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{repoId:v}))}),[v]),Ce=Object(n.useMemo)((function(){return r.a.createElement($,{repoId:v,actionType:"fetch"})}),[v]),ke=Object(n.useMemo)((function(){return r.a.createElement($,{repoId:v,actionType:"pull"})}),[v]),Se=Object(n.useMemo)((function(){return r.a.createElement(ee,{repoId:v,branchName:Y,closeBackdrop:ye})}),[v,Y]),Te=Object(n.useMemo)((function(){return r.a.createElement(V,{repoId:v,currentBranch:ne})}),[v,ne]),Ie=Object(n.useMemo)((function(){return r.a.createElement(z,{repoId:v})}),[v]);Object(n.useEffect)((function(){H(!1),Ne(!0);var t=f;if(e.parentProps.location){var a=e.parentProps.location.pathname.split("/repository/")[1];E(a);var n=JSON.stringify(JSON.stringify({repoId:a}));d()({url:t,method:"POST",headers:{"Content-type":"application/json"},data:{query:'\n\n            query GitConvexApi\n            {\n              gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(n,"){\n                gitRepoStatus {\n                  gitRemoteData\n                  gitRepoName\n                  gitBranchList\n                  gitCurrentBranch\n                  gitRemoteHost\n                  gitTotalCommits\n                  gitLatestCommit\n                  gitTrackedFiles\n                  gitFileBasedCommit\n                  gitTotalTrackedFiles    \n                }\n              }\n            }\n          ")}}).then((function(e){if(Ne(!1),e.data&&e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.gitRepoStatus,a=t.gitRemoteData;re(t.gitCurrentBranch),a.includes("||")&&(S(!0),t.gitRemoteData=a.split("||")[0],S(!0),F(a.split("||").length)),i(t),me(Object(R.a)(t.gitTrackedFiles)),fe(Object(R.a)(t.gitFileBasedCommit))}else u(!0)})).catch((function(e){Ne(!1),e&&(console.log("API GitStatus error occurred : "+e),u(!0))}))}}),[e.parentProps,L]);var Re=s.gitRemoteData,Ae=s.gitRepoName,Fe=s.gitBranchList,_e=s.gitCurrentBranch,Pe=s.gitRemoteHost,Le=s.gitTotalCommits,De=s.gitLatestCommit;return r.a.createElement(r.a.Fragment,null,xe?r.a.createElement(G,{message:"Fetching repo details...",loading:xe}):null,N?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex overflow-auto",id:"commit-log__backdrop",style:{background:"rgba(0,0,0,0.5)",zIndex:99},onClick:function(e){"commit-log__backdrop"===e.target.id&&y(!1)}},r.a.createElement("div",{className:"commitlogs-view",onClick:function(){y(!1)}},"X"),r.a.createElement("div",{id:"commit-log__cards",className:"w-full xl:w-3/4 lg:w-5/6 md:w-11/12 sm:w-11/12 h-full block mx-auto my-auto mt-10 mb-10"},we))):null,L||M?r.a.createElement("div",{className:"backdrop-view",id:"repo-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"repo-backdrop"===e.target.id&&(D(!1),ve(""))}},r.a.createElement(r.a.Fragment,null,he?function(){switch(he){case"fetch":return Ce;case"pull":return ke;case"addRemoteRepo":return Ie;case"addBranch":return r.a.createElement(U,{repoId:v});case"switchbranch":return Se;case"listBranch":return Te;default:return null}}():null),r.a.createElement("div",{className:"action-view",onClick:function(){D(!1),H(!1),ve("")}},"X")):null,r.a.createElement(r.a.Fragment,null,xe||!s||m?null:r.a.createElement("div",{className:"xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none repo-details"},r.a.createElement("div",{className:"flex px-3 py-2"},s?r.a.createElement(te,{gitRepoName:Ae,gitCurrentBranch:_e}):null),r.a.createElement("div",{className:"w-full"},r.a.createElement("div",{className:"xl:flex lg:block md:block sm:block my-4 mx-auto justify-around"},s?r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{received:!0,actionTrigger:Oe,showCommitLogsView:function(){y(!0)},gitRemoteHost:Pe,gitRemoteData:Re,isMultiRemote:k,multiRemoteCount:A}),r.a.createElement(oe,{received:!0,switchBranchHandler:function(e){D(!0),ve("switchbranch"),Z(e)},actionTrigger:Oe,gitBranchList:Fe,gitCurrentBranch:_e,gitLatestCommit:De,gitTotalCommits:Le})):null)),!xe&&s&&v&&ce?r.a.createElement(J,{repoIdState:v,gitRepoFiles:ce,gitFileBasedCommits:pe}):null)))}function de(e){g.b.add(C.a,h.a);var t=Object(n.useRef)(),a=Object(n.useContext)(u),s=a.state,i=a.dispatch,l=s.presentRepo,o=Object(n.useState)(""),m=Object(c.a)(o,2),p=m[0],b=m[1],E=Object(n.useState)(0),j=Object(c.a)(E,2),x=j[0],N=j[1],y=Object(n.useState)([]),O=Object(c.a)(y,2),w=O[0],k=O[1],S=Object(n.useState)(!1),T=Object(c.a)(S,2),I=T[0],A=T[1],F=Object(n.useState)({}),_=Object(c.a)(F,2),P=_[0],L=_[1],D=Object(n.useState)(""),q=Object(c.a)(D,2),B=q[0],M=q[1],G=Object(n.useState)(0),H=Object(c.a)(G,2),J=H[0],U=H[1],z=Object(n.useState)(""),V=Object(c.a)(z,2),K=V[0],W=V[1],Y=Object(n.useState)(!1),Z=Object(c.a)(Y,2),X=Z[0],Q=Z[1],$=Object(n.useState)(!1),ee=Object(c.a)($,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){d()({url:f,method:"POST",data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("SETTINGS_DBPATH",'"){\n              settingsDatabasePath\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.error){var a=e.data.data.gitConvexApi.settingsDatabasePath;b(a),W(a),t.current.value=a}})).catch((function(e){console.log(e)})),d()({url:f,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_REPODETAILS",'"){\n                settingsRepoDetails{\n                  id\n                  repoPath\n                  repoName\n                  timeStamp\n                }\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsRepoDetails;k(Object(R.a)(t))}})).catch((function(e){console.log(e)})),d()({url:f,method:"POST",data:{query:'\n            query GitConvexResults{\n              gitConvexApi(route: "'.concat("SETTINGS_PORT",'"){\n                settingsPortDetails\n              }\n            }\n          ')}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.settingsPortDetails;N(t)}}))}),[e,J]);return r.a.createElement(r.a.Fragment,null,I?r.a.createElement("div",{className:"fixed w-full h-full top-0 left-0 right-0 flex xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none",id:"settings-backdrop",style:{background:"rgba(0,0,0,0.7)"},onClick:function(e){"settings-backdrop"===e.target.id&&(M(""),A(!1),U(J+1))}},P?function(){var e=["Repo ID","Repo Name","Repo Path","Timestamp"],t=[];return Object.keys(P).forEach((function(a,n){t.push({label:e[n],value:P[a]})})),r.a.createElement("div",{className:"w-3/4 p-6 mx-auto my-auto rounded shadow bg-white"},r.a.createElement("div",{className:"mx-4 my-2 text-3xl font-sans text-gray-900"},"The repo below will be removed from Gitconvex records."),r.a.createElement("div",{className:"mx-4 my-1 text-md font-light w-5/6 font-sans italic text-gray-800"},"This will not delete the actual git folder. Just the record from the gitconvex server will be removed"),r.a.createElement("div",{className:"my-2 mx-auto block justify-center w-3/4 p-2"},t.map((function(e){return r.a.createElement("div",{className:"mx-auto flex p-2 font-sans",key:e.label},r.a.createElement("div",{className:"w-2/4 font-semibold"},e.label),r.a.createElement("div",{className:"w-2/4"},e.value))}))),"lodaing"!==B&&"success"!==B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 rounded shadow bg-red-400 hover:bg-red-500 text-white text-xl",onClick:function(){!function(){M("loading");var e=P.id;d()({url:f,method:"POST",data:{query:'\n          mutation GitConvexMutation{\n            deleteRepo(repoId: "'.concat(e,'"){\n              status\n              repoId\n            }\n          }\n        ')}}).then((function(e){if(e.data.data&&!e.data.eror){var t=e.data.data.deleteRepo,a=t.status,n=t.repoId;if("DELETE_SUCCESS"===a){if(l&&l.length>0){var r=l[0];r=r.map((function(e){return e.id.toString()===n.toString()?null:e})),i({action:"DELETE_PRESENT_REPO",payload:Object(R.a)(r)})}M("success")}else M("failed")}})).catch((function(e){console.log(e),M("failed")}))}()}},"Confirm Delete"):null,"loading"===B?r.a.createElement("div",{className:"cursor-pointer mx-auto my-4 text-center p-3 text-white rounded shadow bg-gray-400 hover:bg-gray-500 text-white text-xl"},"Deletion in progress"):null,"success"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-green-300 text-green-600 my-4"},"Repo has been deleted!"):null,"failed"===B?r.a.createElement("div",{className:"p-4 mx-auto text-center font-sans font-semibold bg-red-300 my-4"},"Repo deletion failed!"):null)}():null,r.a.createElement("div",{className:"top-0 right-0 fixed float-right font-semibold my-2 bg-red-500 text-3xl cursor-pointer text-center text-white my-5 align-middle rounded-full w-12 h-12 items-center align-middle shadow-md mr-5",onClick:function(){M(""),A(!1),U(J+1)}},"X")):null,r.a.createElement("div",{className:"block w-full h-full pt-5 pb-10 xl:overflow-auto lg:overflow-auto md:overflow-none sm:overflow-none"},r.a.createElement("div",{className:"font-sans text-6xl my-4 mx-10 text-gray-700 block items-center align-middle"},r.a.createElement(v.a,{className:"text-5xl",icon:["fas","cogs"]}),r.a.createElement("span",{className:"mx-10"},"Settings")),r.a.createElement("div",{className:"block my-10 justify-center mx-auto w-11/12"},p?r.a.createElement("div",{className:"settings-data"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Server data file (file which stores repo details)"),r.a.createElement("div",{className:"my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 w-2/3",ref:t,onChange:function(e){W(e.target.value),Q(!1)},onClick:function(){Q(!1)}}),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"The data file can be updated. The data file must be an accessible JSON file with read / write permissions set to it. Also make sure you enter the full path for the file",r.a.createElement("pre",{className:"my-2"},"E.g: /opt/my_data/data-file.json")),p!==K?r.a.createElement("div",{className:"my-4 text-center p-2 font-sans text-white border-green-400 border-2 bg-green-500 rounded-md cursor-pointer shadow w-1/4 hover:bg-green-600",onClick:function(){!function(){if(K){var e=J+1;d()({url:f,method:"POST",data:{query:'\n              mutation GitConvexMutation{\n                updateRepoDataFile(newDbFile: "'.concat(K.toString(),'")\n              }\n            ')}}).then((function(t){t.data.data&&!t.data.error&&"DATAFILE_UPDATE_SUCCESS"===t.data.data.updateRepoDataFile?(Q(!1),U(e),window.location.reload()):(Q(!0),U(e))})).catch((function(t){console.log("Datafile update error",t),Q(!0),U(e)}))}}(),Q(!1)}},"Update Data file"):null,X?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-2/3 text-center"},"Data file update failed"):null)):null,w?r.a.createElement("div",{className:"repo-data my-10"},r.a.createElement("div",{className:"text-xl text-gray-700 font-sans font-semibold"},"Saved Repos"),r.a.createElement(r.a.Fragment,null,w&&w.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex my-4 bg-indigo-500 my-1 w-full rounded text-white bg-white shadow p-3 font-sand text-xl font-semibold"},r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo ID"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Name"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Repo Path"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Timestamp"),r.a.createElement("div",{className:"w-1/2 border-r text-center"},"Action")),w.map((function(e){return r.a.createElement("div",{className:"flex my-1 w-full rounded bg-white shadow p-3 font-sans text-gray-800",key:e.id},r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},e.id),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-bold font-sans break-all"},e.repoName),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light text-blue-600"},e.repoPath),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all text-sm font-light"},e.timeStamp),r.a.createElement("div",{className:"w-1/2 px-2 border-r font-sans break-all"},r.a.createElement("div",{className:"bg-red-600 p-2 mx-auto my-auto rounded shadow text-center w-1/2 hover:bg-red-400 cursor-pointer",onClick:function(t){A(!0),L(e)}},r.a.createElement(v.a,{color:"white",icon:["fas","trash-alt"]}))))}))):r.a.createElement("div",{className:"my-4 mx-auto bg-gray-200 text-center p-3 rounded shadow w-3/4"},"No repos are being managed by Gitconvex. You can add one from the dashboard"))):null,r.a.createElement("div",{className:"my-2 mx-auto"},r.a.createElement("div",{className:"text-xl font-sans text-gray-800 my-2"},"Active Gitconvex port"),r.a.createElement("div",{className:"flex my-4"},r.a.createElement("input",{type:"text",className:"p-2 rounded border border-gray-500 bg-gray-200 text-gray-800 xl:w-1/2 lg:w-1/3 md:w-1/2 sm:w-1/2 w-1/2",value:x,onChange:function(e){N(e.target.value)}}),r.a.createElement("div",{className:"p-2 text-center mx-4 rounded border text-white bg-indigo-500 xl:w-1/6 lg:w-1/6 md:w-1/5 sm:w-1/4 w-1/4 hover:bg-indigo-600 cursor-pointer",onClick:function(){x&&d()({url:f,method:"POST",data:{query:"\n              mutation GitConvexMutation{\n                settingsEditPort(newPort: ".concat(x,")\n              }\n            ")}}).then((function(e){e.data.data&&!e.data.error?console.log(e.data.data.settingsEditPort):te(!0)})).catch((function(e){console.log(e),ae(!0)}))}},"Update Port")),r.a.createElement("div",{className:"text-justify font-sand font-light text-sm my-4 text-gray-500 italic w-2/3"},"Make sure to restart the app and to change the port in the URL after updating it"),te?r.a.createElement("div",{className:"my-2 p-2 rounded border border-red-300 text-red-700 font-sans font-semibold w-1/2 text-center"},"Port update failed"):null))))}a(90);function ue(e){g.b.add(h.a);var t=e.repoId,a=e.baseBranch,s=e.compareBranch,i=Object(n.useState)([]),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(c.a)(u,2),b=p[0],E=p[1];return Object(n.useEffect)((function(){if(m([]),E(!0),s===a)return E(!1),void console.log("Same");var e=JSON.stringify(JSON.stringify({repoId:t,baseBranch:a,compareBranch:s}));d()({url:f,method:"POST",data:{query:'\n          query GitConvexApi {\n            gitConvexApi(route: "'.concat("BRANCH_COMPARE",'", payload: ').concat(e,") {\n              branchCompare {\n                date\n                commits{\n                  hash\n                  author\n                  commitMessage\n                }\n              }\n            }\n          }\n        ")}}).then((function(e){if(E(!1),e.data.data){var t=e.data.data.gitConvexApi.branchCompare;m(Object(R.a)(t))}})).catch((function(e){console.log(e),E(!1)}))}),[t,a,s]),r.a.createElement("div",{className:"mx-auto mt-6 mb-10 p-6 block w-11/12 overflow-auto"},!b&&o&&o.map((function(e){return r.a.createElement("div",{className:"my-4 border-b p-3 border border-gray-400 shadow-md rounded",key:e.date},r.a.createElement("div",{className:"flex items-center gap-10 text-xl font-sans font-semibold text-gray-800 border-b"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","calendar-day"],className:"text-gray-700"})),r.a.createElement("div",null,"Committed on - ",e.date)),r.a.createElement("div",null,e.commits.map((function(e){return r.a.createElement("div",{className:"flex p-3 justify-between items-center mx-auto border-b w-full",key:e.hash},r.a.createElement("div",{className:"block p-2 font-sans font-light text-gray-800"},r.a.createElement("div",null,e.commitMessage),r.a.createElement("div",{className:"flex items-center gap-4 my-2 align-middle"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","user-alt"],className:"text-indigo-500"})),r.a.createElement("div",{className:"text-xl font-semibold font-sans"},e.author))),r.a.createElement("div",{className:"shadow border rounded p-2 bg-indigo-100 font-mono font-semibold text-indigo-800"},"#",e.hash))}))))})),s===a?r.a.createElement("div",{className:"p-2 rounded shadow text-center font-sans text-2xl font-light bg-gray-100"},"Same branches cannot be compared"):b||0!==o.length?null:r.a.createElement("div",{className:"w-full mx-auto my-auto p-6 shadow border rounded-lg font-sans text-center text-lg"},"No changes found after comparing",r.a.createElement("span",{className:"mx-2 font-sans font-semibold text-blue-600"},a),"with",r.a.createElement("span",{className:"mx-2 font-sans font-semibold text-geay-800"},s),r.a.createElement("div",{className:"my-2 text-xm text-red-400 font-sans font-semibold border-b border-dashed"},"If this is not right, try the other way around")))}function pe(e){g.b.add(h.a);var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(""),o=Object(c.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)(""),b=Object(c.a)(p,2),E=b[0],j=b[1],x=Object(n.useState)(""),N=Object(c.a)(x,2),y=N[0],O=N[1],w=Object(n.useMemo)((function(){return r.a.createElement(ue,{repoId:e.repoId,baseBranch:y,compareBranch:E})}),[e.repoId,y,E]);return Object(n.useEffect)((function(){var t=d.a.CancelToken.source(),a=JSON.stringify(JSON.stringify({repoId:e.repoId}));return d()({url:f,method:"POST",cancelToken:t.token,data:{query:'\n            query GitConvexApi\n            {\n              gitConvexApi(route: "'.concat("REPO_DETAILS",'", payload: ').concat(a,"){\n                gitRepoStatus {\n                    gitBranchList  \n                    gitCurrentBranch\n                }\n              }\n            }\n          ")}}).then((function(e){var t=e.data.data.gitConvexApi.gitRepoStatus,a=t.gitBranchList,n=t.gitCurrentBranch;(a=a&&a.map((function(e){return e.trim()}))).length>1&&j(a[1].trim()),i(a),u(n.trim()),O(n.trim())})).catch((function(e){console.log(e)})),function(){return t.cancel}}),[e.repoId]),r.a.createElement("div",null,1===s.length?r.a.createElement("div",{className:"w-full mx-auto my-auto text-center block"},r.a.createElement(v.a,{icon:["fas","puzzle-piece"],className:"font-sans text-center text-gray-300 my-20",size:"10x"}),r.a.createElement("div",{className:"text-2xl text-gray-300"},"Only one branch is available, hence can't be set for comparison")):0===s.length?r.a.createElement("div",{className:"mx-auto my-20 text-center flex justify-center text-4xl font-sans text-center text-gray-300"},"Loading Branch Info..."):r.a.createElement("div",{className:"w-11/12 p-3 flex mx-auto items-center align-middle rounded-lg shadow-md border-2 justify-around"},r.a.createElement("div",{className:"flex gap-6 justify-between items-center"},r.a.createElement("div",{className:"text-xl text-center font-sans font-semibold border-b-2 border-dashed border-gray-400"},"Base branch"),r.a.createElement("div",null,r.a.createElement("select",{defaultValue:m,className:"outline-none p-2 shadow border-2 bg-white rounded-lg",onChange:function(e){O(e.currentTarget.value.trim())}},r.a.createElement("option",{value:m},m),s.slice(1).map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))),r.a.createElement("div",{className:"flex gap-6 justify-between items-center"},r.a.createElement("div",{className:"text-xl text-center font-sans font-semibold border-b-2 border-dashed border-gray-400"},"Compare branch"),r.a.createElement("div",null,r.a.createElement("select",{className:"outline-none p-2 shadow border-2 bg-white rounded-lg",onChange:function(e){j(e.currentTarget.value)}},s.map((function(e,t){return y&&y!==e?r.a.createElement("option",{value:e,key:e},e):0===t?null:r.a.createElement("option",{value:e,key:e},e)})))))),y&&E?w:null)}function fe(e){g.b.add(h.a,b.a);var t=e.repoId,a=e.baseCommit,s=e.compareCommit,i=Object(n.useState)([]),l=Object(c.a)(i,2),o=l[0],m=l[1],u=Object(n.useState)(!1),p=Object(c.a)(u,2),E=p[0],j=p[1],x=Object(n.useState)([]),N=Object(c.a)(x,2),y=N[0],O=N[1],w=Object(n.useState)(!1),C=Object(c.a)(w,2),k=C[0],S=C[1];return Object(n.useEffect)((function(){if(m([]),j(!1),S(!0),a===s)return S(!1),void m([]);var e=JSON.stringify(JSON.stringify({repoId:t,baseCommit:a,compareCommit:s}));d()({url:f,method:"POST",data:{query:'\n            query GitConvexApi {\n              gitConvexApi(route: "'.concat("COMMIT_COMPARE",'", payload: ').concat(e,") {\n                commitCompare {\n                  message\n                  difference{\n                    status\n                    fileName\n                  }\n                }\n              }\n            }\n          ")}}).then((function(e){S(!1);var t=e.data.data.gitConvexApi.commitCompare,a=t.difference,n=t.message;n&&n.includes("Error")?j(!0):(n&&n.includes("warning")&&(O(n.split("\n")),j(!0)),a&&m(Object(R.a)(a)))})).catch((function(e){S(!1),j(!0),console.log(e)}))}),[t,a,s]),r.a.createElement("div",{className:"my-4 w-11/12 mx-auto p-6 rounded shadow bg-blue-100"},a===s?r.a.createElement("div",{className:"text-center font-sans font-light text-2xl"},"Same commits cannot be compared"):null,E?r.a.createElement("div",{className:"p-3 w-full rounded bg-red-100 border font-sans font-light text-xl"},"Error occurred while fetching comparison results!",y?r.a.createElement("div",{className:"p-2 my-4 mx-auto rounded shadow"},r.a.createElement("div",{className:"text-3xl my-2 font-sans font-light text-yellow-900"},"Warning"),y.map((function(e){var t=e.replace("warning: ","");return r.a.createElement("div",{className:"text-xl font-sans font-semibold text-yellow-800"},t,t.includes("diff.renameLimit")?r.a.createElement("div",{className:"my-4 mx-2 p-3 rounded bg-white text-green-600 font-sans font-light"},"run",r.a.createElement("span",{className:"font-semibold font-mono mx-2"},"`git config diff.renamelimit 0`"),"from command line to fix this problem"):null)}))):null):null,!E&&o.length>0&&!k?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-left font-sans font-semibold text-2xl mx-2 my-4 text-gray-800"},"Differing Files"),o.map((function(e){var t=e.status,a=e.fileName,n="",s="",i="";switch(t[0]){case"M":n="plus-square",s="text-yellow-600",i="Modified";break;case"A":n="plus-square",s="text-green-500",i="Added";break;case"D":n="minus-square",s="text-red-500",i="Deleted";break;case"R":n="caret-square-right",s="text-indigo-500",i="Renamed";break;default:n="stop-circle",s="text-gray-500",i="Unmerged / Copied / Unknown"}return r.a.createElement("div",{className:"flex items-center align-middle justify-center gap-4",key:t+"-"+a},r.a.createElement("div",{className:"text-2xl cursor-pointer ".concat(s),title:i},r.a.createElement(v.a,{icon:["far",n]})),r.a.createElement("div",{className:"w-3/4 font-sans font-light truncate",title:a},a))}))):null,k?r.a.createElement("div",{className:"my-2 text-2xl font-sans font-semibold text-gray-500"},"Loading comparison results..."):null)}function ge(e){g.b.add(h.a);var t=e.item,a=e.setCommitType;return r.a.createElement("div",{className:"flex p-3 justify-between items-center mx-auto border-b w-full cursor-pointer hover:bg-gray-100",key:t.hash,onClick:function(){a(t.hash)}},r.a.createElement("div",{className:"block p-2 font-sans font-light text-gray-800"},r.a.createElement("div",{className:"my-2 font-sans text-xl font-light text-blue-600 border-b border-dashed"},t.commitTime),r.a.createElement("div",null,t.commitMessage),r.a.createElement("div",{className:"flex items-center gap-4 my-2 align-middle"},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas","user-alt"],className:"text-indigo-500"})),r.a.createElement("div",{className:"font-semibold font-sans"},t.author))),r.a.createElement("div",{className:"block"},r.a.createElement("div",{className:"shadow border rounded text-sm p-2 bg-indigo-100 font-mono font-semibold text-indigo-800"},"#",t.hash),r.a.createElement("div",{className:"my-2 shadow border rounded text-sm p-2 bg-orange-100 font-sans font-semibold"},t.commitRelativeTime)))}function be(e){g.b.add(h.a);var t=Object(n.useState)(0),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(0),o=Object(c.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)([]),b=Object(c.a)(p,2),E=b[0],j=b[1],x=Object(n.useState)(""),N=Object(c.a)(x,2),y=N[0],O=N[1],w=Object(n.useState)(""),C=Object(c.a)(w,2),k=C[0],S=C[1],T=Object(n.useMemo)((function(){return r.a.createElement(fe,{repoId:e.repoId,baseCommit:y,compareCommit:k})}),[e.repoId,y,k]);function I(e){return r.a.createElement(r.a.Fragment,null,E&&E.map((function(t){return r.a.createElement(ge,{item:t,setCommitType:e,key:t.hash})})),(s>=10||0===s)&&s<=m?r.a.createElement("div",{className:"p-3 border cursor-pointer hover:bg-gray-100 text-center font-sans font-semibold",onClick:function(){i(s+10)}},"Load More commits"):null)}return Object(n.useEffect)((function(){var t=JSON.stringify(JSON.stringify({repoId:e.repoId,skipLimit:s}));d()({url:f,method:"POST",data:{query:'\n            query GitConvexApi\n            {\n                gitConvexApi(route: "'.concat("COMMIT_LOGS",'", payload: ').concat(t,"){\n                    gitCommitLogs {\n                        totalCommits\n                        commits{\n                            commitTime\n                            hash\n                            author\n                            commitMessage\n                            commitRelativeTime\n                            commitFilesCount\n                        }  \n                    }\n                }\n            }\n            ")}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.gitCommitLogs,a=t.commits,n=t.totalCommits;u(n),j((function(e){return e?[].concat(Object(R.a)(e),Object(R.a)(a)):Object(R.a)(a)}))}})).catch((function(e){console.log(e)}))}),[e.repoId,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 mx-auto my-6 flex gap-10 justify-around"},y?r.a.createElement("div",{className:"flex my-4 gap-10 justify-center items-center"},r.a.createElement("div",{className:"font-sans font-semibold text-xl border-b border-dashed"},"Base Commit"),r.a.createElement("div",{className:"text-xl font-sans font-semibold p-3 rounded-lg shadow text-gray-600 border-indigo-300 border-2 border-dashed"},y),r.a.createElement("div",{className:"p-2 rounded border-b-2 border-dashed shadow cursor-pointer hover:bg-gray-100",onClick:function(){O("")}},r.a.createElement(v.a,{className:"text-2xl text-gray-600",icon:["fas","edit"]}))):null,k?r.a.createElement("div",{className:"flex gap-10 justify-between items-center"},r.a.createElement("div",{className:"font-sans font-semibold text-xl border-b border-dashed"},"Commit to Compare"),r.a.createElement("div",{className:"text-xl font-sans font-semibold p-3 rounded-lg shadow text-gray-600 border-orange-400 border-2 border-dashed"},k),r.a.createElement("div",{className:"p-2 rounded border-b-2 border-dashed shadow cursor-pointer hover:bg-gray-100",onClick:function(){S("")}},r.a.createElement(v.a,{className:"text-2xl text-gray-600",icon:["fas","edit"]}))):null),0===E.length?r.a.createElement("div",{className:"text-3xl text-center font-sans text-gray-300"},"Loading Commits..."):r.a.createElement("div",{className:"w-11/12 mx-auto flex gap-10 justify-around"},y?null:r.a.createElement("div",{className:"w-1/2 p-2 shadow border rounded"},r.a.createElement("div",{className:"p-2 font-sans font-semibold text-xl font-semibold"},"Select the base Commit"),I(O)),k?null:r.a.createElement("div",{className:"w-1/2 p-2 shadow border rounded"},r.a.createElement("div",{className:"p-2 font-sans font-semibold text-xl font-semibold"},"Select the Commit to compare"),I(S))),y&&k?T:null)}function he(e){var t=Object(n.useState)(""|e.currentAction),a=Object(c.a)(t,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){i("")}),[e.selectedRepo]),r.a.createElement("div",{className:"my-10 w-11/12 mx-auto flex justify-around"},["Branch Compare","Commit Compare"].map((function(t,a){var n=s&&s.includes(t.split(" ")[0].toLowerCase())?"bg-blue-400 text-white":"border-blue-200";return r.a.createElement("div",{className:"w-1/3 rounded-lg p-3 shadow border text-center font-sans font-semibold cursor-pointer hover:shadow-lg ".concat(n),key:"actionItem-".concat(a),onClick:function(t){if(t.currentTarget.innerText.includes("Branch")){e.setCompareAction("branch-compare"),i("branch-compare")}else if(t.currentTarget.innerText.includes("Commit")){e.setCompareAction("commit-compare"),i("commit-compare")}}},t)})))}function ve(e){return r.a.createElement("div",{className:"w-11/12 bg-indigo-100 border border-dashed border-indigo-400 mx-auto flex gap-10 justify-around my-4 p-3 rounded-lg shadow border border-dashed items-center"},r.a.createElement("div",{className:"rounded p-2 text-center font-sans font-semibold text-xl"},"Selected Repository"),r.a.createElement("div",{className:"bg-indigo-400 p-4 text-white rounded-lg shadow-md border-dashed border border-orange-400 font-sans font-semibold text-xl text-center"},e.repoName))}function Ee(){g.b.add(h.a);var e=[{message:r.a.createElement("div",{className:"my-10 font-sans text-xl font-semibold"},"Select",r.a.createElement("span",{className:"mx-2 p-1 rounded-lg text-center text-white bg-gray-400"},"Branch Compare"),"for comparing two branches"),icon:"code-branch"},{message:"",icon:""},{message:r.a.createElement("div",{className:"my-10 font-sans text-xl font-semibold"},"Select",r.a.createElement("span",{className:"mx-2 p-1 rounded-lg text-center text-white bg-gray-400"},"Commit Compare"),"for comparing two selected commits"),icon:"hashtag"}];return r.a.createElement("div",{className:"flex w-11/12 justify-around gap-10 mx-auto my-6 text-gray-300"},e.map((function(e,t){return e.message?r.a.createElement("div",{className:"w-1/3 block text-center",key:"hint-".concat(t)},r.a.createElement("div",null,r.a.createElement(v.a,{icon:["fas",e.icon],size:"10x"})),e.message):r.a.createElement("div",{className:"block p-1 border-r-4 boreder-dashed",key:"hint-".concat(t)})})))}function je(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){var t=d.a.CancelToken.source();return d()({url:f,method:"POST",cancelToken:t.token,data:{query:'\n          query GitConvexResults{\n            gitConvexApi(route: "'.concat("FETCH_REPO",'"){\n              fetchRepo{\n                repoId\n                repoName\n                repoPath\n              }\n            }\n          }\n        ')}}).then((function(t){var a=t.data.data.gitConvexApi.fetchRepo;if(a){var n=a.repoId,r=a.repoName,s=a.repoPath,c=[];n.forEach((function(t,a){r[a].toLowerCase().match(e.searchQuery.toLowerCase())&&c.push({id:t,repoName:r[a],repoPath:s[a]})})),i(c)}})).catch((function(e){})),function(){return t.cancel}}),[e.searchQuery]),r.a.createElement("div",{className:"w-full"},s?s.map((function(t){return r.a.createElement("div",{className:"my-4 p-4 border-b mx-auto flex justify-around items-center cursor-pointer hover:bg-gray-200",key:t.id,onClick:function(a){e.setSelectedRepoHandler(t)}},r.a.createElement("div",{className:"w-1/2 text-2xl font-sand font-semibold"},t.repoName),r.a.createElement("div",{className:"w-1/4 block justify-center"},r.a.createElement("div",{className:"bg-blue-100 border shadow rounded p-2"},"PATH"),r.a.createElement("div",{className:"my-2 text-lg font-light text-gray-700"},t.repoPath)))})):r.a.createElement("div",{className:"text-center text-2xl font-sans font-light"},"Loading..."),s[0]?null:r.a.createElement("div",{className:"text-3xl my-6 font-sans font-light text-gray-600"},"There are no matching repos..."))}function xe(e){var t=Object(n.useRef)(Z()((function(){b(""),l(!0)}),500,{maxWait:1500})).current,a=Object(n.useState)(!1),s=Object(c.a)(a,2),i=s[0],l=s[1],o=Object(n.useState)(""),m=Object(c.a)(o,2),d=m[0],u=m[1],p=Object(n.useState)(""),f=Object(c.a)(p,2),g=f[0],b=f[1],h=Object(n.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"compare--searchbar flex w-11/12 rounded-md justify-between shadow mt-4 mx-auto items-center border"},r.a.createElement("div",{className:"w-11/12 rounded-r-md"},r.a.createElement("input",{type:"text",ref:h,className:"w-full p-3 outline-none text-lg font-light font-sans",placeholder:"Enter repo name to search",onChange:function(e){u(e.target.value),t()}})),r.a.createElement("div",{className:"px-6 py-4 bg-gray-200 text-center rounded-r-lg hover:bg-gray-400 cursor-pointer",onClick:function(){t()}},r.a.createElement(v.a,{icon:["fas","search"],className:"text-3xl text-gray-600"}))),i&&d&&!g?r.a.createElement("div",{className:"w-11/12 mx-auto rounded-b-md p-3 border"},r.a.createElement(je,{searchQuery:d,setSelectedRepoHandler:function(e){b(e),h.current.value=""}})):null,g?e.activateCompare(g):null)}function Ne(){g.b.add(h.a,b.a);var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)(""),l=Object(c.a)(i,2),o=l[0],m=l[1];Object(n.useEffect)((function(){m("")}),[a.id]);var d=Object(n.useMemo)((function(){return r.a.createElement(pe,{repoId:a.id})}),[a.id]),u=Object(n.useMemo)((function(){return r.a.createElement(be,{repoId:a.id})}),[a.id]),p=Object(n.useMemo)((function(){return r.a.createElement(he,{selectedRepo:a.id,compareAction:o,setCompareAction:function(e){m(e)}})}),[o,a.id]);return r.a.createElement("div",{className:"compare overflow-auto"},r.a.createElement("div",{className:"compare--header"},"Compare Branches and Commits"),r.a.createElement(xe,{activateCompare:function(e){s(e)}}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,{repoName:a.repoName}),p,o?"branch-compare"===o?d:r.a.createElement(r.a.Fragment,null,"commit-compare"===o?u:null):r.a.createElement(Ee,null)):r.a.createElement("div",{className:"w-full mx-auto my-auto text-center block"},r.a.createElement(v.a,{icon:["far","object-group"],className:"font-sans text-center text-gray-300 my-20",size:"10x"}),r.a.createElement("div",{className:"text-6xl text-gray-200"},"Select a Repo to compare")))}function ye(e){var t=Object(n.useContext)(u).state,a=Object(n.useState)(""),s=Object(c.a)(a,2),i=s[0],m=s[1],p=Object(n.useState)(""),g=Object(c.a)(p,2),b=g[0],h=g[1],v=Object(n.useState)(""),j=Object(c.a)(v,2),x=j[0],N=j[1],y=Object(n.useMemo)((function(){return r.a.createElement(me,{parentProps:e})}),[e]),O=Object(n.useMemo)((function(){return r.a.createElement(Ne,null)}),[]),w=Object(n.useMemo)((function(){return r.a.createElement(de,null)}),[]),C=Object(n.useMemo)((function(){return r.a.createElement(I,null)}),[]);Object(n.useEffect)((function(){var e=t.hcParams,a=e.osCheck,n=e.gitCheck,r=e.nodeCheck,s=d.a.CancelToken.source();a&&n&&r?(m(a),h(n),N(r)):3===["OS_TYPE","NODE_VERSION","GIT_VERSION"].filter((function(e){return!!localStorage.getItem(e)})).length?(m(localStorage.getItem("OS_TYPE")),N(localStorage.getItem("NODE_VERSION")),h(localStorage.getItem("GIT_VERSION"))):d()({url:f,method:"POST",cancelToken:s.token,data:{query:'\n              query GitConvexAPI{\n                gitConvexApi(route:"HEALTH_CHECK"){\n                  healthCheck{\n                    osCheck\n                    gitCheck\n                    nodeCheck\n                  }\n                }\n              }\n            '}}).then((function(e){if(e.data.data&&!e.data.error){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;m(JSON.parse(a).message),h(JSON.parse(n).message),N(JSON.parse(r).message)}})).catch((function(e){console.log(e)}));return function(){s.cancel()}}),[t.hcParams]);var k={platform:i,gitVersion:b,nodeVersion:x};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"xl:flex lg:flex md:block w-full h-screen"},r.a.createElement(E,{parentProps:e}),function(){switch(e.location.pathname){case"/dashboard":return r.a.createElement(T,{params:k});case"/dashboard/repository":return r.a.createElement(M,null);case"/dashboard/compare":return O;case"/dashboard/settings":return w;case"/dashboard/help":return C;default:return r.a.createElement(o.a,null,r.a.createElement(l.a,{exact:!0,path:"/dashboard/repository/:repoId"},y))}}()))}a(91);function Oe(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),s=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(c.a)(l,2),m=o[0],p=o[1],g=Object(n.useContext)(u).dispatch;return Object(n.useEffect)((function(){var e=f;d()({url:e,method:"POST",data:{query:'\n          query GitConvexAPI{\n            gitConvexApi(route:"HEALTH_CHECK"){\n              healthCheck{\n                osCheck\n                gitCheck\n                nodeCheck\n              }\n            }\n          }\n        '}}).then((function(e){if(e.data.data){var t=e.data.data.gitConvexApi.healthCheck,a=t.osCheck,n=t.gitCheck,r=t.nodeCheck;g({type:"HC_PARAM_ACTION",payload:{osCheck:a,gitCheck:n,nodeCheck:r}}),p(!0)}else i(!0)})).catch((function(e){console.log(e),i(!0)}))}),[g]),r.a.createElement(r.a.Fragment,null,m?e.history.push("/dashboard"):r.a.createElement("div",{className:"w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"splash-logo w-64 h-full justify-center mx-auto flex my-auto align-center items-center"},r.a.createElement("div",{className:"p-5 shadow-md border-l-4 border-t-4 border-blue-100 rounded-lg block"},r.a.createElement("div",{className:"splash-logo__image"})),r.a.createElement("div",{className:"logo-label my-3 p-3 text-center block"},r.a.createElement("div",{className:"logo-label__title block text-6xl border-solid border-b-4 border-pink-200"},r.a.createElement("span",{className:"logo-label__title-first font-sans font-bold mx-3"},"Git"),r.a.createElement("span",null,"Convex")),r.a.createElement("div",{className:"block font-mono my-2"},"A visualizer for your git repo"))),s?r.a.createElement("div",{className:"fixed bottom-0 left-0 right-0 w-full p-3 rounded-lg text-center font-sans bg-red-200 border-red-900"},r.a.createElement("div",{className:"h1 text-3xl p-2 m-2 text-red-800"},"Server Unreachable"),r.a.createElement("p",null,"The server is not reachable.Please check if the server module is running.")):null))}var we=a(10);function Ce(e,t){switch(t.type){case"HC_DONE_SWITCH":return Object(we.a)(Object(we.a)({},e),{},{hcDone:t.payload});case"HC_PARAM_ACTION":var a=t.payload,n=a.osCheck,r=a.gitCheck,s=a.nodeCheck,i=function(e){return JSON.parse(JSON.parse(JSON.stringify(e))).message};return localStorage.setItem("OS_TYPE",i(n)),localStorage.setItem("GIT_VERSION",i(r)),localStorage.setItem("NODE_VERSION",i(s)),Object(we.a)(Object(we.a)({},e),{},{hcParams:{osCheck:i(n),gitCheck:i(r),nodeCheck:i(s)}});case"PRESENT_REPO":return Object(we.a)(Object(we.a)({},e),{},{presentRepo:[].concat(Object(R.a)(e.presentRepo),[t.payload])});case"ADD_FORM_CLOSE":return Object(we.a)(Object(we.a)({},e),{},{shouldAddFormClose:t.payload});case"DELETE_PRESENT_REPO":return Object(we.a)(Object(we.a)({},e),{},{presentRepo:Object(R.a)(t.payload)});case"GIT_TRACKED_FILES":return e.modifiedGitFiles=[],Object(we.a)(Object(we.a)({},e),{},{modifiedGitFiles:[].concat(Object(R.a)(e.modifiedGitFiles),[t.payload])});case"GIT_GLOBAL_REPOID":return e.globalRepoId="",Object(we.a)(Object(we.a)({},e),{},{globalRepoId:t.payload});case"GIT_ACTION_TRACKED_FILES":return e.gitTrackedFiles=[],Object(we.a)(Object(we.a)({},e),{},{gitTrackedFiles:[].concat(Object(R.a)(e.gitTrackedFiles),[t.payload])});case"GIT_ACTION_UNTRACKED_FILES":return e.gitUntrackedFiles=[],Object(we.a)(Object(we.a)({},e),{},{gitUntrackedFiles:[].concat(Object(R.a)(e.gitUntrackedFiles),[t.payload])});default:return Object(we.a)({},e)}}function ke(e){var t=Object(n.useReducer)(Ce,{hcParams:{},presentRepo:[],modifiedGitFiles:[],globalRepoId:"",gitUntrackedFiles:[],gitTrackedFiles:[]}),a=Object(c.a)(t,2),s=a[0],i=a[1];return r.a.createElement("div",{className:"App w-full h-full overflow-hidden"},r.a.createElement(u.Provider,{value:{state:s,dispatch:i}},r.a.createElement(o.a,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:Oe}),r.a.createElement(l.a,{path:"/dashboard",component:ye}),r.a.createElement(l.a,{path:"/dashboard/repository",exact:!0,component:ye}),r.a.createElement(l.a,{path:"/dashboard/repository/*",component:ye})))))}a(92),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.536dc73a.chunk.js.map